define("metaserver/static/js/clean/open_in_mobile_app",["require","exports","tslib","react","dig-components/typography","metaserver/static/js/clean/clipboard_v3","metaserver/static/js/core/i18n","metaserver/static/js/clean/analytics","metaserver/static/js/core/browser","metaserver/static/js/core/browser_detection","metaserver/static/js/core/assert","typescript/component_libraries/spectrum-sharing/src/utils/sharing_constants"],(function(e,t,r,a,s,i,n,o,c,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cleanup=t.open_android_intent=t.open_ios=t.open_on_click=t.registerLoggingHandlers=t.CopyUrlLabelText=void 0,a=r.__importDefault(a),o=r.__importStar(o),c=r.__importStar(c),l=r.__importStar(l);function p(){return l.iOS&&(window.location.pathname.startsWith("/s/")||window.location.pathname.startsWith("/sh/")||window.location.pathname.startsWith("/scl/"))}t.CopyUrlLabelText=e=>p()?a.default.createElement(s.Text,Object.assign({color:"faint",tagName:"div"},e),n.intl.formatMessage({id:"EvntjN",defaultMessage:"Tapping Get the app will copy a link and open the content in the app"})):null,t.CopyUrlLabelText.displayName="CopyUrlLabelText";let m=void 0;let g=!1;let _=()=>{},f=()=>{};t.registerLoggingHandlers=(e,t)=>{_=e,f=t};t.open_on_click=(e,r,a,s,i,n)=>{const o=a=>{a.preventDefault(),n?(0,t.open_android_intent)(n):(0,t.open_ios)(e,r,s)};a&&a.addEventListener("click",o)};t.open_ios=(e,t,r)=>{return p()&&(0,i.copyToClipboard)(window.location.href),r?void(((null==(a=t)?void 0:a.startsWith("https://itunes.apple.com/"))||(null==a?void 0:a.startsWith("https://app.adjust.com/")))&&(f(),c.unsafeRedirect(a))):((e,t,r)=>{if(_(),g)return;let a=!1;m=()=>a=!0,document.addEventListener("visibilitychange",m);let s=!1;const i=()=>s=!0;window.addEventListener("pagehide",i),null!=r&&o.ShareTibEventLogger.log_unauth("CLICK_MOBILE_OPEN",u.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:r}),(function(){const t=document.createElement("iframe");t.src=e||"",t.style.display="none",document.body.append(t)})();const n=Date.now();setTimeout(()=>{g=!1,m&&document.removeEventListener("visibilitychange",m),window.removeEventListener("pagehide",i),!s&&!a&&Date.now()<n+4700&&(null!=r&&o.ShareTibEventLogger.log_unauth("CLICK_MOBILE_INSTALL",u.SHARE_ACTION_ORIGIN_TYPE.WEB_MOBILE,{scl_url:r}),t&&window.location.replace(t))},3200),g=!0})(e,t);var a};t.open_android_intent=e=>{(0,d.assert)(e.startsWith("intent://www.dropbox.com/sm/launch_intent_or_fallback_page"),"intentUrl must use intent:// protocol"),_&&_(),window.location.href=e};t.cleanup=()=>{if(m)return document.removeEventListener("visibilitychange",m)}})),define("metaserver/static/js/home/starred/conditional_interface",["require","exports","metaserver/static/js/starred/star","metaserver/static/js/home/recents/recent_activity_starred","metaserver/static/js/home/starred/starred_view","metaserver/static/js/starred/id_type_pair","metaserver/static/js/files_page/data/store","metaserver/static/js/files_page/data/action_creators","metaserver/static/js/starred/redux/store","metaserver/static/js/starred/redux/slice"],(function(e,t,r,a,s,i,n,o,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StarredActions=t.fetchMissingStarredStatuses=t.getStoreForStarred=t.filesPageAppInit=t.getStoreForFilesPage=t.idTypePairToString=t.StarredView=t.getIdTypePairFromRecentItem=t.Star=void 0,Object.defineProperty(t,"Star",{enumerable:!0,get:function(){return r.Star}}),Object.defineProperty(t,"getIdTypePairFromRecentItem",{enumerable:!0,get:function(){return a.getIdTypePairFromRecentItem}}),Object.defineProperty(t,"StarredView",{enumerable:!0,get:function(){return s.StarredView}}),Object.defineProperty(t,"idTypePairToString",{enumerable:!0,get:function(){return i.idTypePairToString}}),Object.defineProperty(t,"getStoreForFilesPage",{enumerable:!0,get:function(){return n.getStoreForFilesPage}}),Object.defineProperty(t,"filesPageAppInit",{enumerable:!0,get:function(){return o.appInit}}),Object.defineProperty(t,"getStoreForStarred",{enumerable:!0,get:function(){return c.getStoreForStarred}}),Object.defineProperty(t,"fetchMissingStarredStatuses",{enumerable:!0,get:function(){return l.fetchMissingStarredStatuses}}),Object.defineProperty(t,"StarredActions",{enumerable:!0,get:function(){return l.StarredActions}})})),define("metaserver/static/js/starred/star",["require","exports","tslib","classnames","react","react-redux","dig-components/icons","dig-components/icons/src","dig-components/tooltips","metaserver/static/js/components/ui/css","metaserver/static/js/starred/starred_activity_logger","metaserver/static/js/starred/redux/selectors","metaserver/static/js/starred/redux/slice","metaserver/static/js/starred/redux/types","metaserver/static/js/core/i18n","js/common/uuid"],(function(e,t,r,a,s,i,n,o,c,l,d,u,p,m,g,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Star=void 0,a=r.__importDefault(a),s=r.__importDefault(s);const f=({user:e,id:t,idType:r,isDir:l,source:f,itemName:v,onStarClick:S,tooltipPlacement:b,isReadOnly:y,isTabbing:h,tabIndex:j,starButtonClassName:E,alwaysShowUnstarred:T,ariaLabelledBy:L})=>{const P=(0,i.useSelector)(e=>(0,u.getFileStarredData)(e,t));let w=!1,O=!0;(null==P?void 0:P.loadingState)===m.StarredLoadingStateEnum.LOAD_SUCCESS&&(w=P.isStarred,O=!1);const[I]=s.default.useState(()=>(0,_.generateUUID)("star-")),A=(0,i.useDispatch)(),C=s.default.useMemo(()=>y?w?g.intl.formatMessage({id:"LAVXPn",defaultMessage:"Starred"}):null:w?g.intl.formatMessage({id:"XQNf7s",defaultMessage:"Remove from Starred"}):g.intl.formatMessage({id:"iGfiaV",defaultMessage:"Add to Starred"}),[w,y]),M=s.default.useCallback(a=>{if(a.stopPropagation(),a.preventDefault(),!O){const a=!w;d.starredActivityLogger.logClick(e,t,r,l,f,a),S&&S(a),A((0,p.updateStarredStatus)({id:t,idType:r,newStatus:a,itemName:v,showSnackbar:!0}))}},[O,w]);if(void 0===w)return null;if(y&&!w)return null;const R={star__toggle:!0,"star__toggle--starred":w,"star__toggle--unstarred":!w&&!h&&!T,"star__toggle--loading":O};return s.default.createElement(c.Tooltip,{title:C,placement:b||"top"},s.default.createElement("button",{className:(0,a.default)(R,E),role:"button","aria-pressed":w,"aria-label":C,onClick:M,onDoubleClick:M,disabled:y,tabIndex:j,id:I,"aria-labelledby":(0,a.default)(I,L)},s.default.createElement("span",{hidden:!0},C),s.default.createElement(n.UIIcon,{src:w?o.StarFill:o.StarLine})))};f.displayName="_Star",t.Star=(0,l.requireCssWithComponent)(f,["/static/metaserver/static/css/starred/star-vflRNeO9W.css"])})),define("metaserver/static/js/starred/starred_activity_logger",["require","exports","metaserver/static/js/home/api","metaserver/static/js/home/starred/constants","metaserver/static/js/starred/constants","metaserver/static/js/clean/web_user_action_logger","metaserver/static/js/clean/web_user_action_events"],(function(e,t,r,a,s,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.starredActivityLogger=t.StarredActivityLogger=void 0;const o=[s.StarredSource.HOME_STARRED,s.StarredSource.HOME_RECENTS];class c{logClick(e,t,s,c,l,d){if("BROWSE"===l)return Promise.resolve();const u=[];if(o.includes(l)){const i=d?a.StarredLoggingTypes.CLICK_STAR:a.StarredLoggingTypes.CLICK_UNSTAR;u.push((0,r.logHomeActivity)({eventName:i,role:e.role,extra:{resource_id:t,id_type:s,is_dir:c}}))}const p=d?n.WebUserActionLogEvent.STAR:n.WebUserActionLogEvent.REMOVE_STAR;return u.push(i.WebUserActionLog.log(e.id,p,{resource_id:t,id_type:s,is_dir:c,role:e.role,source:l})),Promise.all(u)}}t.StarredActivityLogger=c,t.starredActivityLogger=new c})),define("typescript/libraries/comments2/src/components/utils/to_percent",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toPercent=void 0,t.toPercent=function(e){return`${100*e}%`}})),define("typescript/libraries/comments2/src/components/annotation_utils",["require","exports","typescript/libraries/comments2/src/components/utils/to_percent"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isVideoAnnotation=t.toRectangleStyle=t.INTERSECTION_DELTA=void 0,t.INTERSECTION_DELTA=.02,t.toRectangleStyle=function({x:e,y:t,width:a,height:s}){return{top:(0,r.toPercent)(t),left:(0,r.toPercent)(e),width:(0,r.toPercent)(a),height:(0,r.toPercent)(s)}},t.isVideoAnnotation=function(e){return void 0!==e&&"video"===e.type}}));
//# sourceMappingURL=pkg-folder-overview-common.min.js-vflqrDb4n.map