define("metaserver/static/js/form_util/name_parser",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{static splitFullName(e){const t=e.split(" ");return[t[0],t.slice(1).join(" ")]}}})),define("metaserver/static/js/auth/register/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegisterFormEvent=void 0,(function(e){e.GOOGLE_REGISTER_CLICK="GOOGLE_REGISTER_CLICK",e.GOOGLE_REGISTER_SUCCESS="GOOGLE_REGISTER_SUCCESS",e.REGISTER_CLICK="REGISTER_CLICK",e.REGISTER_IMMEDIATE_SUCCESS="REGISTER_IMMEDIATE_SUCCESS"})(t.RegisterFormEvent||(t.RegisterFormEvent={}))})),define("metaserver/static/js/auth/login/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoginFormEvent=t.TwoFactorResendResponse=t.LoginResponseStatus=t.SsoState=t.SecurityKeyState=t.TwoFactorType=t.LoginRole=void 0,(function(e){e.ROLE_WORK="work",e.ROLE_PERSONAL="personal",e.ROLE_PHOTOS="photos",e.ROLE_BOTH="both"})(t.LoginRole||(t.LoginRole={})),(function(e){e[e.EMAIL=0]="EMAIL",e[e.SMS=1]="SMS",e[e.AUTHENTICATOR=2]="AUTHENTICATOR",e[e.SEC_KEY=3]="SEC_KEY"})(t.TwoFactorType||(t.TwoFactorType={})),(function(e){e[e.LOADING=0]="LOADING",e[e.FOUND=1]="FOUND",e[e.NOT_FOUND=2]="NOT_FOUND"})(t.SecurityKeyState||(t.SecurityKeyState={})),(function(e){e.OFF="off",e.OPTIONAL="optional",e.REQUIRED="required"})(t.SsoState||(t.SsoState={})),(function(e){e.DEVICE_LIMIT="DEVICE_LIMIT",e.OK="OK",e.SSO="SSO",e.TWOFACTOR="TWOFACTOR",e.TWOFACTOR_REQUIRED="TWOFACTOR_REQUIRED",e.RATELIMIT="RATELIMIT",e.PASSWORD_EXPIRED="PASSWORD_EXPIRED",e.EXPIRED="EXPIRED",e.ERROR="ERROR",e.REQUIRES_ROLE="REQUIRES_ROLE",e.INVALID_CREDENTIALS="INVALID_CREDENTIALS",e.PASSWORD_DECRYPTION_ERROR="PASSWORD_DECRYPTION_ERROR",e.TOS_SIGNATURE_REQUIRED="TOS_SIGNATURE_REQUIRED"})(t.LoginResponseStatus||(t.LoginResponseStatus={})),(function(e){e.OK="OK",e.RATELIMIT="RATELIMIT",e.UNREACHABLE="UNREACHABLE",e.EXPIRED="EXPIRED",e.BADCARRIER="BADCARRIER",e.INVALIDNUMBER="BADCARRIER",e.NOTAMOBILE="BADCARRIER"})(t.TwoFactorResendResponse||(t.TwoFactorResendResponse={})),(function(e){e.LOGIN_CLICK="LOGIN_CLICK",e.LOGIN_IMMEDIATE_SUCCESS="LOGIN_IMMEDIATE_SUCCESS",e.GOOGLE_LOGIN_CLICK="GOOGLE_LOGIN_CLICK",e.GOOGLE_LOGIN_SUCCESS="GOOGLE_LOGIN_SUCCESS",e.APPLE_LOGIN_CLICK="APPLE_LOGIN_CLICK",e.APPLE_LOGIN_SUCCESS="APPLE_LOGIN_SUCCESS"})(t.LoginFormEvent||(t.LoginFormEvent={}))})),define("metaserver/static/js/auth/common/captcha",["require","exports","tslib","classnames","react","metaserver/static/js/components/ui/css","metaserver/static/js/abuse/captcha_helper"],(function(e,t,r,a,s,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Captcha=t.CaptchaComponent=t.clear_captcha_response=t.handle_captcha_errors=t.get_captcha_responses=void 0,a=r.__importDefault(a),s=r.__importDefault(s),t.get_captcha_responses=function(e){const t=e.getWrappedComponent();return{"g-recaptcha-response":t.recaptcha_response,"funcaptcha-response":t.funcaptcha_response}},t.handle_captcha_errors=function(e,t,r){return e.getWrappedComponent().handle_captcha_errors(t,r)},t.clear_captcha_response=function(e){return e.getWrappedComponent().clear_captcha_response()};class c extends s.default.Component{constructor(e){super(e)}handle_captcha_errors(t,a){return!(!t||!t.funcaptcha_response)&&(new Promise((t,r)=>{e(["metaserver/static/js/abuse/funcaptcha_modal"],t,r)}).then(r.__importStar).then(({openFuncaptchaModal:e})=>{e(this.props.email||"",a||this.props.source,e=>{this.funcaptcha_response=e,this.props.onSubmit()},this.props.onReady)}),!0)}clear_captcha_response(){this.funcaptcha_response=void 0}componentDidMount(){(0,n.LoadRecaptcha)(void 0,!0)}render(){return s.default.createElement("div",{ref:"container_div",className:(0,a.default)({"recaptcha-v2-challenge-container":!0,"recaptcha-v2-challenge-container--invisible":!0})},s.default.createElement("div",{ref:"captcha_div",className:"recaptcha_v2_challenge"}))}submit(){this.clear_captcha_response(),this.props.onSubmit()}}t.CaptchaComponent=c,c.displayName="CaptchaComponent",t.Captcha=(0,o.requireCssWithComponent)(c,["/static/metaserver/static/css/recaptcha-vflIN6j39.css"])})),define("metaserver/static/js/auth/common/utils",["require","exports","tslib","metaserver/static/js/auth/login/types","metaserver/static/js/auth/register/types","metaserver/static/js/modules/constants/page_load","metaserver/static/js/core/i18n","metaserver/static/js/core/notify","metaserver/static/js/core/uri","metaserver/static/js/form_util/name_parser","metaserver/static/js/clean/marketing_tracker"],(function(e,t,r,a,s,o,n,c,E,i,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pushMarketingEvent=t.notifyCaptchaNotLoaded=t.twoFactorRecoveryUrl=t.getFormattedName=t.lastNameGoesFirst=t.genErrorId=t.generateId=void 0,i=r.__importDefault(i);t.generateId=e=>e+Math.random().toString().slice(2);t.genErrorId=e=>`${e}__input-error`;const p=["ja","ko","zh"];t.lastNameGoesFirst=()=>p.includes(o.USER_LOCALE.slice(0,2));t.getFormattedName=(e,r,a)=>{if(!a)return[e,r];const[s,o]=i.default.splitFullName(e);return(0,t.lastNameGoesFirst)()?o?[o,s]:[e,r]:[s,o]};t.twoFactorRecoveryUrl=(e,t)=>{const r=new E.URI({path:"/twofactor_recovery"});return e&&r.updateQuery({remember_me:e.toString()}),t&&!["/",""].includes(t)&&r.updateQuery({cont:t}),r.toString()};t.notifyCaptchaNotLoaded=()=>{c.Notify.warning(n.intl.formatMessage({id:"977N0X",defaultMessage:"Your browser appears to be blocking dropboxcaptcha.com, which is required for authentication. To resolve this issue, please update any anti-virus or ad-blocking software settings to allow connections to dropboxcaptcha.com."}))};t.pushMarketingEvent=(e,t)=>{let r;switch(e){case a.LoginFormEvent.LOGIN_CLICK:case a.LoginFormEvent.GOOGLE_LOGIN_CLICK:case a.LoginFormEvent.APPLE_LOGIN_CLICK:case s.RegisterFormEvent.REGISTER_CLICK:case s.RegisterFormEvent.GOOGLE_REGISTER_CLICK:if(!t)return;r={form_event:e},_.MarketingTracker.tryPushEvent("conversionDataReady",_.EventTypeEnum.Link,r);break;case a.LoginFormEvent.LOGIN_IMMEDIATE_SUCCESS:case a.LoginFormEvent.GOOGLE_LOGIN_SUCCESS:case a.LoginFormEvent.APPLE_LOGIN_SUCCESS:r=(0,_.getGAEventData)(_.MARKETING_LOGIN_EVENT,_.MARKETING_LOGIN_EVENT),_.MarketingTracker.tryPushEvent(_.MARKETING_LOGIN_EVENT,_.EventTypeEnum.Link,r);break;case s.RegisterFormEvent.REGISTER_IMMEDIATE_SUCCESS:case s.RegisterFormEvent.GOOGLE_REGISTER_SUCCESS:r=(0,_.getGAViewData)(_.MARKETING_REGISTER_EVENT,"ga_register_pageview","/virtual/ga_register_pageview"),_.MarketingTracker.tryPushEvent(_.MARKETING_REGISTER_EVENT,_.EventTypeEnum.View,r)}}}));
//# sourceMappingURL=pkg-login-and-register-pages-common.min.js-vflaaUawg.map