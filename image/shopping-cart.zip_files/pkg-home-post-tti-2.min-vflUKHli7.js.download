define("metaserver/static/js/teams/ui/team_discovery/data/logger",["require","exports","tslib","metaserver/static/js/clean/analytics","metaserver/static/js/core/browser","metaserver/static/js/growth/ui/teams_web_actions_logger_events","metaserver/static/js/onboarding/logging/team_joiner_pap_logging"],(function(e,t,n,i,a,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.AMPNamespace=t.TeamSuggestPageDesign=t.TeamJoinRequestOrigin=void 0,a=n.__importStar(a);var s,c;(function(e){e.Signup="signup",e.Preview="preview",e.Requests="requests",e.Pass="pass",e.ExistingViralInband="existing_viral_inband",e.SignupViralInband="signup_viral_inband",e.SignupViralLinksharing="signup_viral_linksharing",e.SurfaceExistingTeamHomepage="surface_existing_teams_homepage",e.ShareRequestAccessPage="share_request_access_page",e.TeamDiscoveryPageRefresh="team_discovery_page_refresh"})(s=t.TeamJoinRequestOrigin||(t.TeamJoinRequestOrigin={})),(function(e){e.New="new",e.Old="old"})(c=t.TeamSuggestPageDesign||(t.TeamSuggestPageDesign={})),(function(e){e.TEAM_DISCOVERY="team_discovery"})(t.AMPNamespace||(t.AMPNamespace={}));t.Logger=class{logAskToJoinEvent(e){const{teamId:t,userId:n,joinState:a,reason:r,origin:o,team_index:s,url:c,design:d,signupTag:u,preselectTeamId:l,numAskToJoin:m,numAutoJoin:p}=e;i.TeamsWebActionsLogger.log("clicked_req_to_join",{team_id:t,user_id:n,url:c,join_state:a,reason:r,origin:o,design:d,signup_tag:u,preselect_team_id:l,team_index:s+1,num_ask_to_join:m,num_auto_join:p})}logAskToJoinErrorEvent(e,t,n,a,r){i.TeamsWebActionsLogger.log("requested_access_to_team_error",{team_id:e,user_id:t,url:"team/discover/suggest",join_state:n,reason:a,origin:r})}logAcceptInvitation(e){(0,o.logEvent)(r.TeamJoinerLoggerEvents.CLICKED_ACCEPT_INVITE,"team_discovery_page",{team_id:e})}logTeamDiscoveryPageSeen(e,t,n){let s={};const c=[],d=[],u=[],l=[];for(const t of e)"request_approved"===t.joinTeamRequestState[".tag"]?c.push(t):"waiting_for_approval"===t.joinTeamRequestState[".tag"]?d.push(t):"can_auto_join"===t.joinTeamRequestState[".tag"]?u.push(t):"approval_required"===t.joinTeamRequestState[".tag"]&&l.push(t);s={has_pending_invite:!!t,has_outstanding_request:d.length>0,has_approved_request:c.length>0,num_auto_join:u.length,num_ask_to_join:l.length,verified:n,_tk:a.get_pathname(),url:a.get_uri().toString()},i.TeamsWebActionsLogger.log_for_category(r.TeamJoinerLoggerEvents.SAW_TEAM_PROMO_PAGE,i.TeamsWebActionsLogger.LOG_CATEGORY.PROMO_TEAMS,s),(0,o.logEvent)(r.TeamJoinerLoggerEvents.SAW_TEAM_PROMO_PAGE,"team_discovery_page",s,!1)}logClickCancelJoinRequest(e,t){i.TeamsWebActionsLogger.log("cancel_request_to_join",{num_team_members:t,origin:s.TeamDiscoveryPageRefresh,source:"team_discovery_page",team_id:e})}logClickStartNewTeamLink(){i.TeamsWebActionsLogger.log("clicked_create_team_cta")}logEmailVerificationModalShown(e,t){i.TeamsWebActionsLogger.log("email_verification_modal_shown",{user_id:e,team_id:t})}logEmailVerifiedSnackbarShown(e){i.TeamsWebActionsLogger.log("email_verified_snackbar_shown",{user_id:e})}logContinueToInstallEvent(e,t=!1){i.TeamsWebActionsLogger.log("surface_existing_team_continue_to_install",{user_id:e,url:"team/discover/suggest",is_cancel:t},()=>{},e)}logExposedToSETOnPreviewEvent(e,t,n,a,r,o,s){i.TeamsWebActionsLogger.log("exposed_to_set_on_preview",{team_id:r,user_id:e,url:"scl/fi/:sckey/:file_name",is_cdm_member:t,user_root_permissions:n,team_member_count:o,saw_ask_to_join:a,is_new_user:s},()=>{},e)}logClickedRequestToJoinEvent(e,t,n,a){i.TeamsWebActionsLogger.log("clicked_req_to_join",{team_id:e,user_id:t,url:"scl/fi/:sckey/:file_name",origin:n,is_new_user:a},()=>{},t)}logExposedToSETOnSignupPage(e,t,n,a,r,o,s,d){i.TeamsWebActionsLogger.log("exposed_to_set_on_signup_page",{design:c.New,origin:t,signup_tag:n,number_of_teams:a,preselect_team_id:r,member_to_fetch_limit:o,first_team_same_domain:s,first_team_tc:d},()=>{},e)}logExposedToSETOnSignupPageLoadingScreen(e,t){i.TeamsWebActionsLogger.log("exposed_to_set_on_signup_page_loading",{origin:t},()=>{},e)}logUserSelectedJoinableTeam(e,t,n,i,a){this._logUserJoinableTeamChoice("user_selected_joinable_team",e,t,n,i,a)}logUserUnselectedJoinableTeam(e,t,n,i,a){this._logUserJoinableTeamChoice("user_unselected_joinable_team",e,t,n,i,a)}_logUserJoinableTeamChoice(e,t,n,a,r,o){i.TeamsWebActionsLogger.log(e,{team_id:t,design:c.New,origin:a,signup_tag:r,preselect_team_id:o},()=>{},n)}}})),define("metaserver/static/js/teams/ui/team_discovery/data/model",["require","exports","tslib","lodash","metaserver/static/js/core/i18n"],(function(e,t,n,i,a){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.toTeamInvite=t.toJoinableTeam=t.Pages=t.RequestState=t.JoinApiRetReasonToLabel=t.JoinApiV2RetReason=t.JoinApiRetReason=t.JoinApiResultEnum=void 0,i=n.__importStar(i),(function(e){e.RequestSent="request_sent",e.RequestNotSent="request_not_sent",e.CanJoin="can_join"})(t.JoinApiResultEnum||(t.JoinApiResultEnum={})),(function(e){e[e.Conflict=5]="Conflict"})(t.JoinApiRetReason||(t.JoinApiRetReason={})),(function(e){e.ExistsSameTeam="exists_same_team",e.ExistsDifferentTeam="exists_different_team",e.Conflict="conflict",e.MaxTeamSizeAchieved="max_team_size_achieved",e.Rejected="rejected",e.Other="other"})(t.JoinApiV2RetReason||(t.JoinApiV2RetReason={})),t.JoinApiRetReasonToLabel=function(e){return{request_sent:a.intl.formatMessage({id:"sQbTsQ",defaultMessage:"Request sent. Once it’s approved, you’ll get an invite from the team."}),exists_same_team:a.intl.formatMessage({id:"oZNXJZ",defaultMessage:"Looks like you’ve already asked to join this team."}),exists_different_team:a.intl.formatMessage({id:"mHIpiE",defaultMessage:"Looks like you already asked to join a different team."}),rejected:a.intl.formatMessage({id:"H8TlMC",defaultMessage:"Looks like this team already denied your request."}),max_team_size_achieved:a.intl.formatMessage({id:"dEJ+SP",defaultMessage:"Looks like this team size has already been reached"})}[e]||a.intl.formatMessage({id:"s86tt6",defaultMessage:"Couldn’t send request. Try asking to join in person."})},(function(e){e.Sending="sending",e.PendingApproval="pending_approval",e.Joined="joined"})(r=t.RequestState||(t.RequestState={})),(function(e){e.Suggest="TeamDiscovery/Suggest",e.Confirm="TeamDiscovery/Confirm"})(t.Pages||(t.Pages={})),t.toJoinableTeam=function(e){return{dbxTeamId:e.dbx_team_id,id:e.team_id,name:e.team_name,adminsCount:e.admins_count,membersCount:e.members_count,requestState:e.pending_request?r.PendingApproval:void 0,joinTeamRequestState:e.join_request_state,joinRequestStateDate:e.join_request_state_date,isSameDomain:e.is_same_domain,isCollaborator:e.is_collaborator,sharedFolderCount:e.shared_folder_count,sharedFileCount:e.shared_file_count,lastShareTimestamp:e.last_share_timestamp,members:i.map(e.members,e=>({memberId:e.member_id,name:e.member_name,isAdmin:e.is_admin,avatarURL:e.photo_url}))}},t.toTeamInvite=function(e){return null==e?null:{teamId:e.team_id,userName:e.inviting_user_name,signupKey:e.signup_key,isNewInviteLinkInvitation:e.is_new_invite_link_invitation}}})),define("metaserver/static/js/teams/ui/team_discovery/data/utils",["require","exports","tslib","react","metaserver/static/js/core/i18n","dig-components/avatar"],(function(e,t,n,i,a,r){"use strict";function o(e,t,n){const i=a.intl.formatMessage({id:"Om3b8J",defaultMessage:"{remainder, plural, =0{{adminName}} one{{adminName} + {remainder} more} few{{adminName} + {remainder} more} other{{adminName} + {remainder} more}}"},{adminName:e,remainder:t-1});return n?a.intl.formatMessage({id:"LQZIyx",defaultMessage:"{teamAdminCount, plural, one{Admin: {adminList}} other{Admins: {adminList}}}"},{teamAdminCount:t,adminList:i}):a.intl.formatMessage({id:"T2wYhx",defaultMessage:"{teamAdminCount, plural, one{Team admin: {adminList}} other{Team admins: {adminList}}}"},{teamAdminCount:t,adminList:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedContentCountsText=t.toFacepileMember=t.MemberFacepileItem=t.getLastShareTimeStr=t.getSharedFolderCountStr=t.getAdminNamesStrForTeam=t.getAdminNamesStr=t.shouldShowTeamCollabContext=t.preselectTeam=void 0,i=n.__importDefault(i),t.preselectTeam=function(e,t,n){const i=e[0],a=1===e.length,r=t&&n&&i&&i.dbxTeamId===n;return a||r?i:void 0},t.shouldShowTeamCollabContext=function(e){return Array.isArray(e)||(e=[e]),e.length>0&&e.every(e=>void 0!==e.sharedFolderCount)},t.getAdminNamesStr=o,t.getAdminNamesStrForTeam=function(e,t){return o((function(e){const t=e.members.find(e=>e.isAdmin);if(void 0===t)throw new Error("No admin on team given to team card");return t.name})(e),e.adminsCount,t)},t.getSharedFolderCountStr=function(e){return a.intl.formatMessage({id:"8Izk7L",defaultMessage:"Shared {sharedFolderCount} {sharedFolderCount, plural, one {folder} other {folders}} with you"},{sharedFolderCount:e})},t.getLastShareTimeStr=function(e){return a.intl.formatMessage({id:"1Yl7QT",defaultMessage:"Last worked together {lastShareDate, date, medium}"},{lastShareDate:new Date(1e3*e)})};t.MemberFacepileItem=e=>{const{member:t}=e;return i.default.createElement(r.Facepile.Item,{backgroundColor:(0,r.avatarColorForUserIdentifier)(t.name),src:t.avatarURL},t.name.charAt(0))},t.MemberFacepileItem.displayName="MemberFacepileItem",t.toFacepileMember=function(e){return{memberKey:e.memberId.toString(),active:!0,alt:null,avatarColorSeed:e.memberId.toString(),initials:e.name.charAt(0),photoUrl:void 0===e.avatarURL?null:e.avatarURL,tooltipContent:i.default.createElement("div",null,e.name)}},t.getSharedContentCountsText=function(e){var t,n;const i=(null!==(t=e.sharedFolderCount)&&void 0!==t?t:0)>0,r=(null!==(n=e.sharedFileCount)&&void 0!==n?n:0)>0,{sharedContextText:o,getFolderInfoText:s,getFileInfoText:c}={sharedContextText:a.intl.formatMessage({id:"VbL6qJ",defaultMessage:"Shared with you:"}),getFolderInfoText:e=>a.intl.formatMessage({id:"RUN5MW",defaultMessage:"{folderCount, plural, one {# folder} other {# folders}}"},{folderCount:e.sharedFolderCount}),getFileInfoText:e=>a.intl.formatMessage({id:"7Ql6Hu",defaultMessage:"{fileCount, plural, one {# file} other {# files}}"},{fileCount:e.sharedFileCount})};return i&&r?`${o} ${s(e)}, ${c(e)}`:i?`${o} ${s(e)}`:r?`${o} ${c(e)}`:null}})),define("spectrum/tabbed_header/index",["require","exports","tslib","spectrum/tabbed_header/tabbed_header","spectrum/tabbed_header/tab"],(function(e,t,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(i,t),n.__exportStar(a,t)})),define("spectrum/tabbed_header/tab",["require","exports","tslib","classnames","react","react-aria-tabpanel"],(function(e,t,n,i,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tab=void 0,i=n.__importDefault(i),a=n.__importStar(a);t.Tab=e=>{const{children:t,className:o,id:s,ref:c}=e,d=n.__rest(e,["children","className","id","ref"]),u=(0,i.default)("mc-tabbed-header-tab",o);return a.createElement(r.Tab,Object.assign({id:s,tag:"div",className:u,ref:c},d),({isActive:e})=>{const n=(0,i.default)("mc-tabbed-header-tab-content",{"mc-tabbed-header-tab-content-selected":e});return[a.createElement("span",{key:"space",className:"mc-tabbed-header-tab-content-space"},t),a.createElement("span",{key:"content",className:n},t)]})},t.Tab.displayName="Tab"})),define("spectrum/tabbed_header/tabbed_header",["require","exports","tslib","react","react-aria-tabpanel"],(function(e,t,n,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TabbedHeader=void 0,i=n.__importStar(i);t.TabbedHeader=e=>{const{children:t,onSelection:r}=e,o=n.__rest(e,["children","onSelection"]);return i.createElement(a.Wrapper,Object.assign({className:"mc-tabbed-header",onChange:r},o),i.createElement(a.TabList,{tag:"ul",className:"mc-tabbed-header-list"},t&&i.Children.map(t,e=>i.createElement("li",{className:"mc-tabbed-header-item",key:e.key||void 0,role:"presentation"},e))))},t.TabbedHeader.displayName="TabbedHeader"})),define("metaserver/static/prod_assets_web_modules/react-aria-tabpanel",["react"],(function(e){"use strict";var t=(function(e){return e&&e.__esModule?e:{default:e}})(e),n={exports:{}};function i(){}function a(){}a.resetWarningCache=i,n.exports=(function(){function e(e,t,n,i,a,r){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n})();var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function c(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var d=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}})()?Object.assign:function(e,t){for(var n,i,a=c(e),d=1;d<arguments.length;d++){for(var u in n=Object(arguments[d]))o.call(n,u)&&(a[u]=n[u]);if(r){i=r(n);for(var l=0;l<i.length;l++)s.call(n,i[l])&&(a[i[l]]=n[i[l]])}}return a},u={},l=function(e,t,n,i,a,r,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,i,a,r,o,s],u=0;(c=new Error(t.replace(/%s/g,(function(){return d[u++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},m="mixins",p=t.default,g=function(e,t,n){var i=[],a={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},r={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},o={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)c(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=g(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){!(function(e,t){if(t)for(var n in t){var i=t[n];if(t.hasOwnProperty(n)){if(l(!(n in o),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var a=r.hasOwnProperty(n)?r[n]:null;return l("DEFINE_MANY_MERGED"===a,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=g(e[n],i))}e[n]=i}}})(e,t)},autobind:function(){}};function s(e,t){var n=a.hasOwnProperty(t)?a[t]:null;v.hasOwnProperty(t)&&l("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&l("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function c(e,n){if(n){l("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),l(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var i=e.prototype,r=i.__reactAutoBindPairs;for(var c in n.hasOwnProperty(m)&&o.mixins(e,n.mixins),n)if(n.hasOwnProperty(c)&&c!==m){var d=n[c],u=i.hasOwnProperty(c);if(s(u,c),o.hasOwnProperty(c))o[c](e,d);else{var p=a.hasOwnProperty(c);if("function"!=typeof d||p||u||!1===n.autobind)if(u){var f=a[c];l(p&&("DEFINE_MANY_MERGED"===f||"DEFINE_MANY"===f),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",f,c),"DEFINE_MANY_MERGED"===f?i[c]=g(i[c],d):"DEFINE_MANY"===f&&(i[c]=h(i[c],d))}else i[c]=d;else r.push(c,d),i[c]=d}}}}function p(e,t){for(var n in l(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(l(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function g(e,t){return function(){var n=e.apply(this,arguments),i=t.apply(this,arguments);if(null==n)return i;if(null==i)return n;var a={};return p(a,n),p(a,i),a}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function f(e,t){return t.bind(e)}var _={componentDidMount:function(){this.__isMounted=!0}},b={componentWillUnmount:function(){this.__isMounted=!1}},v={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},y=function(){};return d(y.prototype,e.prototype,v),function(e){var t=function(e,i,a){this.__reactAutoBindPairs.length&&(function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];e[i]=f(e,a)}})(this),this.props=e,this.context=i,this.refs=u,this.updater=a||n,this.state=null;var r=this.getInitialState?this.getInitialState():null;l("object"==typeof r&&!Array.isArray(r),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=r};for(var r in t.prototype=new y,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],i.forEach(c.bind(null,t)),c(t,_),c(t,e),c(t,b),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),l(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),a)t.prototype[r]||(t.prototype[r]=null);return t}};if(void 0===p)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var h=(new p.Component).updater,f=g(p.Component,p.isValidElement,h),_=function(e,t,n){for(var i in t)t.hasOwnProperty(i)&&(e[i]||n[i]||(e[i]=t[i]))},b=t.default,v=n.exports,y=f,T=_,E={children:v.oneOfType([v.node,v.func]).isRequired,id:v.string.isRequired,tag:v.string,role:v.string,index:v.number,active:v.bool,letterNavigationText:v.string},S=y({displayName:"AriaTabPanel-Tab",propTypes:E,getDefaultProps:function(){return{tag:"div",role:"tab"}},contextTypes:{atpManager:v.object.isRequired},getInitialState:function(){return{isActive:this.context.atpManager.memberStartsActive(this.props.id)||!1}},handleFocus:function(){this.context.atpManager.handleTabFocus(this.props.id)},handleRef:function(e){e&&(this.elRef=e,this.registerWithManager(this.elRef))},updateActiveState:function(e){this.setState({isActive:e})},registerWithManager:function(e){this.isRegistered||(this.isRegistered=!0,this.context.atpManager.registerTab({id:this.props.id,node:e,update:this.updateActiveState,index:this.props.index,letterNavigationText:this.props.letterNavigationText,active:void 0===this.props.active?this.state.isActive:this.props.active}))},unregisterWithManager:function(){var e=this.props;this.context.atpManager.unregisterTab(e.id)},render:function(){var e=this.props,t=void 0===e.active?this.state.isActive:e.active,n="function"==typeof e.children?e.children({isActive:t}):e.children,i={id:e.id,tabIndex:t?0:-1,onClick:this.handleClick,onFocus:this.handleFocus,role:e.role,"aria-selected":t,"aria-controls":this.context.atpManager.getTabPanelId(e.id),ref:this.handleRef};return T(i,e,E),b.createElement(e.tag,i,n)},componentWillUnmount:function(){this.unregisterWithManager()}}),A=t.default,M=n.exports,N=f,I=_,x={children:M.node.isRequired,tag:M.string,role:M.string},w=N({displayName:"AriaTabPanel-TabList",propTypes:x,getDefaultProps:function(){return{tag:"div",role:"tablist"}},render:function(){var e=this.props,t={role:e.role};return I(t,e,x),A.createElement(e.tag,t,e.children)}}),C=t.default,R=n.exports,D=f,P=_,j={children:R.oneOfType([R.node,R.func]).isRequired,tabId:R.string.isRequired,tag:R.string,role:R.string,active:R.bool},k=D({displayName:"AriaTabPanel-TabPanel",propTypes:j,getDefaultProps:function(){return{tag:"div",role:"tabpanel"}},contextTypes:{atpManager:R.object.isRequired},getInitialState:function(){return{isActive:this.context.atpManager.memberStartsActive(this.props.tabId)||!1}},handleKeyDown:function(e){e.ctrlKey&&"ArrowUp"===e.key&&(e.preventDefault(),this.context.atpManager.focusTab(this.props.tabId))},updateActiveState:function(e){this.setState({isActive:e})},registerWithManager:function(e){this.isRegistered||(this.isRegistered=!0,this.context.atpManager.registerTabPanel({node:e,update:this.updateActiveState,tabId:this.props.tabId}))},render:function(){var e=this.props,t=void 0===e.active?this.state.isActive||!1:e.active,n="function"==typeof e.children?e.children({isActive:t}):e.children,i=e.style||{};t||(i.display="none");var a={className:e.className,id:this.context.atpManager.getTabPanelId(e.tabId),onKeyDown:this.handleKeyDown,role:e.role,style:i,"aria-hidden":!t,"aria-describedby":e.tabId,ref:this.registerWithManager};return P(a,e,j),C.createElement(e.tag,a,n)}});function O(e){e=e||{},this._settings={forwardArrows:e.forwardArrows||["down"],backArrows:e.backArrows||["up"],wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}function F(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}O.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this},O.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this},O.prototype._handleKeydownEvent=function(e){if(-1!==this._getActiveElementIndex()){var t=(function(e){return"ArrowUp"===e.key||38===e.keyCode?"up":"ArrowDown"===e.key||40===e.keyCode?"down":"ArrowLeft"===e.key||37===e.keyCode?"left":"ArrowRight"===e.key||39===e.keyCode?"right":null})(e);if(t)return-1!==this._settings.forwardArrows.indexOf(t)?(e.preventDefault(),void this.moveFocusForward()):-1!==this._settings.backArrows.indexOf(t)?(e.preventDefault(),void this.moveFocusBack()):void 0;this._handleNonArrowKey(e)}},O.prototype.moveFocusForward=function(){var e,t=this._getActiveElementIndex();return e=t<this._members.length-1?t+1:this._settings.wrap?0:t,this.focusNodeAtIndex(e),e},O.prototype.moveFocusBack=function(){var e,t=this._getActiveElementIndex();return e=t>0?t-1:this._settings.wrap?this._members.length-1:t,this.focusNodeAtIndex(e),e},O.prototype._handleNonArrowKey=function(e){if(this._settings.stringSearch){if(""!==this._searchString&&(" "===e.key||32===e.keyCode))return e.preventDefault(),-1;if(!((t=e.keyCode)>=65&&t<=90))return-1;var t;if(e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}},O.prototype._clearSearchString=function(){this._searchString=""},O.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()},O.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout((function(){e._clearSearchString()}),this._settings.stringSearchDelay)},O.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)},O.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)},O.prototype.moveFocusByString=function(e){for(var t,n=0,i=this._members.length;n<i;n++)if((t=this._members[n]).text&&0===t.text.indexOf(e))return F(t.node)},O.prototype._findIndexOfNode=function(e){for(var t=0,n=this._members.length;t<n;t++)if(this._members[t].node===e)return t;return-1},O.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)},O.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&F(t.node),this},O.prototype.addMember=function(e,t){var n=e.node||e,i=e.text||n.getAttribute("data-focus-group-text")||n.textContent||"";return this._checkNode(n),e={node:n,text:i.replace(/[\W_]/g,"").toLowerCase()},null!=t?this._members.splice(t,0,e):this._members.push(e),this},O.prototype.removeMember=function(e){var t="number"==typeof e?e:this._findIndexOfNode(e);if(-1!==t)return this._members.splice(t,1),this},O.prototype.clearMembers=function(){return this._members=[],this},O.prototype.setMembers=function(e){this.clearMembers();for(var t=0,n=e.length;t<n;t++)this.addMember(e[t]);return this},O.prototype.getMembers=function(){return this._members},O.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e};function L(e){this.options=e;var t={wrap:!0,forwardArrows:["down","right"],backArrows:["up","left"],stringSearch:e.letterNavigation};this.focusGroup=(function(e){return new O(e)})(t),this.tabs=[],this.tabPanels=[],this.activeTabId=e.activeTabId}L.prototype.activate=function(){this.focusGroup.activate()},L.prototype.memberStartsActive=function(e){return this.activeTabId===e||void 0===this.activeTabId&&(this.activeTabId=e,!0)},L.prototype.registerTab=function(e){void 0===e.index?this.tabs.push(e):this.tabs.splice(e.index,0,e);var t=e.letterNavigationText?{node:e.node,text:e.letterNavigationText}:e.node;this.focusGroup.addMember(t,e.index);var n=this.activeTabId;(!this.activeTabId||e.active&&e.id!==this.activeTabId)&&(n=e.id),this.activateTab(n)},L.prototype.unregisterTab=function(e){var t,n;this.tabs&&this.tabs.length>0&&(this.tabs.forEach((function(i,a){i.id===e&&(t=a,n=i)})),n&&n.node&&(this.tabs.splice(t,1),this.focusGroup.removeMember(n.node)))},L.prototype.registerTabPanel=function(e){this.tabPanels.push(e),this.activateTab(this.activeTabId),this.activateTab(this.activeTabId||e.tabId)},L.prototype.activateTab=function(e){e!==this.activeTabId&&(this.activeTabId=e,this.options.onChange?this.options.onChange(e):(this.tabPanels.forEach((function(t){t.update(e===t.tabId)})),this.tabs.forEach((function(t){t.update(e===t.id)}))))},L.prototype.handleTabFocus=function(e){this.activateTab(e)},L.prototype.focusTab=function(e){var t=this.tabs.find((function(t){return t.id===e}));t&&t.node.focus()},L.prototype.destroy=function(){this.focusGroup.deactivate()},L.prototype.getTabPanelId=function(e){return e+"-panel"};var q=t.default,W=n.exports,J=f,Y=_,U={children:W.node.isRequired,activeTabId:W.string,letterNavigation:W.bool,onChange:W.func,tag:W.string};return{Tab:S,TabList:w,TabPanel:k,Wrapper:J({displayName:"AriaTabPanel-Wrapper",propTypes:U,getDefaultProps:function(){return{tag:"div"}},childContextTypes:{atpManager:W.object.isRequired},getChildContext:function(){return{atpManager:this.manager}},componentWillMount:function(){this.manager=(function(e){return new L(e)})({onChange:this.props.onChange,activeTabId:this.props.activeTabId,letterNavigation:this.props.letterNavigation})},componentWillUnmount:function(){this.manager.destroy()},componentDidMount:function(){this.manager.activate()},componentDidUpdate:function(e){e.activeTabId===this.manager.activeTabId&&e.activeTabId!==this.props.activeTabId&&this.manager.activateTab(this.props.activeTabId)},render:function(){var e=this.props,t={};return Y(t,e,U),q.createElement(e.tag,t,e.children)}})}}));
//# sourceMappingURL=pkg-home-post-tti-2.min.js-vfl2N6whU.map