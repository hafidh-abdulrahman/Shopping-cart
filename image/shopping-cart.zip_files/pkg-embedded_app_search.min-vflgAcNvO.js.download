define("metaserver/static/js/search/single_page/constants",["require","exports","metaserver/static/js/search/types","metaserver/static/js/core/i18n"],(function(t,e,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FILE_CATEGORIES_NO_PAPER=e.FILE_CATEGORIES_PAPER=e.SEARCH_MAX_NUM_PEOPLE_SUGGESTIONS_FOR_EMPTY_STATE=e.SEARCH_MAX_NUM_PEOPLE_SUGGESTIONS_TO_FETCH=e.SEARCH_POSTERIOR_QUERY_SUGGESTIONS_CAPACITY=e.SEARCH_TAB_HEIGHT=e.AMP_METRIC_RESULT_SUGGESTION_NETWORK_MS_BY_PROTOCOL=e.AMP_METRIC_RESULT_SUGGESTION_SERVER_MS_BY_PROTOCOL=e.AMP_METRIC_RESULT_SUGGESTION_REQUEST_MS_BY_PROTOCOL=e.AMP_METRIC_QUERY_FAILED_COUNT=e.AMP_METRIC_QUERY_SUGGESTION_NETWORK_MS=e.AMP_METRIC_QUERY_SUGGESTION_SERVER_MS=e.AMP_METRIC_QUERY_SUGGESTION_REQUEST_MS=e.AMP_METRIC_RESULT_SUGGESTION_TOTAL_LOAD_TIME_MS=e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_NETWORK_MS=e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_SERVER_MS=e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_REQUEST_MS=e.AMP_NAMESPACE_SEARCH_WEB=e.SEARCH_WEB_TIMER=e.SEARCH_HISTORY_DELAY=e.ACCOUNT_URL_REGEX=e.DELETED_FILES_URL_REGEX=e.COLLECTIONS_URL_REGEX=e.HOME_URL_REGEX=e.BACKUP_LANDING_URL_REGEX=e.BACKUP_BROWSE_URL_REGEX=e.AUTOMATIONS_URL_REGEX=e.REQUESTS_URL_REGEX=e.PHOTOS_URL_REGEX=e.SHARE_URL_REGEX=e.RECENTS_URL_REGEX=e.STARRED_URL_REGEX=e.BROWSE_URL_REGEX=e.SEARCH_URL_REGEX=e.SEARCH_URL_ROOT=e.SEARCH_SECOND_PAGE_DEBOUNCE=e.SEARCH_ADDITIONAL_PAGE_SIZE=e.SEARCH_DROPDOWN_PAGE_SIZE=e.SEARCH_MIN_PAGE_SIZE=e.SEARCH_FIRST_PAGE_SIZE=e.SEARCH_QUERY_SUGGESTIONS_DEBOUNCE=e.SEARCH_QUERY_DEBOUNCE=void 0,e.SEARCH_QUERY_DEBOUNCE=50,e.SEARCH_QUERY_SUGGESTIONS_DEBOUNCE=100,e.SEARCH_FIRST_PAGE_SIZE=10,e.SEARCH_MIN_PAGE_SIZE=e.SEARCH_FIRST_PAGE_SIZE,e.SEARCH_DROPDOWN_PAGE_SIZE=8,e.SEARCH_ADDITIONAL_PAGE_SIZE=50,e.SEARCH_SECOND_PAGE_DEBOUNCE=200,e.SEARCH_URL_ROOT="/search",e.SEARCH_URL_REGEX=/^\/search\//,e.BROWSE_URL_REGEX=/^\/(home|personal|work)/,e.STARRED_URL_REGEX=/^\/starred/,e.RECENTS_URL_REGEX=/^\/recents/,e.SHARE_URL_REGEX=/^\/share/,e.PHOTOS_URL_REGEX=/^\/photos/,e.REQUESTS_URL_REGEX=/^\/requests/,e.AUTOMATIONS_URL_REGEX=/^\/automations/,e.BACKUP_BROWSE_URL_REGEX=/^\/backups/,e.BACKUP_LANDING_URL_REGEX=/^\/backup\/all/,e.HOME_URL_REGEX=/^\/h([^\w]|$)/,e.COLLECTIONS_URL_REGEX=/^\/collections/,e.DELETED_FILES_URL_REGEX=/^\/deleted_files/,e.ACCOUNT_URL_REGEX=/^\/account/,e.SEARCH_HISTORY_DELAY=500,e.SEARCH_WEB_TIMER="single-page-search",e.AMP_NAMESPACE_SEARCH_WEB="search_web",e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_REQUEST_MS="result_suggestion_search_query_request_ms",e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_SERVER_MS="result_suggestion_search_query_server_ms",e.AMP_METRIC_RESULT_SUGGESTION_SEARCH_QUERY_NETWORK_MS="result_suggestion_search_query_network_ms",e.AMP_METRIC_RESULT_SUGGESTION_TOTAL_LOAD_TIME_MS="result_suggestions_total_load_time_ms",e.AMP_METRIC_QUERY_SUGGESTION_REQUEST_MS="query_suggestion_request_ms",e.AMP_METRIC_QUERY_SUGGESTION_SERVER_MS="query_suggestion_server_ms",e.AMP_METRIC_QUERY_SUGGESTION_NETWORK_MS="query_suggestion_network_ms",e.AMP_METRIC_QUERY_FAILED_COUNT="query_failed_count",e.AMP_METRIC_RESULT_SUGGESTION_REQUEST_MS_BY_PROTOCOL="result_suggestion_request_ms_by_protocol",e.AMP_METRIC_RESULT_SUGGESTION_SERVER_MS_BY_PROTOCOL="result_suggestion_server_ms_by_protocol",e.AMP_METRIC_RESULT_SUGGESTION_NETWORK_MS_BY_PROTOCOL="result_suggestion_network_ms_by_protocol",e.SEARCH_TAB_HEIGHT=40,e.SEARCH_POSTERIOR_QUERY_SUGGESTIONS_CAPACITY=3,e.SEARCH_MAX_NUM_PEOPLE_SUGGESTIONS_TO_FETCH=6,e.SEARCH_MAX_NUM_PEOPLE_SUGGESTIONS_FOR_EMPTY_STATE=5,e.FILE_CATEGORIES_PAPER=[{category:s.FileCategory.IMAGE,label:a.intl.formatMessage({id:"ZnS57e",defaultMessage:"Images"}),tooltip:a.intl.formatMessage({id:"AZvTRu",defaultMessage:"JPG, PNG, GIF, and more"}),icon:"image-small"},{category:s.FileCategory.FOLDER,label:a.intl.formatMessage({id:"U6qGE8",defaultMessage:"Folders"}),tooltip:a.intl.formatMessage({id:"rJEV8X",defaultMessage:"Dropbox folders"}),icon:"folder-small"},{category:s.FileCategory.VIDEO,label:a.intl.formatMessage({id:"AF+/tL",defaultMessage:"Video"}),tooltip:a.intl.formatMessage({id:"ZXY9/v",defaultMessage:"MOV, WMV, MP4, and more"}),icon:"video-small"},{category:s.FileCategory.PDF,label:a.intl.formatMessage({id:"lKbROR",defaultMessage:"PDFs"}),tooltip:a.intl.formatMessage({id:"s39/fs",defaultMessage:"PDF"}),icon:"pdf-small"},{category:s.FileCategory.DOCUMENT,label:a.intl.formatMessage({id:"EYw1Cy",defaultMessage:"Documents"}),tooltip:a.intl.formatMessage({id:"PFhg9W",defaultMessage:"DOC, DOCX, TXT, and more"}),icon:"txt-small"},{category:s.FileCategory.SPREADSHEET,label:a.intl.formatMessage({id:"GRyN3w",defaultMessage:"Spreadsheets"}),tooltip:a.intl.formatMessage({id:"IrhSVL",defaultMessage:"XLSX, XLS, CSV, and more"}),icon:"numbers-small"},{category:s.FileCategory.PRESENTATION,label:a.intl.formatMessage({id:"noyhQI",defaultMessage:"Presentations"}),tooltip:a.intl.formatMessage({id:"cHykwm",defaultMessage:"PPT, PPTX, KEY, and more"}),icon:"keynote-small"},{category:s.FileCategory.AUDIO,label:a.intl.formatMessage({id:"UYx/2r",defaultMessage:"Audio"}),tooltip:a.intl.formatMessage({id:"qT1l41",defaultMessage:"MP3, WAV, MID, and more"}),icon:"audio-small"},{category:s.FileCategory.PAPER,label:a.intl.formatMessage({id:"+rsEJ/",defaultMessage:"Paper docs"}),tooltip:a.intl.formatMessage({id:"iYnBgp",defaultMessage:"Dropbox Paper docs"}),icon:"paper-small"},{category:s.FileCategory.OTHER,label:a.intl.formatMessage({id:"MYByNv",defaultMessage:"Other"}),tooltip:a.intl.formatMessage({id:"tS6aDQ",defaultMessage:"Other file types"}),icon:"unknown-small"}],e.FILE_CATEGORIES_NO_PAPER=e.FILE_CATEGORIES_PAPER.filter(t=>t.category!==s.FileCategory.PAPER)})),define("metaserver/static/js/search/single_page/navigation",["require","exports","tslib","eventemitter3","metaserver/static/js/clean/browse_uri_interface","metaserver/static/js/core/transport/query_string_helpers","metaserver/static/js/search/single_page/constants","metaserver/static/js/core/browser","metaserver/static/js/core/i18n","metaserver/static/js/edison/ui/router_utils","metaserver/static/js/clean/history_singleton"],(function(t,e,s,a,i,r,E,_,o,l,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchNavigationManager=e.SearchNavigationManager=e.DESKTOP_FROM_PATHS=e.SEARCH_TITLE=void 0,a=s.__importDefault(a),e.SEARCH_TITLE=o.intl.formatMessage({id:"dcywUW",defaultMessage:"Search results - Dropbox"}),e.DESKTOP_FROM_PATHS=["assistant","collab_browse"];class R extends a.default{constructor(t,s){super(),this.lastHistoryMs=0,this.initialPath="",this.setSearchUrl=(t,s)=>{t!==this.document.location.pathname+this.document.location.search&&((0,l.shouldUseReactRouter)()?(0,n.getBrowserHistory)().replace(t):(this.returnTo||E.SEARCH_URL_REGEX.test(this.document.location.pathname)||(this.returnTo=this.document.location.pathname+this.document.location.search),s||this.shouldPushHistory()?this.window.history.pushState({},e.SEARCH_TITLE,t):this.window.history.replaceState({},e.SEARCH_TITLE,t),this.lastHistoryMs=(new Date).getTime(),this.previousTitle||(this.previousTitle=this.document.title,this.document.title=e.SEARCH_TITLE)))},this.setNonSearchUrl=t=>{this.shouldRedirect(t)?(0,_.redirect)(t):(0,l.shouldUseReactRouter)()?(0,n.getBrowserHistory)().push(t):(this.window.history.pushState({},this.previousTitle||"",t),this.emit("exit"),this.previousTitle&&(this.document.title=this.previousTitle,this.previousTitle=void 0))},this.handlePopState=()=>{E.SEARCH_URL_REGEX.test(this.document.location.pathname)?(this.lastHistoryMs=(new Date).getTime(),this.emit("update",(0,r.parseQueryString)(this.document.location.search))):this.shouldRedirect(this.document.location.pathname)?(0,_.reload)():this.emit("exit")},this.shouldPushHistory=()=>(new Date).getTime()-this.lastHistoryMs>=E.SEARCH_HISTORY_DELAY,this.shouldRedirect=t=>(!(0,l.shouldUseReactRouter)(this.initialPath)||!(0,l.shouldUseReactRouter)(t))&&((!E.HOME_URL_REGEX.test(this.initialPath)||!E.HOME_URL_REGEX.test(t))&&((!E.BROWSE_URL_REGEX.test(this.initialPath)||!E.BROWSE_URL_REGEX.test(t))&&((!E.STARRED_URL_REGEX.test(this.initialPath)||!E.STARRED_URL_REGEX.test(t))&&((!E.RECENTS_URL_REGEX.test(this.initialPath)||!E.RECENTS_URL_REGEX.test(t))&&((!E.SHARE_URL_REGEX.test(this.initialPath)||!E.SHARE_URL_REGEX.test(t))&&((!E.PHOTOS_URL_REGEX.test(this.initialPath)||!E.PHOTOS_URL_REGEX.test(t))&&((!E.REQUESTS_URL_REGEX.test(this.initialPath)||!E.REQUESTS_URL_REGEX.test(t))&&((!E.AUTOMATIONS_URL_REGEX.test(this.initialPath)||!E.AUTOMATIONS_URL_REGEX.test(t))&&((!E.BACKUP_BROWSE_URL_REGEX.test(this.initialPath)||!E.BACKUP_BROWSE_URL_REGEX.test(t))&&((!E.BACKUP_LANDING_URL_REGEX.test(this.initialPath)||!E.BACKUP_LANDING_URL_REGEX.test(t))&&((!E.COLLECTIONS_URL_REGEX.test(this.initialPath)||!E.COLLECTIONS_URL_REGEX.test(t))&&((!E.ACCOUNT_URL_REGEX.test(this.initialPath)||!E.ACCOUNT_URL_REGEX.test(t))&&(!E.DELETED_FILES_URL_REGEX.test(this.initialPath)||!E.DELETED_FILES_URL_REGEX.test(t)))))))))))))),this.document=t,this.window=s}get source(){return E.HOME_URL_REGEX.test(this.initialPath)?"home":E.BROWSE_URL_REGEX.test(this.initialPath)?"browse":E.STARRED_URL_REGEX.test(this.initialPath)?"starred":E.RECENTS_URL_REGEX.test(this.initialPath)?"recents":E.SHARE_URL_REGEX.test(this.initialPath)?"share":E.PHOTOS_URL_REGEX.test(this.initialPath)?"photos":E.REQUESTS_URL_REGEX.test(this.initialPath)?"requests":E.AUTOMATIONS_URL_REGEX.test(this.initialPath)?"automations":E.SEARCH_URL_REGEX.test(this.initialPath)?"search":E.BACKUP_LANDING_URL_REGEX.test(this.initialPath)||E.BACKUP_BROWSE_URL_REGEX.test(this.initialPath)?"backup":E.COLLECTIONS_URL_REGEX.test(this.initialPath)?"collections":E.DELETED_FILES_URL_REGEX.test(this.initialPath)?"deleted_files":E.ACCOUNT_URL_REGEX.test(this.initialPath)?"account":null}init(t,e){this.user=t,this.initialPath=this.document.location.pathname,(0,l.shouldUseReactRouter)()||"full-page"!=e||this.window.addEventListener("popstate",this.handlePopState)}load(){if(!(0,l.shouldUseReactRouter)()&&E.SEARCH_URL_REGEX.test(this.document.location.pathname)){this.emit("update",(0,r.parseQueryString)(this.document.location.search));const t=(0,r.parseQueryString)(this.document.location.search);t.search_from&&!E.SEARCH_URL_REGEX.test(t.search_from)&&-1===e.DESKTOP_FROM_PATHS.indexOf(t.search_from)&&(this.returnTo=t.search_from)}}setOnEnter(t){(0,l.shouldUseReactRouter)()||E.SEARCH_URL_REGEX.test(this.document.location.pathname)||this.set(t)}set(t,e){t&&(E.SEARCH_URL_REGEX.test(t)?this.setSearchUrl(t,e):this.setNonSearchUrl(t))}exit(){(0,l.shouldUseReactRouter)()||E.SEARCH_URL_REGEX.test(this.document.location.pathname)&&(this.returnTo&&!E.SEARCH_URL_REGEX.test(this.returnTo)||(this.returnTo=(0,i.get_browse_root)(this.user)),this.set(this.returnTo),this.returnTo=void 0)}}e.SearchNavigationManager=R,e.searchNavigationManager=new R(document,window)})),define("metaserver/static/js/maestro/responsive",["require","exports","tslib","react","spectrum/vertically_fixed/index"],(function(t,e,s,a,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticallyFixedWrapper=e.BREAKPOINT_LARGE=e.BREAKPOINT_MEDIUM=e.RESPONSIVE_CLASS=void 0,a=s.__importDefault(a),e.RESPONSIVE_CLASS="maestro--responsive",e.BREAKPOINT_MEDIUM="(min-width: 736px)",e.BREAKPOINT_LARGE="(min-width: 1025px)";class r extends a.default.Component{render(){const t=this.props,{responsive:e}=t,r=s.__rest(t,["responsive"]),E=e&&e.isResponsive?"div":i.VerticallyFixed;return a.default.createElement(E,r)}}e.VerticallyFixedWrapper=r,r.displayName="VerticallyFixedWrapper"})),define("metaserver/static/js/maestro/layout/secondary_sidebar",["require","exports","tslib","react","metaserver/static/js/maestro/responsive"],(function(t,e,s,a,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MaestroSecondarySidebar=void 0,a=s.__importDefault(a);class r extends a.default.Component{constructor(t){super(t),this.state={}}render(){return a.default.createElement(i.VerticallyFixedWrapper,{responsive:this.props.responsive,className:"maestro-secondary-sidebar"},this.props.children)}}e.MaestroSecondarySidebar=r,r.displayName="MaestroSecondarySidebar"})),define("metaserver/static/js/maestro/components/header_portal",["require","exports","tslib","classnames","react","react-dom","metaserver/static/js/components/ui/css","metaserver/static/js/core/browser","metaserver/static/js/sync_everything/constants"],(function(t,e,s,a,i,r,E,_,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MaestroPortal=e.doesRouteSupportPortals=e.addPathSupportingPortals=e.MaestroPortalElement=void 0,a=s.__importDefault(a),i=s.__importDefault(i),r=s.__importDefault(r);var l;(function(t){t.TITLE="maestro-title-portal",t.PROMPT="maestro-prompt-portal",t.TOP_MENU="maestro-top-menu-portal",t.NAV="maestro-nav-portal",t.CONTENT="maestro-content-portal",t.SIDEBAR="sidebar-portal",t.GLOBAL_HEADER="global-header-portal",t.CAMPAIGNS_TOOLKIT="campaigns-toolkit"})(l=e.MaestroPortalElement||(e.MaestroPortalElement={}));const n=["edison_test/home","edison_test/personal","edison_test/work","edison_test/starred","edison_test/recents","deleted_files","h","recents","home","work","personal","photos","search/personal","search/work","share","starred","requests","time_tracking","collections","automations","backups","backup/all","manage","manage/billing","manage/subscriptions","team/admin/security/passwords","signatures","contract_management"];function R(t=(0,_.get_pathname)()){return Boolean(n.find(e=>t===`/${e}`||0===t.indexOf(`/${e}/`)))}e.addPathSupportingPortals=function(t){n.includes(t)||R(t)||n.push(t)},e.doesRouteSupportPortals=R;const c=({element:t,chromeClass:e,scrollHandler:s,children:E})=>{i.default.useEffect(()=>((0,o.isBackupBrowse)()?document.body.style.setProperty("--maestro-left-nav-width","0px"):document.body.style.removeProperty("--maestro-left-nav-width"),()=>{document.body.style.removeProperty("--maestro-left-nav-width")}),[]);const _=i.default.useMemo(()=>(function(t,e){if(window.RUNNING_IN_REACTSERVER)return null;let s=document.getElementById("maestro-portal");const a=document.getElementById(l.CONTENT);if(!s){s=document.createElement("div"),s.setAttribute("id","maestro-portal"),s.setAttribute("class","maestro-portal");const t=document.createElement("div");t.setAttribute("id",l.PROMPT),t.setAttribute("class",l.PROMPT);const e=document.createElement("div");e.setAttribute("id",l.NAV),e.setAttribute("class",l.NAV);const a=document.createElement("div");a.setAttribute("id",l.TITLE),a.setAttribute("class",l.TITLE);const i=document.createElement("div");i.setAttribute("id",l.TOP_MENU),i.setAttribute("class",l.TOP_MENU);const r=document.createElement("div");r.setAttribute("id",l.CONTENT),r.setAttribute("class",l.CONTENT);const E=document.createElement("div");E.setAttribute("id",l.CAMPAIGNS_TOOLKIT),E.setAttribute("class",l.CAMPAIGNS_TOOLKIT),s.classList.add("global-header-exp"),document.body.classList.add("global-header--portaled");const _=document.createElement("div");_.setAttribute("id",l.GLOBAL_HEADER),_.setAttribute("class",l.GLOBAL_HEADER);const o=document.createElement("div");o.setAttribute("id",l.SIDEBAR),o.setAttribute("class",l.SIDEBAR),s.appendChild(t),s.appendChild(_),s.appendChild(e),s.appendChild(a),s.appendChild(r),s.appendChild(o),document.body.insertBefore(s,document.body.firstChild)}return a&&e&&a.addEventListener("scroll",(function(t){e(t)})),document.getElementById(t)})(t,s),[t]);return _?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:(0,a.default)(`${t}__shadow`)}),"boolean"==typeof RUNNING_IN_REACTSERVER?i.default.createElement("div",{className:e},E):r.default.createPortal(i.default.createElement("div",{className:e},E),_)):null};c.displayName="MaestroPortalWithoutCSS";const d=(0,E.requireCssWithComponent)(c,["/static/metaserver/static/css/maestro-nav/maestro-portal-vflDOGT4y.css"]);e.MaestroPortal=t=>R()?i.default.createElement(d,Object.assign({},t)):i.default.createElement(i.default.Fragment,null,t.children),e.MaestroPortal.displayName="MaestroPortal",e.MaestroPortal.displayName="MaestroPortal"})),define("metaserver/static/js/clean/ui/error_boundary",["require","exports","tslib","react"],(function(t,e,s,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ErrorBoundary=void 0,a=s.__importDefault(a);class i extends a.default.Component{constructor(){super(...arguments),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,e){this.props.onCatch(t,e)}render(){return this.state.hasError?a.default.createElement(a.default.Fragment,null,this.props.fallbackComponent):a.default.createElement(a.default.Fragment,null,this.props.children)}}e.ErrorBoundary=i,i.displayName="ErrorBoundary"}));
//# sourceMappingURL=pkg-embedded_app_search.min.js-vfl0h7iPw.map