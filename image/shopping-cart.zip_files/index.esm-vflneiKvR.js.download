define(["exports","./index","react","./index.esm2","./index.esm3","./index.esm4"],(function(e,t,a,r,s,n){"use strict";function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(a){if("default"!==a){var r=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(t,a,r.get?r:{enumerable:!0,get:function(){return e[a]}})}})),t.default=e,Object.freeze(t)}var i=c(a),l=["var(--color__accent__ocean)","var(--color__accent__crimson)","var(--color__accent__rust)","var(--color__accent__canopy)","var(--color__accent__navy)","var(--color__accent__plum)","var(--color__accent__azalea)","var(--color__accent__gold)"];function o(){const e=Math.random().toString(36).slice(2);let t=5381*e.length;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<6)+(t<<16)-t);return t=Math.abs(t),l[t%l.length]}function d(e){let t=5381*(e=e||Math.random().toString(36).slice(2)).length;for(let a=0;a<e.length;a++)t=e.charCodeAt(a)+((t<<6)+(t<<16)-t);return t=Math.abs(t),l[t%l.length]}var u=({backgroundColor:e,className:a,children:n,src:c,srcSet:l,alt:d,size:u="standard",isInactive:m=!1,hasNoOutline:v=!1,isGuest:g=!1,..._})=>{const[f,h]=i.useState(!1),[b,N]=i.useState("");""===b&&N(o()),e=g?b:e;const p=(c||l)&&!f,A=n&&"number"==typeof n,x=t.classNames106(a,"dig-Avatar",`dig-Avatar--${u}`,{"dig-Avatar--hasNoOutline":v,"dig-Avatar--withImage":p,"dig-Avatar--isGuest":g}),y=t.classNames106({"dig-Avatar-image":!0,"dig-Avatar-image--isInactive":m}),C=t.classNames106({"dig-Avatar-text":!0,"dig-Avatar-text--isInactive":m,"dig-Avatar-text--isNumber":A}),S=A||m?{}:{background:`${e}`},I="small"===u?"xsmall":u;return i.createElement("div",{className:x,"aria-label":d,..._},g&&i.createElement(s.PersonFill,{className:"dig-Avatar-image--isGuest"}),p?i.createElement("img",{alt:d,className:y,src:c,onError:()=>h(!0),srcSet:l}):i.createElement(r.Text,{size:I,className:C,inverse:!A,isBold:!0,style:S},n))};u.displayName="Avatar";var m={size:"standard",items:new Set,getIndex:()=>-1,add:()=>!1,remove:()=>!1},v=i.createContext(m),g=i.forwardRef((({children:e,backgroundColor:a,src:r,srcSet:s,className:c,style:l,isInactive:m,isGuest:g=!1,..._},f)=>{const[h,b]=i.useState(-1),N=i.useRef(null),{size:p,getIndex:A,add:x,remove:y}=i.useContext(v),C=a||d(h.toString()),[S,I]=i.useState("");""===S&&I(o()),a=g?S:a;const E=t.classNames106("dig-Facepile-item",c);return i.useImperativeHandle(f,(()=>({getBoundingClientRect:()=>N.current&&N.current.getBoundingClientRect()})),[N]),i.useEffect((()=>(x(N),()=>y(N))),[N,x,y]),i.useEffect((()=>{b(A(N))}),[A]),i.createElement(n.StylelessButton,{ref:N,className:E,style:l,..._},g?i.createElement(u,{size:p,isGuest:g}):i.createElement(u,{size:p,backgroundColor:C,src:r,srcSet:s,isInactive:m},e))}));g.displayName="Item";var _=({children:e,size:a="standard"})=>{const[r,s]=i.useState(new Set),n=i.useCallback((e=>{if(!e)return-1;return Array.from(r.values()).indexOf(e.current)}),[r]),c=i.useCallback((e=>{e&&s(r.add(e.current))}),[r]),l=i.useCallback((e=>{if(!e)return;r.delete(e.current)&&s(r)}),[r]),o={size:a,items:r,getIndex:n,add:c,remove:l},d=t.classNames106("dig-Facepile",`dig-Facepile--${a}`);return i.createElement(v.Provider,{value:o},i.createElement("div",{className:d},i.Children.toArray(e).reverse()))};_.Item=g,_.displayName="Facepile";var f=Object.freeze({__proto__:null,Avatar:u,Facepile:_,avatarColorForUserIdentifier:d});e.Avatar=u,e.Facepile=_,e.avatarColorForUserIdentifier=d,e.index_esm=f}));
//# sourceMappingURL=index.esm.js-vflWxK_3p.map
