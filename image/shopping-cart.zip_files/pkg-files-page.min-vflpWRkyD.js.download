define("metaserver/static/js/maestro_nav/footer_v2",["require","exports","tslib","dig-components/typography","react","metaserver/static/js/core/i18n","metaserver/static/js/core/xhr","metaserver/static/js/clean/viewer"],(function(e,t,a,r,s,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FooterV2=void 0,s=a.__importDefault(s);t.FooterV2=()=>{const e=o.intl.formatMessage({id:"C/RXtT",defaultMessage:"Privacy and legal"});return s.default.createElement("footer",{className:"footer-v2"},s.default.createElement("div",{className:"footer-link-holder"},s.default.createElement(r.Link,{href:"/privacy",variant:"monochromatic",hasNoUnderline:!0,onClick:()=>(0,i.sendXhr)("/teamswalogger",{event_name:"footer_button_clicked",extra:JSON.stringify({button_id:"privacy"}),for_uids:JSON.stringify(n.Viewer.get_viewer().get_users().map(e=>e.id))}),target:"_blank",rel:"noreferrer"},e)))},t.FooterV2.displayName="FooterV2"})),define("metaserver/static/js/maestro_nav/maestro_nav",["require","exports","tslib","classnames","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","metaserver/static/js/maestro_nav/shared_code/api","metaserver/static/js/maestro_nav/shared_code/maestro_sidebar","metaserver/static/js/maestro_nav/shared_code/strings","metaserver/static/js/maestro/layout/global_header/events","metaserver/static/js/clean/viewer","metaserver/static/js/core/browser","metaserver/static/js/clean/navigation","metaserver/static/js/deprecated_ajax/ajax","metaserver/static/js/clean/web_timing_logger","metaserver/static/js/clean/analytics","metaserver/static/js/metrics/index","metaserver/static/js/maestro/components/header_portal","metaserver/static/js/maestro_nav/shared_code/maestro_context","metaserver/static/js/search/single_page/navigation","metaserver/static/js/maestro_nav/footer_v2","metaserver/static/js/maestro_nav/util/nav_utils","metaserver/static/js/maestro_nav/util/hoc","metaserver/static/js/appshell/account"],(function(e,t,a,r,s,o,i,n,c,l,d,u,m,_,v,p,f,g,E,h,N,y,b,P,O,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootComponent=t.MaestroNavWithWrapper=t.MaestroNav=t.MaestroNavCurtain=t.MaestroNavToggle=void 0,r=a.__importDefault(r),s=a.__importDefault(s),_=a.__importStar(_),p=a.__importStar(p),f=a.__importStar(f);t.MaestroNavToggle=({onClick:e,navToggleAriaLabel:t})=>s.default.createElement(h.MaestroPortal,{element:h.MaestroPortalElement.NAV},s.default.createElement(o.IconButton,{className:"maestro_nav__toggle",onClick:e,size:"standard",variant:"transparent","aria-label":t},s.default.createElement(i.UIIcon,{src:n.ListViewLine}))),t.MaestroNavToggle.displayName="MaestroNavToggle";t.MaestroNavCurtain=e=>s.default.createElement("button",{className:"maestro_nav__curtain",onClick:e.onClick,"aria-label":e.navToggleAriaLabel});class I extends s.default.Component{constructor(t){super(t),this.navigateToUrl=e=>{_.redirect(e)},this.handleNavToggle=()=>{this.setState({isExpanded:!this.state.isExpanded})},this.handleNavigationClick=(t,r)=>{if(r.isBlocked)switch(r.blockerModule){case"metaserver/static/js/teams/locked_team_nav_blocker":return new Promise((t,a)=>{e(["metaserver/static/js/teams/locked_team_nav_blocker"],t,a)}).then(a.__importStar).then(({blocker:e})=>e.blockNav(r)),void t.preventDefault();default:return}if("admin"===r.uniqueName&&g.TeamsWebActionsLogger.log("home_page_admin_console_tab_clicked"),"adminMembers"===r.uniqueName&&g.TeamsWebActionsLogger.log("admin_console_page_members_tab_clicked"),v.navigationActionDispatcher.dispatch({id:r.uniqueName,method:(0,v.getNavigationMethod)(t),url:r.url,details:r}))return t.preventDefault(),void y.searchNavigationManager.emit("exit")},this.logRedBadgeRendered=()=>{if("Feature"===this.getNavType()&&this.state.activeProduct){g.TeamsWebActionsLogger.log("admin_console_page_members_tab_badged");const e=(0,E.getMetricsReporter)().child({origin:"Members"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"});e.increment(1),e.record()}else{g.TeamsWebActionsLogger.log("home_page_admin_console_tab_badged");const e=(0,E.getMetricsReporter)().child({origin:"Admin Console"}).createCounter({ns:"team_discovery",name:"web/admin_console_badging"});e.increment(1),e.record()}};const{products:r,viewerInfo:s}=t,o=(0,A.computeFeatureBaseUrlFromUrl)(window.location.href).getPath(),i=(0,P.getActiveProduct)(r,o),n=(0,P.getActiveFeature)(i,o);this.state={isExpanded:!1,products:r,viewerInfo:s,activeProduct:i,activeFeature:n,numRequestsAndSuggestions:0}}componentDidMount(){u.globalHeaderBufferedEventEmitter.on(u.NAV_TRIGGER_CLICK,this.handleNavToggle);const e=(0,A.computeFeatureBaseUrlFromUrl)(window.location.href).getPath(),t=(0,P.getActiveProduct)(this.props.products,e);(0,c.fetchNavData)(this.props.activeAccountId,t?t.uniqueName:null,(t,a)=>{const r=window.performance&&window.location.search.indexOf("show_debug_spans")>-1;r&&window.performance.mark("MaestroNav data setState start"),a=a||this.state.viewerInfo;const{activeProduct:s,activeFeature:o}=(0,P.getActiveProductAndFeature)(t,e);this.setState({products:t,viewerInfo:a,activeProduct:s,activeFeature:o},()=>{r&&(window.performance.mark("MaestroNav data setState end"),window.performance.measure("MaestroNav data setState","MaestroNav data setState start","MaestroNav data setState end"))}),t.map(e=>{e.redNotification&&f.waitForTTI().then(()=>{p.SilentBackgroundRequest({url:"/team/admin/fetch_num_membership_requests_and_suggestions",subject_user:m.Viewer.get_viewer().work_user,success:(e,t)=>{this.setState({numRequestsAndSuggestions:Number(t)})}})})})})}setTitle(e,t){t&&t.pageTitle?document.title=t.pageTitle:e&&e.pageTitle&&(document.title=e.pageTitle)}productHasFeatures(e){return!!e&&e.features.length>0}getNavType(){return this.productHasFeatures(this.state.activeProduct)?"Feature":"Product"}componentWillUnmount(){u.globalHeaderBufferedEventEmitter.removeListener(u.NAV_TRIGGER_CLICK,this.handleNavToggle)}render(){const e=this.getNavType();this.setTitle(this.state.activeProduct,this.state.activeFeature);const a=s.default.createElement("div",{className:(0,r.default)({"maestro-nav__expanded":this.state.isExpanded,"maestro-nav__useDigHeader":!0})},s.default.createElement(t.MaestroNavCurtain,{onClick:this.handleNavToggle,navToggleAriaLabel:(0,d.navToggleAriaLabel)()}),s.default.createElement(l.MaestroSidebar,{activeFeature:this.state.activeFeature,activeProduct:this.state.activeProduct,onNavigationClick:this.handleNavigationClick,products:this.state.products,navType:e,navigateToUrl:this.navigateToUrl,viewerInfo:this.state.viewerInfo,footer:s.default.createElement(b.FooterV2,null)})),{activeProduct:o,activeFeature:i,numRequestsAndSuggestions:n}=this.state,c={activeProduct:o,activeFeature:i,logRedBadgeRendered:this.logRedBadgeRendered,numRequestsAndSuggestions:n};return s.default.createElement(N.MaestroContext.Provider,{value:c},s.default.createElement(h.MaestroPortal,{chromeClass:"maestro-nav__offset-container",element:h.MaestroPortalElement.NAV},a))}}t.MaestroNav=I,I.displayName="MaestroNav";const T=(0,O.withStore)(I);t.MaestroNavWithWrapper=T;const j=(0,O.withCss)(T);t.RootComponent=e=>s.default.createElement(j,Object.assign({},e))})),define("metaserver/static/js/maestro_nav/shared_code/api",["require","exports","metaserver/static/js/maestro_nav/shared_code/constants"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchNavData=void 0,t.fetchNavData=function(e,t,r){const s=new XMLHttpRequest;let o=`https://${a.WWW_HOST}/nav_menu?_subject_account_id=${e}&nav_data_version=5`;t&&(o+=`&product=${t}`),s.open("GET",o,!0),s.withCredentials=!0,s.onload=()=>{if(!(s.status>=200&&s.status<400))throw new Error(`Error status ${s.status} returned from /nav_menu`);try{const e=JSON.parse(s.responseText);r(e.products,e.viewerInfo)}catch(e){throw new Error(`Error "${String(e)}" JSON parsing "${s.responseText}" (status: ${s.status})`)}},s.onerror=e=>{const{message:t,colno:a,filename:r,lineno:s}=e,o={message:t,colno:a,filename:r,lineno:s};throw new Error(`Error calling /nav_menu. "${JSON.stringify(o)}"`)},s.send()}})),define("metaserver/static/js/maestro_nav/shared_code/feature-nav",["require","exports","tslib","classnames","react","metaserver/static/js/maestro_nav/shared_code/lock_icon","metaserver/static/js/user_education/react/user_education_effect","metaserver/static/js/maestro_nav/shared_code/left_arrow_icon","metaserver/static/js/maestro_nav/shared_code/maestro_context","metaserver/static/js/maestro_nav/shared_code/notification_badge","dig-components/badges","dig-components/badges","metaserver/static/js/maestro_nav/shared_code/constants"],(function(e,t,a,r,s,o,i,n,c,l,d,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureNav=void 0,r=a.__importDefault(r),s=a.__importDefault(s);const _=(e,t)=>{if(e&&e.uniqueName)for(const a of t)if(a.subNavItems)for(const t of a.subNavItems)if(t.uniqueName===e.uniqueName)return{[a.uniqueName]:!0};return{}},v=({superscriptText:e,superscriptType:t})=>t===m.SUPERSCIRPT_TYPE_NOTIFICATION_BADGE?s.default.createElement(d.NotificationBadge,{id:"notification_badge",className:"maestro-nav__feature-badge"},e):s.default.createElement(u.AccessoryBadge,{id:"accessory_badge",className:"maestro-nav__feature-badge"},e);v.displayName="DisplaySuperscript";t.FeatureNav=({activeFeature:e,activeProduct:t,features:a,onNavigationClick:d})=>{const{numRequestsAndSuggestions:u}=s.default.useContext(c.MaestroContext)||{},[m,p]=s.default.useState(_(e,a));s.default.useEffect(()=>{p(_(e,a))},[e,a]);const f=e=>g(e)?t=>{E(e.uniqueName),t.target.blur()}:t=>d(t,e),g=e=>e.subNavItems&&e.subNavItems.length>0,E=e=>{const t=h(e),a=Object.assign(Object.assign({},m),{[e]:!t});p(a)},h=e=>!0===m[e],N=void 0!==t.redNotification&&t.redNotification&&(null==e||"adminMembers"!==e.uniqueName)&&!!u,y="admin"===t.uniqueName,b=(0,r.default)({"maestro-nav__features-header-link":!0,"maestro-nav__features-header-link-with-fontfamily":y});return s.default.createElement("ul",{className:"maestro-nav__features"},s.default.createElement("li",null,s.default.createElement("h2",{className:"maestro-nav__features-header"},s.default.createElement("a",{href:t.url,onClick:(P=t,e=>d(e,P)),className:b},t.displayName))),a.map((t,a)=>{var c,d,u;const m=t.url,_=t.subNavItems&&t.subNavItems.length>0,p=h(t.uniqueName),g=_&&(null===(c=t.subNavItems)||void 0===c?void 0:c.every(e=>!!(null==e?void 0:e.displaySuperscript))),E=_&&(null===(d=t.subNavItems)||void 0===d?void 0:d.every(e=>!(null==e?void 0:e.displaySuperscript))),y=t.displaySuperscript&&(g||E||!_),b=_&&t.displaySuperscript&&!p&&!y,P=t===e||_&&!p&&-1!==t.subNavItems.indexOf(e),O=(0,r.default)({"maestro-nav__feature":!0,"maestro-nav__active-feature":P,"maestro-nav__blocked-feature":t.isBlocked});return s.default.createElement("li",{key:m},s.default.createElement("div",{className:"maestro-nav__feature-wrap"},s.default.createElement(i.UserEducationEffect,{containerName:"FeatureNav",name:t.uniqueName,useSpan:!0},s.default.createElement("a",{href:t.isBlocked||_?"#":m,className:O,onClick:f(t),"data-trackingid":`feat-${t.uniqueName}`},t.displayName,y&&s.default.createElement(v,{superscriptText:null!==(u=t.displaySuperscript)&&void 0!==u?u:"",superscriptType:t.displaySuperscriptStyle}),t.isBlocked&&s.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),(b||"adminMembers"===t.uniqueName&&N)&&s.default.createElement(l.NotificationBadge,null),_&&s.default.createElement(n.LeftArrowIcon,{className:(0,r.default)({"maestro-nav__expand_feature":!p,"maestro-nav__collapse_feature":p})})))),p&&_&&t.subNavItems.map(t=>{const a=(0,r.default)({"maestro-nav__feature":!0,"maestro-nav__active-feature":t===e,"maestro-nav__blocked-feature":t.isBlocked});return s.default.createElement("div",{key:t.uniqueName,className:"maestro-nav__feature-wrapper maestro-nav__product-sup-item-wrapper"},s.default.createElement("a",{href:t.isBlocked?"#":t.url,className:a,onClick:f(t),"data-trackingid":`feat-${t.uniqueName}`},t.displayName,!y&&t.displaySuperscript&&s.default.createElement(v,{superscriptText:t.displaySuperscript}),t.isBlocked&&s.default.createElement(o.LockIcon,{className:"maestro-nav__lock"})))}))}));var P},t.FeatureNav.displayName="FeatureNav"})),define("metaserver/static/js/maestro_nav/shared_code/left_arrow_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LeftArrowIcon=void 0,r=a.__importDefault(r);t.LeftArrowIcon=e=>r.default.createElement("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1"}),r.default.createElement("title",null,e.alt||"Left arrow"),r.default.createElement("g",{id:"arrow",transform:"translate(-32.000000, -32.000000)"},r.default.createElement("g",{id:"arrow-left",transform:"translate(32.000000, 32.000000)"},r.default.createElement("polygon",{id:"Combined-Shape",points:"12.9497475 7.05000305 8 11.9997505 12.9497475 16.949498 14.363961 15.5352844 10.8284271 11.9997505 14.363961 8.46421661"}))))})),define("metaserver/static/js/maestro_nav/shared_code/lock_icon",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LockIcon=void 0,r=a.__importDefault(r);t.LockIcon=e=>r.default.createElement("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",role:"img",width:"8px",height:"10px",viewBox:"0 0 8 10"}),r.default.createElement("title",null,e.alt||"Lock"),r.default.createElement("g",{"fill-rule":"evenodd",style:{fill:"none"}},r.default.createElement("path",{d:"M1.5,5.0233365 C1.61081383,5.07571391 1.79156144,5.1271516 2.02641537,5.1695923 C2.53116508,5.26080616 3.23772228,5.30304304 3.99147442,5.29018883 C4.72697272,5.27764591 5.44536431,5.2134662 5.96818405,5.1130429 C6.19749663,5.0689965 6.37973948,5.0195837 6.5,4.97094138 C6.5,4.61127567 6.5,4.5367094 6.5,3.97982189 L6.5,2.55833246 C6.5,1.44077827 5.39680687,0.5 4,0.5 C2.60319313,0.5 1.5,1.44077827 1.5,2.55833246 L1.5,4.08873795 C1.5,4.48924589 1.5,4.52037046 1.5,5.0233365 Z",style:{stroke:"#6a7c8f",strokeWidth:1}}),r.default.createElement("rect",{x:"0.5",y:"4.5",width:"7",height:"5",rx:"1",style:{fill:"#6a7c8f",stroke:"#6a7c8f",strokeWidth:1}})))})),define("metaserver/static/js/maestro_nav/shared_code/maestro_context",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroContext=void 0,r=a.__importDefault(r),t.MaestroContext=r.default.createContext(void 0)})),define("metaserver/static/js/maestro_nav/shared_code/maestro_sidebar",["require","exports","tslib","react","metaserver/static/js/maestro_nav/shared_code/constants","metaserver/static/js/maestro_nav/shared_code/nested-nav"],(function(e,t,a,r,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaestroSidebar=void 0,r=a.__importStar(r);t.MaestroSidebar=({activeFeature:e,activeProduct:t,navType:a,onHomeClick:i,onNavigationClick:n,products:c,viewerInfo:l,footer:d})=>r.createElement("div",{className:"maestro-nav__container"},r.createElement(o.NestedNav,{activeFeature:e,activeProduct:t,onNavigationClick:n,onHomeClick:i,nestedNavLevel:a,products:c,dropboxLogoUrl:l.isGuestAdmin?null:`https://${s.WWW_HOST}/`}),d),t.MaestroSidebar.displayName="MaestroSidebar"})),define("metaserver/static/js/maestro_nav/shared_code/notification_badge",["require","exports","tslib","react","dig-components/badges","metaserver/static/js/maestro_nav/shared_code/maestro_context"],(function(e,t,a,r,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationBadge=void 0,r=a.__importDefault(r);t.NotificationBadge=()=>{const{logRedBadgeRendered:e}=r.default.useContext(o.MaestroContext)||{};return r.default.useEffect(()=>null==e?void 0:e(),[]),r.default.createElement(s.NotificationBadge,{className:"maestro-nav__admin-console-badge"})},t.NotificationBadge.displayName="NotificationBadge"})),define("metaserver/static/js/maestro_nav/shared_code/nested-nav",["require","exports","tslib","react","metaserver/static/js/maestro_nav/shared_code/dropbox_logo","metaserver/static/js/maestro_nav/shared_code/feature-nav","metaserver/static/js/maestro_nav/shared_code/product-nav","metaserver/static/js/maestro_nav/shared_code/strings","metaserver/static/js/maestro_nav/shared_code/left_arrow_icon"],(function(e,t,a,r,s,o,i,n,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NestedNav=void 0,r=a.__importDefault(r);const l=({nestedNavLevel:e,onHomeClick:t,dropboxLogoUrl:a})=>{if(a){const o="Feature"===e;return r.default.createElement("a",{className:"maestro-nav__home-button",href:a,onClick:t,"data-trackingid":"logo"},r.default.createElement(s.DropboxLogo,{className:"maestro-nav__logo",color:"","aria-label":(0,n.homeAriaLabel)()}),o&&r.default.createElement(c.LeftArrowIcon,{className:"maestro-nav__caret"}))}return r.default.createElement(s.DropboxLogo,{className:"maestro-nav__logo maestro-nav__logo--no-link",color:"","aria-label":(0,n.homeAriaLabel)()})};l.displayName="NestedNavLogo";t.NestedNav=e=>r.default.createElement("div",{className:"maestro-nav__panel"},r.default.createElement(l,Object.assign({},e)),r.default.createElement("div",{className:"maestro-nav__contents"},"Feature"===e.nestedNavLevel&&e.activeProduct?r.default.createElement(o.FeatureNav,{activeProduct:e.activeProduct,activeFeature:e.activeFeature,features:e.activeProduct.features,onNavigationClick:e.onNavigationClick}):r.default.createElement(i.ProductNav,{products:e.products,activeProduct:e.activeProduct,onNavigationClick:e.onNavigationClick}))),t.NestedNav.displayName="NestedNav"})),define("metaserver/static/js/maestro_nav/shared_code/product-nav",["require","exports","tslib","react","classnames","metaserver/static/js/maestro_nav/shared_code/lock_icon","metaserver/static/js/user_education/react/user_education_effect","metaserver/static/js/maestro_nav/shared_code/notification_badge","metaserver/static/js/maestro_nav/shared_code/constants","metaserver/static/js/maestro_nav/shared_code/maestro_context"],(function(e,t,a,r,s,o,i,n,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductNav=void 0,r=a.__importDefault(r),s=a.__importDefault(s);const d=({superscriptText:e,superscriptStyle:t})=>{switch(t){case c.SUPERSCIRPT_TYPE_ACCESSORY_BADGE:return r.default.createElement("span",{className:"maestro-nav__product-badge"},e);default:return r.default.createElement("sup",{className:"maestro-nav__product-superscript"},e)}};d.displayName="DisplaySuperscript";t.ProductNav=({activeProduct:e,onNavigationClick:t,products:a})=>{const{numRequestsAndSuggestions:c}=r.default.useContext(l.MaestroContext)||{},u=e=>a=>t(a,e),m=!!c;return r.default.createElement("ul",{className:"maestro-nav__products"},a.map(t=>{const a=(0,s.default)({"maestro-nav__product":!0,"maestro-nav__active-product":t===e,"maestro-nav__blocked-feature":t.isBlocked});return r.default.createElement("li",{key:t.url},r.default.createElement("div",{className:"maestro-nav__product-wrapper"},r.default.createElement(i.UserEducationEffect,{containerName:"ProductNav",name:t.uniqueName,useSpan:!0},r.default.createElement("a",{"aria-current":t===e&&"page",href:t.isBlocked?"#":t.url,className:a,id:t.uniqueName,onClick:u(t),target:t.openInNewPage?"_blank":"_self",rel:"noopener","data-trackingid":`prod-${t.uniqueName}`},t.displayName,t.displaySuperscript&&r.default.createElement(d,{superscriptText:t.displaySuperscript,superscriptStyle:t.displaySuperscriptStyle}),t.isBlocked&&r.default.createElement(o.LockIcon,{className:"maestro-nav__lock"}),t.redNotification&&m&&r.default.createElement(n.NotificationBadge,null)))))}))},t.ProductNav.displayName="ProductNav"})),define("metaserver/static/js/maestro_nav/util/hoc",["require","exports","tslib","react","react-intl","react-redux","metaserver/static/js/components/ui/css","metaserver/static/js/maestro_nav/folder_explorer/data/store","metaserver/static/js/files_page/data/store","metaserver/static/js/core/i18n"],(function(e,t,a,r,s,o,i,n,c,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeMaestroNav=t.withCss=t.withStore=void 0,r=a.__importDefault(r);t.withStore=e=>t=>{const a=r.default.useMemo(()=>((0,c.getStoreForFilesPage)(),(0,n.getStoreForFolderExplorer)()),[]);return r.default.createElement(o.Provider,{store:a},r.default.createElement(s.RawIntlProvider,{value:l.intl},r.default.createElement("div",{className:"maestro-nav-component"},r.default.createElement(e,Object.assign({},t)))))};t.withCss=e=>(0,i.requireCssWithComponent)(e,["/static/metaserver/static/css/dig-components/index.web-vflD7DS1H.css","/static/metaserver/static/css/maestro-nav/maestro-nav-vfl5Xxiqo.css"]);t.makeMaestroNav=e=>{const a=(0,t.withStore)(e);return(0,t.withCss)(a)}})),define("metaserver/static/js/maestro_nav/util/nav_utils",["require","exports","metaserver/static/js/appshell/account"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureByUniqueName=t.getActiveProductAndFeature=t.getActiveFeature=t.productIsActive=t.getActiveProduct=t.isFeatureActive=void 0;t.isFeatureActive=(e,t)=>{function r(e){return(0,a.computeFeatureBaseUrlFromUrl)(e).getPath()}function s(e,t,a){const s=a.map(r);return-1!==s.indexOf(e)&&-1!==s.indexOf(t)}const o=t,i=r(e);return!!(s(o,i,["/home","/work","/personal","/history","/s","/sh","/scl"])||s(o,i,["/team/admin","/team/admin/members","/team/admin/external_people"])||s(o,i,["/organization","/enterprise_console/teams"]))||o===i};t.getActiveProduct=(e,a)=>e.find(e=>(0,t.productIsActive)(e,a))||null;t.productIsActive=(e,a)=>{if((0,t.isFeatureActive)(e.url,a))return!0;return!!(0,t.getActiveFeature)(e,a)};t.getActiveFeature=(e,a)=>{if(e)for(const s of e.features){if(r(s))for(const e of s.subNavItems)if((0,t.isFeatureActive)(e.url,a))return e;if((0,t.isFeatureActive)(s.url,a))return s}return null};t.getActiveProductAndFeature=(e,a)=>{const r=(0,t.getActiveProduct)(e,a);return{activeProduct:r,activeFeature:(0,t.getActiveFeature)(r,a)}};const r=e=>e.subNavItems&&e.subNavItems.length>0;t.getFeatureByUniqueName=(e,t)=>{for(const a of t)for(const t of a.features)if(t.uniqueName===e)return t}})),define("metaserver/static/js/files_page/data/action_creators",["require","exports","metaserver/static/js/files_page/data/types"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setForceReload=t.setIsActiveInGlobalHeader=t.appInit=void 0;t.appInit=e=>({type:a.ActionTypes.APP_INIT,payload:e});t.setIsActiveInGlobalHeader=({isActiveInGlobalHeader:e})=>({type:a.ActionTypes.SET_IS_ACTIVE_IN_GLOBAL_HEADER,payload:{isActiveInGlobalHeader:e}});t.setForceReload=({shouldForceReloadOnNavigation:e})=>({type:a.ActionTypes.SET_FORCE_RELOAD,payload:{shouldForceReloadOnNavigation:e}})})),define("metaserver/static/js/files_page/data/reducer",["require","exports","metaserver/static/js/files_page/data/types","metaserver/static/js/browse/models"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filePageReducer=t.defaultFilesPageState=void 0,t.defaultFilesPageState={user:void 0,context:new r.BrowseContext,isActiveInGlobalHeader:!1,shouldForceReloadOnNavigation:!1};t.filePageReducer=function(e=t.defaultFilesPageState,r){switch(r.type){case a.ActionTypes.APP_INIT:return(function(e,t){const{user:a}=t.payload;return Object.assign(Object.assign({},e),{user:a})})(e,r);case a.ActionTypes.SET_IS_ACTIVE_IN_GLOBAL_HEADER:return((e,t)=>Object.assign(Object.assign({},e),{isActiveInGlobalHeader:t.isActiveInGlobalHeader}))(e,r.payload);case a.ActionTypes.SET_FORCE_RELOAD:return((e,t)=>Object.assign(Object.assign({},e),{shouldForceReloadOnNavigation:t.shouldForceReloadOnNavigation}))(e,r.payload)}return e}})),define("metaserver/static/js/files_page/data/store",["require","exports","metaserver/static/js/redux/namespaces","metaserver/static/js/files_page/data/reducer","metaserver/static/js/redux/store"],(function(e,t,a,r,s){"use strict";let o;Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreForFilesPage=void 0;t.getStoreForFilesPage=()=>(o||(o=(0,s.getStoreAndRegisterReducers)({[a.FILES_PAGE_NAMESPACE_KEY]:r.filePageReducer})),o)})),define("metaserver/static/js/files_page/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,(function(e){e.APP_INIT="FILES_PAGE/APP_INIT",e.SET_IS_ACTIVE_IN_GLOBAL_HEADER="FILES_PAGE/SET_IS_ACTIVE_IN_GLOBAL_HEADER",e.SET_FORCE_RELOAD="FILES_PAGE/SET_FORCE_RELOAD"})(t.ActionTypes||(t.ActionTypes={}))})),define("metaserver/static/js/maestro_nav/folder_explorer/data/reducer",["require","exports","tslib","immutable","metaserver/static/js/maestro_nav/folder_explorer/data/types","metaserver/static/js/clean/ui/tree","metaserver/static/js/clean/ui/tree_item","metaserver/static/js/core/i18n"],(function(e,t,a,r,s,o,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.folderExplorerReducer=t.defaultFileExplorerState=t.FOLDER_EXPLORER_ROOT_PATH=void 0,r=a.__importStar(r),t.FOLDER_EXPLORER_ROOT_PATH="",t.defaultFileExplorerState={tree:o.Tree.createWithRootItem(new i.TreeItem({key:t.FOLDER_EXPLORER_ROOT_PATH,label:n.intl.formatMessage({id:"iqMtOi",defaultMessage:"Dropbox"}),canExpand:!0})),loadingItemKeys:r.Set([]),selectedItemKey:void 0,expandedItemKeys:r.Set([]),user:void 0,lastFolderUpdated:void 0},t.folderExplorerReducer=function(e=t.defaultFileExplorerState,a){switch(a.type){case s.ActionTypes.APP_INIT:return(function(e,a){const{user:s,rootFolderName:n,beginExpanded:c}=a.payload,l=c?[t.FOLDER_EXPLORER_ROOT_PATH]:[];return Object.assign(Object.assign({},e),{user:s,tree:o.Tree.createWithRootItem(new i.TreeItem({key:t.FOLDER_EXPLORER_ROOT_PATH,label:n,canExpand:!0})),expandedItemKeys:r.Set(l)})})(e,a);case s.ActionTypes.SET_TMF_PATH:return(function(e,t){const{path:a}=t.payload;return Object.assign(Object.assign({},e),{tmfPath:a})})(e,a);case s.ActionTypes.SELECT_FOLDER:return(function(e,t){const{folder:a}=t.payload;return Object.assign(Object.assign({},e),{selectedItemKey:null==a?void 0:a.key})})(e,a);case s.ActionTypes.EXPAND_FOLDER:return(function(e,t){const{folder:a}=t.payload;return Object.assign(Object.assign({},e),{expandedItemKeys:e.expandedItemKeys.add(a.key)})})(e,a);case s.ActionTypes.COLLAPSE_FOLDER:return(function(e,t){const{folder:a}=t.payload;return Object.assign(Object.assign({},e),{expandedItemKeys:e.expandedItemKeys.delete(a.key)})})(e,a);case s.ActionTypes.ADD_SUB_FOLDERS:return(function(e,t){const{folder:a,subFolders:r}=t.payload,{tree:s}=e;return Object.assign(Object.assign({},e),{tree:s.setChildItems(a,r),lastFolderUpdated:a.key,loadingItemKeys:e.loadingItemKeys.delete(a.key)})})(e,a);case s.ActionTypes.SET_LOADING_FOLDER:return(function(e,t){const{folder:a}=t.payload;return Object.assign(Object.assign({},e),{loadingItemKeys:e.loadingItemKeys.add(a.key)})})(e,a)}return e}})),define("metaserver/static/js/maestro_nav/folder_explorer/data/store",["require","exports","metaserver/static/js/redux/namespaces","metaserver/static/js/maestro_nav/folder_explorer/data/reducer","metaserver/static/js/redux/store"],(function(e,t,a,r,s){"use strict";let o;Object.defineProperty(t,"__esModule",{value:!0}),t.getStoreForFolderExplorer=void 0;t.getStoreForFolderExplorer=()=>(o||(o=(0,s.getStoreAndRegisterReducers)({[a.FOLDER_EXPLORER_NAMESPACE_KEY]:r.folderExplorerReducer})),o)})),define("metaserver/static/js/maestro_nav/folder_explorer/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionTypes=void 0,(function(e){e.APP_INIT="FOLDER_EXPLORER/APP_INIT",e.SET_TMF_PATH="FOLDER_EXPLORER/SET_TMF_PATH",e.SELECT_FOLDER="FOLDER_EXPLORER/SELECT_FOLDER",e.EXPAND_FOLDER="FOLDER_EXPLORER/EXPAND_FOLDER",e.COLLAPSE_FOLDER="FOLDER_EXPLORER/COLLAPSE_FOLDER",e.GET_SUB_FOLDERS="FOLDER_EXPLORER/GET_SUB_FOLDERS",e.ADD_SUB_FOLDERS="FOLDER_EXPLORER/ADD_SUB_FOLDERS",e.OPEN_TO_PATH="FOLDER_EXPLORER/OPEN_TO_PATH",e.APPLY_BOLT_UPDATES="FOLDER_EXPLORER/APPLY_BOLT_UPDATES",e.SET_LOADING_FOLDER="FOLDER_EXPLORER/SET_LOADING_FOLDER"})(t.ActionTypes||(t.ActionTypes={}))})),define("metaserver/static/js/clean/ui/tree",["require","exports","tslib","immutable"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Tree=void 0,r=a.__importStar(r);class s{constructor(e){const t=r.Map();this.rootItem=e.rootItem,this.items=e.items,this.childItemsByParentKey=e.childItemsByParentKey||t,this.parentItemByChildKey=e.parentItemByChildKey||r.Map()}static createWithRootItem(e){return new s({rootItem:e,items:r.Map([[e.key,e]])})}getParentItem(e){if(!e)return;const t=this.parentItemByChildKey.get(e.key);return t?this.items.get(t):null}getChildItems(e){return this.childItemsByParentKey.get(e.key)||null}isParent(e){return this.childItemsByParentKey.has(e.key)}getClosestExistingChildFromKey(e){var t;const a=e.split("/");let r=this.rootItem;for(let e=2;e<a.length+1;e++){const s=a.slice(0,e).join("/"),o=null===(t=this.getChildItems(r))||void 0===t?void 0:t.find(e=>e.key===s);if(void 0===o)return r;r=o}return r}setChildItems(e,t){t=r.List(t);const a=r.Map(t.map(e=>[e.key,e])),o=r.Map(this.items).merge(a),i=r.Map(this.childItemsByParentKey).set(e.key,t);let n=r.Map(this.parentItemByChildKey);return t.forEach(t=>n=n.set(t.key,e.key)),new s({rootItem:this.rootItem,items:o,childItemsByParentKey:i,parentItemByChildKey:n})}}t.Tree=s})),define("metaserver/static/js/clean/ui/tree_item",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderTreeItem=t.TreeItem=t.RootStyle=void 0,(function(e){e[e.None=0]="None",e[e.TreeItem=1]="TreeItem",e[e.HeaderItem=2]="HeaderItem",e[e.StaticHeader=3]="StaticHeader"})(t.RootStyle||(t.RootStyle={}));class a{constructor(e){this.key=e.key,this.label=e.label?e.label:"",this.icon=e.icon?e.icon:"",this.disabled=!!e.disabled,this.canExpand=!!e.canExpand,this.forceExpanded=!!e.forceExpanded,this.readOnly=!!e.readOnly}}t.TreeItem=a;t.FolderTreeItem=class extends a{constructor(e,t){super(e),this.folderNsId=t}}}));
//# sourceMappingURL=pkg-files-page.min.js-vfl6AqDlK.map