define("metaserver/static/js/clean/form",["require","exports","tslib","metaserver/static/js/deprecated_ajax/ajax_jquery","js/browser/cookies","metaserver/static/js/core/assert","metaserver/static/js/core/i18n"],(function(e,t,r,s,a,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.post_request=t.createForm=t.add_vars=t.submit=void 0,s=r.__importStar(s);const i=n.intl.formatMessage({id:"bLA3rA",defaultMessage:"There was a problem completing this request."});function u(e){const t={};return Array.from(e.querySelectorAll("input, select, textarea")).forEach(e=>{const r=e.name;if(r){let s;if("checkbox"===e.type)s=e.checked?"True":"";else if("radio"===e.type){if(!e.checked)return;s=e.value}else s=e.value;r in t?("string"==typeof t[r]&&(t[r]=[t[r]]),t[r].push(s)):t[r]=s}}),t}function c(e,t,r=!1){Object.entries(t||{}).forEach(([t,s])=>{var a;if(!0===r){const r=e.querySelector(`input[name="${t}"]`);null===(a=null==r?void 0:r.parentElement)||void 0===a||a.removeChild(r)}const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",t),o.setAttribute("value",s),e.appendChild(o)})}function l(e,t={},r={}){const s=document.createElement("form");return s.style.display="none",s.setAttribute("action",e),s.setAttribute("method","POST"),r.target&&s.setAttribute("target",r.target),t.t=a.Cookies.read("__Host-js_csrf"),c(s,t),s}t.submit=function(e,t,r,a){return s.FormWebRequest({url:e.getAttribute("action"),data:u(e),skipErrorHandling:!0,success(e,s,a){const[o,n]=Array.from((function(e){if(0!==e.indexOf("err:"))return[!0,e];const t=e.substr(4);try{return[!1,JSON.parse(t)]}catch(e){return[!1,t||i]}})(a.responseText));return o?t(n):r(n)},error:(e,t,s)=>r(i),complete:a})},t.add_vars=c,t.createForm=l,t.post_request=function(e,t={},r={}){(0,o.assert)(null!=e,"post_request missing action");const s=l(e,t,r);document.body.appendChild(s),s.submit()}})),define("metaserver/static/js/clean/ui/form_error_mixin",["require","exports","tslib","react"],(function(e,t,r,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormError=void 0,s=r.__importDefault(s);t.FormError=({errorWrapperIdName:e,"disable-errors":t,error:r,errorWrapperClassName:a})=>t?null:null!=(null==r?void 0:r.message_html)?s.default.createElement("div",{id:e,className:a,dangerouslySetInnerHTML:{__html:r.message_html}}):s.default.createElement("div",{id:e,className:a},null==r?void 0:r.message_text),t.FormError.displayName="FormError"}));
//# sourceMappingURL=pkg-coreui-forms.min.js-vfl3qldJ1.map