define(["require","exports","tslib","react","react-intl","dig-components/typography","typescript/libraries/file-viewer/src/preview_archive/preview_archive.module.css","typescript/libraries/spectrum-content-icon-compatibility/src/index","typescript/libraries/file-viewer/src/preview_archive/utils","typescript/component_libraries/files_components/src/table/columns/file_name_column","typescript/component_libraries/files_components/src/table/columns/size_column","typescript/component_libraries/dig-experimental/src/managed_table/index","typescript/libraries/file-viewer/src/core/data/preview_key","typescript/libraries/file-viewer/src/core/data/selectors","typescript/libraries/file-viewer/src/file_viewer/context_provider"],(function(e,i,t,r,s,l,n,c,a,o,d,p,m,u,v){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.FolderEntryView=void 0,r=t.__importStar(r),n=t.__importStar(n);const h=[Object.assign(Object.assign({},o.FileNameColumn),{minWidth:360,width:360}),Object.assign(Object.assign({},d.FileSizeColumn),{minWidth:140,width:140})],f=(0,p.createManagedTable)(p.useFlexLayout,p.useSortBy,p.useSortableHeaders,p.useKeyboarding,p.useColumnCollapsing,p.useLinkBehavior);i.FolderEntryView=e=>{var i;const{dispatch:t,rootPreviewKey:l,fileViewerId:c,intl:o,rootEntry:d,entry:p,rootFileInfo:b,archiveFiles:g,height:_,currentPath:w}=e,F=r.useRef(null),{isLoggedIn:E}=(0,v.useFileViewerContext)();r.useEffect(()=>{if(F.current!==p&&b.file_id&&p.children&&!d.isPasswordProtected){const e=b.file_id,i=(0,a.getFiles)(p.children);if(i.length&&w){const r=(0,m.getPreviewKeyForNestedArchiveFile)(e,(0,m.getSubpath)([...w,i[0].name]));(0,u.getArchiveFilesPreviewMetadata)(g,r)||(0,a.getArchiveFiles)(w,i,b,t,E)}}F.current=p},[p,l,d,w,g,b,t,E]);const x=r.useMemo(()=>{var e;return(0,a.transformArchiveEntriesToFiles)(null!==(e=p.children)&&void 0!==e?e:[],t,w,c,l)},[p.children,t,c,l,w]);let P;return P=(null===(i=p.children)||void 0===i?void 0:i.length)?r.createElement("div",{className:n.folderTable,style:{height:_}},r.createElement(s.RawIntlProvider,{value:o},r.createElement(f,{isSelectable:!0,data:x,columns:h}))):r.createElement(y,{intl:o}),P};const y=e=>r.createElement("div",{className:n.emptyFolder},r.createElement(c.IconContent,{name:"folder-small"}),r.createElement(l.Text,{size:"large"},e.intl.formatMessage({id:"3+GzpU",defaultMessage:"This folder is empty"})))}));
//# sourceMappingURL=folder_entry_view.min.js-vfleuNhWV.map