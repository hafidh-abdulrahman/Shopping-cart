define("metaserver/static/prod_assets_web_modules/common/index.esm18",["exports","focus-visible","react","../dig-components/click_outside","./index.esm7","./index","./index.esm9","./index.esm10","./index.esm6","./index.esm5","./index.esm3","./index.esm2","./index.esm4"],(function(e,t,o,n,s,a,r,i,l,c,u,d,m){"use strict";var p=(function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)})(o),g=['.dig-Typeahead-row--interactive[role="option"]','.dig-Typeahead-row--interactive[role="menuitemcheckbox"]',".dig-Typeahead-results--show-more"],h={value:void 0,setSelected:()=>!1,setFocused:()=>!1,closeMenu:()=>!1,isPortaled:!0,menuRows:s.createMenuRows(),containerId:"",setIsTypeaheadDropdownVisible:()=>{}},y=p.createContext(h),v=p.createContext({}),w=p.createContext({}),f=({children:e,isPortaled:t,closeOnSelection:o=!0,inlineProps:a,openMenuOnFocus:r=!0,containerId:i,hasMaxHeight:l=!1,onSelection:c,onBlur:u,onToggle:d,shouldHighlightFirstRow:m=!1,...h})=>{const v=p.useRef(null),[w,f]=p.useState(!1),[x,T]=p.useState(!1),b=p.useRef(null),E=p.useRef(null),R=s.useUniqueId({prefix:"dig-Typeahead",idOverride:i}),C=p.useCallback(e=>{x!==e&&T(e)},[x]),N=p.useCallback((e,t)=>{c&&c(e,t),o&&(E&&E.current&&E.current(void 0),v&&s.returnFocus(v))},[o,c,E]),{isOpen:M,openMenu:P,closeMenu:k,toggleMenu:F,value:I,setSelected:S,setFocused:O,getRootProps:D,getTriggerProps:_,getContentProps:B,menuRows:H,isFocusing:K}=s.useMenu({triggerRef:v,contentRef:b,onSelection:N,onToggle:d,closeOnSelection:o,shouldFocusDisabledRows:!0,interactiveRowSelectors:g,allowLetterNavigation:!1,focusMenuRowTriggerKey:"ArrowDown",allowSpaceBarToOpenMenu:!1,focusNextItemImmediately:!1,shouldHighlightFirstRow:m});E.current=O;const z=p.useCallback(()=>{f(!1),document.removeEventListener("mouseup",z)},[]);p.useEffect(()=>(w&&document.addEventListener("mouseup",z),()=>document.removeEventListener("mouseup",z)),[w,z]);const A={getContentProps:e=>({open:Boolean(M),triggerRef:v,...B({tabIndex:void 0,...e}),role:"listbox"}),getTriggerProps:e=>({..._({...e,onKeyDown:t=>{if(a){const{customOpenKey:e,onCustomOpenKeyTrigger:o,customCloseKey:n}=a;t.key===e.key?(P({autoFocus:!1}),o&&o(t)):n&&t.key===n.key&&k({autoFocus:!1})}e&&e.onKeyDown&&e.onKeyDown(t)}}),role:"combobox","aria-haspopup":"listbox","aria-autocomplete":"list","aria-controls":R,onChange:t=>{a||P({autoFocus:!1}),e&&e.onChange&&e.onChange(t)},onMouseDown:t=>{e&&e.onMouseDown&&e.onMouseDown(t),f(!0)},onClick:e?e.onClick:void 0,onKeyUp:e?e.onKeyUp:void 0,onFocus:t=>{r&&P({autoFocus:!1}),O(void 0),e&&e.onFocus&&e.onFocus(t)}}),openMenu:P,closeMenu:k,toggleMenu:F,triggerRef:v},j=p.useCallback(e=>{I||K||k({autoFocus:!1}),u&&u(e)},[I,K,k,u]),L={isPortaled:t,contentRef:b,value:I,setSelected:S,setFocused:O,closeMenu:k,inlineProps:a,menuRows:H,containerId:R,hasMaxHeight:l,setIsTypeaheadDropdownVisible:C,shouldHighlightFirstRow:m},U=p.useCallback(()=>{k({autoFocus:!1})},[k]),V=a?e&&e(A):p.createElement(n.ClickOutside,{className:"dig-Typeahead-backdrop",isBlock:!0,onClickOutside:U,shouldPropagateMouseEvents:!1,isClickThroughPortaled:t,isActive:Boolean(M)&&!w&&x},e&&e(A));return p.createElement(y.Provider,{value:L},p.createElement("div",{className:"dig-Typeahead",...D({...h,onBlur:j})},V))};f.displayName="Wrapper";var x=({className:e,children:t,...o})=>{const n=a.classNames106("dig-Typeahead-row-accessory",e);return p.createElement("div",{className:n,...o},t)};x.displayName="RowAccessory";var T=({className:e,children:t,...o})=>{const n=a.classNames106("dig-Typeahead-row-content",e);return p.createElement("div",{className:n,...o},t)};T.displayName="RowContent";var b=({className:e,children:t,...o})=>{const n=a.classNames106("dig-Typeahead-row-subtitle",e);return p.createElement("div",{className:n,...o},t)};b.displayName="RowSubtitle";var E=({className:e,children:t,...o})=>{const n=a.classNames106("dig-Typeahead-row-title",e);return p.createElement("div",{className:n,...o},t)};E.displayName="RowTitle";var R=({id:e,title:t,subTitle:o,sectionTitle:n})=>p.createElement("div",{className:"dig-Typeahead-accessible-text",id:e},t," ",o,n&&`, ${n}`),C=p.forwardRef(({tagName:e="li",role:t="option",disabled:o=!1,interactive:n=!0,className:r,withLeftAccessory:i,withRightAccessory:l,withSubtitle:c,withTitle:u,onFocus:d,onMouseDown:m,value:g,tabIndex:h=-1,children:f,...C},N)=>{const M=p.useRef(null),{menuRows:P,setSelected:k,setFocused:F,shouldHighlightFirstRow:I}=p.useContext(y),{resultIndex:S}=p.useContext(w),{rowIndex:O,focusIndex:D,sectionTitle:_}=p.useContext(v),B=100*(S||0)+(O||0),H=s.useUniqueId({prefix:""}),{getItemProps:K}=s.useMenuItem({interactive:n,disabled:o,ref:M,role:t,index:B,itemValue:g},P),[z,A]=p.useState(!1),[j,L]=p.useState(!1);p.useEffect(()=>{s.isRowFirst(P,B)&&L(!0),j&&s.areRowsFocused(P)?A(!0):A(!1)},[P,B,O,j]),p.useEffect(()=>{void 0!==D&&D===O&&setTimeout(()=>{M.current&&M.current.focus()},0)},[D,O]);const U=a.classNames106("dig-Typeahead-row",{"dig-Typeahead-row--disabled":o,"dig-Typeahead-row--interactive":n},r),V=a.classNames106(U,{"dig-Typeahead-row--highlight":I},r);return p.useImperativeHandle(N,()=>({getBoundingClientRect:()=>{if(M.current)return M.current.getBoundingClientRect()}})),p.createElement(e,{onMouseDown:e=>{e.preventDefault(),k(g,e),F(void 0),m&&m(e)},onFocus:e=>{F(g,O),d&&d(e)},className:j&&!z?V:U,ref:M,...K({...C})},f||p.createElement(p.Fragment,null,i&&p.createElement(x,null,i),p.createElement(T,{"aria-labelledby":H},p.createElement(E,{"aria-hidden":"true"},u),c&&p.createElement(b,{"aria-hidden":"true"},c)),p.createElement(R,{id:H,title:u,subTitle:c,sectionTitle:_}),l&&p.createElement(x,null,l)))});C.displayName="Row";var N=({children:e})=>p.createElement("div",{className:"dig-Typeahead-prompt"},e);N.displayName="Prompt";var M=({open:e,triggerRef:t,emptyPrompt:o,isEmptyQuery:a=!1,loading:c,children:u,auto:d=!0,positioningStrategy:m="absolute",placement:g="bottom-start",omitOverlay:h=!1,...v})=>{const{menuRows:f,closeMenu:x,contentRef:T,isPortaled:b,containerId:E,inlineProps:R,hasMaxHeight:C,setIsTypeaheadDropdownVisible:M}=p.useContext(y),P=p.useCallback(()=>{x({autoFocus:!1})},[x]),{styles:k}=s.useMaxHeight({hasMaxHeight:C,contentRef:T}),F=null!=o;if(p.useEffect(()=>{let e=!0;c||a&&F||0!==f.items.size||(e=!1),M(e)},[c,F,a,f.items.size,M]),!e||!u)return null;let I,S={};if(c?I=p.createElement(N,null,p.createElement(l.Spinner,null)):a&&F?I=o:0===f.items.size?(I=u,S={display:"none"}):I=p.Children.map(u,(e,t)=>p.createElement(w.Provider,{value:{resultIndex:t}},e)),h)return p.createElement(p.Fragment,null,I);const O=(e=>{switch(e){default:return"up";case"bottom":case"bottom-start":case"bottom-end":return"down"}})(g),D=p.createElement(r.Motion,{transitionIn:{transitions:[{property:O,value:0},{property:"opacity",value:1}],easing:"enter",duration:125},transitionOut:{transitions:[{property:"opacity",value:0}],easing:"leave",duration:125},style:{opacity:0},in:e,mountOnEnter:!0,unmountOnExit:!0},({state:o,style:n})=>(e||"exited"!==o)&&p.createElement(i.Overlay,{anchorRef:t,auto:d,isPortaled:b,placement:g,positioningStrategy:m,offsetDistance:4,setWidthSameAsAnchor:!Boolean(R)},p.createElement("ul",{className:"dig-Typeahead-container",ref:T,id:E,style:S,...v},p.createElement("div",{className:"dig-Typeahead-container--canvas",style:{...n,...k}},I))));return R?p.createElement(n.ClickOutside,{className:"dig-Typeahead-backdrop",isBlock:!0,onClickOutside:P,shouldPropagateMouseEvents:!1,isClickThroughPortaled:b,isActive:Boolean(e)},D):D};M.displayName="Container";var P=e=>{const{placeholderText:t}=e;return p.createElement(N,null,p.createElement(c.UIIcon,{size:"large",src:u.SearchLine}),p.createElement(d.Text,{color:"faint"},t))};P.displayName="EmptyPrompt";var k=({onShowMoreClick:e,showMoreButtonText:t="Show more"})=>{const o=p.useRef(null),{menuRows:n,setFocused:a}=p.useContext(y),{resultIndex:r}=p.useContext(w),{rowIndex:i}=p.useContext(v),l=100*(r||0)+(i||0),{getItemProps:c}=s.useMenuItem({interactive:!0,disabled:!0,ref:o,role:"option",index:l},n),u=t=>{t.stopPropagation(),t.preventDefault(),e()};return p.createElement(m.Button,{className:"dig-Typeahead-results--show-more",variant:"transparent",ref:o,type:"button",onClick:u,onKeyDown:t=>{"Enter"!==t.key&&" "!==t.key||(t.stopPropagation(),t.preventDefault(),e())},onMouseDown:u,onFocus:()=>{a(void 0)},...c(),disabled:!1,"aria-disabled":!1},t)};function F({results:e,title:t,renderRow:o,initialResults:n=4,maxResults:s=8,showMoreButtonText:r,size:i="standard"}){const{setFocused:l}=p.useContext(y),[c,u]=p.useState(Math.min(e.length,n)),[m,g]=p.useState();if(p.useEffect(()=>{u(Math.min(e.length,n))},[e,n]),!e||0===e.length)return null;const h=a.classNames106("dig-Typeahead-results",{"dig-Typeahead-results--standard":"standard"===i,"dig-Typeahead-results--large":"large"===i});return p.createElement("div",{className:h},t?p.createElement(d.Text,{className:"dig-Typeahead-results--title",color:"faint",isBold:!0,size:"small","aria-hidden":"true"},t):p.createElement("div",{className:"dig-Typeahead-results--title-spacer",role:"presentation"}),e.slice(0,c).map((e,n)=>p.createElement(v.Provider,{key:n,value:{rowIndex:n,focusIndex:m,sectionTitle:t}},o(e))),c<e.length&&c!==s&&p.createElement(v.Provider,{value:{rowIndex:c+100}},p.createElement(k,{showMoreButtonText:r,onShowMoreClick:()=>{c<e.length&&(l(e[c]),g(c),u(Math.min(e.length,s)))}})))}k.displayName="ShowMore",F.displayName="Results";var I={Row:C,RowAccessory:x,RowContent:T,RowSubtitle:b,RowTitle:E,Wrapper:f,Container:M,Prompt:N,EmptyPrompt:P,Results:F},S=Object.freeze({__proto__:null,Typeahead:I});e.Typeahead=I,e.index_esm=S})),define("metaserver/static/prod_assets_web_modules/dig-components/typeahead",["exports","focus-visible","react","./click_outside","../common/index.esm7","../common/index","../common/index.esm9","../common/index.esm10","../common/index.esm6","../common/index.esm5","../common/index.esm3","../common/index.esm2","../common/index.esm4","../common/index.esm18","../common/index.esm11","react-dom","../resize-observer-polyfill","../common/Transition","../@popperjs/core","../react-transition-group/CSSTransition","../common/extends"],(function(e,t,o,n,s,a,r,i,l,c,u,d,m,p,g,h,y,v,w,f,x){"use strict";e.Typeahead=p.Typeahead,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-f.min.js-vflZQx1g2.map