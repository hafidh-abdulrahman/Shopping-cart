define("typescript/component_libraries/deep-integrations/src/api_v2/shared_link",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSharedLinkArgFromPath=t.getSharedLinkMetadata=t.getSharedLinkMetadataByUrl=void 0;t.getSharedLinkMetadataByUrl=(e,t,r)=>{const n={url:e},s=t.ns("sharing").rpc("get_shared_link_metadata",n,{});return r&&r("sharing","get_shared_link_metadata",n,s),s};t.getSharedLinkMetadata=(e,r,n)=>{const s=(0,t.getSharedLinkArgFromPath)(e),i=r.ns("sharing").rpc("create_shared_link_with_settings",s,{}).catch(e=>{if((e=>e&&e.error&&"shared_link_already_exists"===e.error[".tag"]&&e.error.shared_link_already_exists&&"metadata"===e.error.shared_link_already_exists[".tag"]&&e.error.shared_link_already_exists.metadata)(e))return e.error.shared_link_already_exists.metadata;throw e});return n&&n("sharing","create_shared_link_with_settings",s,i),i};t.getSharedLinkArgFromPath=e=>({path:e,settings:{access:{".tag":"max"}}})})),define("typescript/component_libraries/deep-integrations/src/link/link_button",["require","exports","tslib","react","classnames"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkButton=void 0,n=r.__importStar(n),s=r.__importDefault(s);class i extends n.Component{render(){return n.createElement("button",Object.assign({},this.props,{className:(0,s.default)(this.props.className,"int-link-button",`int-link-button--color-${this.props.color}`,{"int-link-button--disabled":this.props.disabled}),role:"link"}),this.props.children)}}t.LinkButton=i,i.defaultProps={color:"sapphire"},i.displayName="LinkButton"})),define("metaserver/static/js/logging/hive/schemas/web-ecosystem_integration_events",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThirdPartyName=t.EventName=t.EcosystemIntegrationLoggingTableRow=void 0;t.EcosystemIntegrationLoggingTableRow=class{constructor(e){this.category="web-ecosystem_integration_events",this.extra={},this.user_id=null,this.active_user_id=null,this.anon_ip=null,this.authed_user_ids=null,this.country=null,this.identity_gid=null,this.locale_browser_header=null,this.locale_user_selected=null,this.referrer=null,this.ua_browser_name=null,this.ua_browser_version=null,this.ua_dist_name=null,this.ua_dist_version=null,this.ua_os_name=null,this.ua_os_version=null,this.user_agent=null,this.session_id=null,this.team_id=null,this.team_type=null,this.event_name=e.event_name,this.integration_name=e.integration_name,this.extra=e.extra,Object.seal(this)}},(function(e){e.activityTabClicked="activity_feed_viewed",e.cardClicked="activity_link_clicked",e.onboardingCardConnect="activity_onboardingcard_connect",e.onboardingCardDismissed="activity_onboardingcard_dismissed",e.onboardingCardViewed="activity_onboardingcard_viewed",e.onboardingDotViewed="activity_onboardingdot_viewed",e.onboardingDotDismissed="activity_onboardingdot_dismissed"})(t.EventName||(t.EventName={})),(function(e){e.slack="SLACK",e.zoom="ZOOM"})(t.ThirdPartyName||(t.ThirdPartyName={}))})),define("metaserver/static/js/integrations/link_service",["require","exports","tslib","metaserver/static/js/profile_services/profile_services_link","metaserver/static/js/profile_services/profile_services_constants"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkService=void 0,s=r.__importDefault(s);const i=new n.ProfileServicesLinkingHandler,a={zoom:"zoom",slack_dropbox:"dropbox_slack",trello:"trello"};t.linkService=function(e,t,o){return r.__awaiter(this,void 0,void 0,(function*(){const r={".tag":t},c=()=>{const t=s.default.from_api_service_type(r),{action:n}=s.default.get_service_data(r,"profile_card_v2");return n?i.auth_service_with_user_promise(t,e,null,n):Promise.reject({reason:"no_service_action"})};if(o&&a[t]){const e=yield i.auth_service_with_user_with_landing_page(r,c);n.ProfileServicesLinkingHandler.show_import_notifications(e)}else{const e=yield c();n.ProfileServicesLinkingHandler.show_import_notifications(e)}}))}})),define("typescript/component_libraries/deep-integrations/src/ttl",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenTTL=t.isTTLExpired=t.toTTL=void 0;t.toTTL=(e,t)=>({value:e,lastUpdateTimestamp:t});t.isTTLExpired=(e,t,r)=>r-e.lastUpdateTimestamp>t;t.flattenTTL=(e,r,n,s)=>(0,t.isTTLExpired)(e,r,n)?s:e.value})),define("typescript/component_libraries/deep-integrations/src/async",["require","exports","tslib"],(function(e,t,r){"use strict";function n(e){return"object"==typeof e&&("string"==typeof e.state&&("pending"===e.state||("fulfilled"===e.state&&"value"in e||"rejected"===e.state&&"error"in e)))}Object.defineProperty(t,"__esModule",{value:!0}),t.rejected=t.fulfilled=t.pending=t.applyAndFlatten=t.toAsync=void 0,t.toAsync=function(e){return r.__awaiter(this,void 0,void 0,(function*(){try{return{state:"fulfilled",value:yield e}}catch(e){return{state:"rejected",error:e}}}))},t.applyAndFlatten=function(e,t){if("fulfilled"===e.state){const r=t(e.value);return n(r)?(function e(t){return"fulfilled"===t.state&&n(t.value)?e(t.value):t})(r):{state:"fulfilled",value:r}}return e},t.pending={state:"pending"},t.fulfilled=function(e){return{state:"fulfilled",value:e}},t.rejected=function(e){return{state:"rejected",error:e}}})),define("typescript/component_libraries/deep-integrations/src/data/api_v2",["require","exports","tslib","lodash","typescript/component_libraries/deep-integrations/src/async","typescript/component_libraries/deep-integrations/src/data/api_v2_types"],(function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiV2RequestsReducer=t.defaultApiV2Requests=t.trackRequest=t.replaceRequest=t.appendRequest=t.getLatestRequest=t.getLatestRequests=t.serializeArgs=void 0,n=r.__importStar(n);const a=(e,t=[])=>{if(!(e instanceof Object))return t;for(const r in e)e.hasOwnProperty(r)&&(t.push(r),a(e[r],t));return t};t.serializeArgs=(e,t,r)=>{const n={namespace:e,endpointName:t,arg:r},s=a(n).sort();return JSON.stringify(n,s)};t.getLatestRequests=(e,r,n,s)=>((e,t)=>{const r=e[t];return r?r.map(({request:e})=>e):[]})(e,(0,t.serializeArgs)(r,n,s));t.getLatestRequest=(e,r,s,i)=>n.last((0,t.getLatestRequests)(e,r,s,i));t.appendRequest=(e,t,r,s)=>{const a=n.uniqueId();return[a,{type:i.ApiV2ActionType.appendRequest,payload:{id:a,namespace:e,endpointName:t,arg:r,request:s}}]};t.replaceRequest=(e,t,r,n,s)=>({type:i.ApiV2ActionType.replaceRequest,payload:{id:e,namespace:t,endpointName:r,arg:n,request:s}});t.trackRequest=(e,r,n,i)=>(a,o,c)=>{const[l,d]=(0,t.appendRequest)(e,r,n,s.pending);return a(d),(0,s.toAsync)(i).then(s=>{a((0,t.replaceRequest)(l,e,r,n,s))}),i},t.defaultApiV2Requests={};t.apiV2RequestsReducer=(e=t.defaultApiV2Requests,r)=>{switch(r.type){case i.ApiV2ActionType.appendRequest:{const n=(0,t.serializeArgs)(r.payload.namespace,r.payload.endpointName,r.payload.arg),s=e[n]||[];return Object.assign(Object.assign({},e),{[n]:[...s.filter(({request:e})=>e.state!==r.payload.request.state),{id:r.payload.id,request:r.payload.request}]})}case i.ApiV2ActionType.replaceRequest:{const s=(0,t.serializeArgs)(r.payload.namespace,r.payload.endpointName,r.payload.arg),i=e[s];if(!i)return e;const a=n.findIndex(i,e=>e.id===r.payload.id);if(-1===a)return e;const o=i.slice(0,a),c=i.slice(a+1);return-1!==n.findIndex(c,({request:e})=>e.state===r.payload.request.state)?Object.assign(Object.assign({},e),{[s]:[...o,...c]}):Object.assign(Object.assign({},e),{[s]:[...o.filter(({request:e})=>e.state!==r.payload.request.state),{id:r.payload.id,request:r.payload.request},...c]})}default:return e}}})),define("typescript/component_libraries/deep-integrations/src/data/api_v2_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ApiV2ActionType=void 0,(function(e){e.appendRequest="@@DeepIntegrations/api_v2/appendRequest",e.replaceRequest="@@DeepIntegrations/api_v2/replaceRequest"})(t.ApiV2ActionType||(t.ApiV2ActionType={}))})),define("typescript/component_libraries/deep-integrations/src/data/calendar",["require","exports","typescript/component_libraries/deep-integrations/src/data/types","typescript/component_libraries/deep-integrations/src/async","typescript/component_libraries/deep-integrations/src/ttl"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullCalendarStateReducer=t.defaultFullCalendarState=t.upcomingCalendarStateReducer=t.defaultUpcomingCalendarState=t.sharedCalendarStateReducer=t.defaultSharedCalendarState=void 0,t.defaultSharedCalendarState={},t.sharedCalendarStateReducer=function(e=t.defaultSharedCalendarState,n){switch(n.type){case r.Actions.loadCalendarEventsInCommon:{const{payload:t,meta:i}=n;let a;return a="pending"===t.state?{state:"pending"}:"fulfilled"===t.state?{state:"fulfilled",value:(0,s.toTTL)(t.value.map(e=>({calendarEvent:e,makeZoomMeetingState:r.MakeZoomMeetingState.Normal})),i.timestamp)}:{state:"rejected",error:t.error},Object.assign(Object.assign({},e),{[i.userKey]:Object.assign(Object.assign({},e[i.userKey]),{eventSections:a,showLoadCalendarEventsError:"rejected"===t.state})})}case r.Actions.clearLoadEventsInCommonError:{const{meta:t}=n;return Object.assign(Object.assign({},e),{[t.userKey]:Object.assign(Object.assign({},e[t.userKey]),{showLoadCalendarEventsError:!1})})}case r.Actions.makeZoomMeeting:{const{payload:t,meta:s}=n,i=e[s.userKey].eventSections;if(!i||"pending"===i.state||"rejected"===i.state)return e;const a=i.value,o=a.value.findIndex(e=>e.calendarEvent.ical_uid===s.ical_uid);return-1===o?e:("fulfilled"===t.state?a.value[o]={calendarEvent:t.value,makeZoomMeetingState:r.MakeZoomMeetingState.Success}:a.value[o].makeZoomMeetingState="pending"===t.state?r.MakeZoomMeetingState.Pending:r.MakeZoomMeetingState.Error,Object.assign(Object.assign({},e),{[s.userKey]:Object.assign(Object.assign({},e[s.userKey]),{eventSections:{state:"fulfilled",value:a}})}))}case r.Actions.clearMakeZoomMeetingMessage:{const{meta:t}=n,s=e[t.userKey].eventSections;if(s&&"fulfilled"===s.state){const n=s.value,i=n.value.findIndex(e=>e.calendarEvent.ical_uid===t.ical_uid);return-1===i?e:(n.value[i].makeZoomMeetingState=r.MakeZoomMeetingState.Normal,Object.assign(Object.assign({},e),{[t.userKey]:Object.assign(Object.assign({},e[t.userKey]),{eventSections:{state:"fulfilled",value:n}})}))}return e}}return e},t.defaultUpcomingCalendarState={},t.upcomingCalendarStateReducer=function(e=t.defaultUpcomingCalendarState,n){switch(n.type){case r.Actions.loadUpcomingCalendarEvents:{const t=n.payload;return Object.assign(Object.assign({},e),{events:t})}}return e},t.defaultFullCalendarState={},t.fullCalendarStateReducer=function(e=t.defaultFullCalendarState,i){switch(i.type){case r.Actions.loadCalendarEvents:{const{payload:t,meta:r}=i;let a;return a="pending"===t.state?n.pending:"fulfilled"===t.state?(0,n.fulfilled)((0,s.toTTL)(t.value,r.timestamp)):(0,n.rejected)(t.error),Object.assign(Object.assign({},e),{[r.userKey]:Object.assign(Object.assign({},e[r.userKey]),{[r.rangeKey]:Object.assign(Object.assign({},e[r.userKey]?e[r.userKey][r.rangeKey]:void 0),{calendarEvents:a,showLoadCalendarEventsError:"rejected"===t.state})})})}case r.Actions.clearLoadEventsError:{const{meta:t}=i;return e[t.userKey]&&e[t.userKey][t.rangeKey]?Object.assign(Object.assign({},e),{[t.userKey]:Object.assign(Object.assign({},e[t.userKey]),{[t.rangeKey]:Object.assign(Object.assign({},e[t.userKey][t.rangeKey]),{showLoadCalendarEventsError:!1})})}):e}}return e}})),define("typescript/component_libraries/deep-integrations/src/data/chat",["require","exports","typescript/component_libraries/deep-integrations/src/data/types"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatStateReducer=t.defaultChatState=void 0,t.defaultChatState={},t.chatStateReducer=function(e=t.defaultChatState,n){switch(n.type){case r.Actions.saveChatMessage:{const{payload:t,meta:r}=n;return Object.assign(Object.assign({},e),{[r.userKey]:Object.assign(Object.assign({},e[r.userKey]),{rawMessage:t.chatMessage,trimmedMessage:t.chatMessage?t.chatMessage.trim():void 0})})}case r.Actions.saveInputFocus:{const{payload:t,meta:r}=n;return Object.assign(Object.assign({},e),{[r.userKey]:Object.assign(Object.assign({},e[r.userKey]),{hasInputFocus:t.hasInputFocus})})}case r.Actions.sendChatMessage:{const{payload:t,meta:r}=n;return Object.assign(Object.assign({},e),{[r.userKey]:Object.assign(Object.assign({},e[r.userKey]),{lastSendMessageRequest:t})})}case r.Actions.canSendMessage:{const{payload:t,meta:r}=n;return Object.assign(Object.assign({},e),{[r.userKey]:Object.assign(Object.assign({},e[r.userKey]),{canSendMessageRequestMap:Object.assign(Object.assign({},e[r.userKey]?e[r.userKey].canSendMessageRequestMap:{}),{[r.serviceType[".tag"]]:t})})})}case r.Actions.clearLastSentMessage:{const{meta:t}=n;return Object.assign(Object.assign({},e),{[t.userKey]:Object.assign(Object.assign({},e[t.userKey]),{lastSendMessageRequest:void 0})})}case r.Actions.clearCanSendMessage:{const{meta:t}=n;return Object.assign(Object.assign({},e),{[t.userKey]:Object.assign(Object.assign({},e[t.userKey]),{canSendMessageRequestMap:{}})})}default:return e}}})),define("typescript/component_libraries/deep-integrations/src/data/reducer",["require","exports","typescript/component_libraries/deep-integrations/src/data/api_v2","typescript/component_libraries/deep-integrations/src/data/user_settings","typescript/component_libraries/deep-integrations/src/data/present_to_zoom","typescript/component_libraries/deep-integrations/src/data/calendar","typescript/component_libraries/deep-integrations/src/data/chat"],(function(e,t,r,n,s,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeepIntegrationsReducer=t.defaultState=void 0,t.defaultState={apiV2Requests:r.defaultApiV2Requests,chatState:a.defaultChatState,sharedCalendarState:i.defaultSharedCalendarState,upcomingCalendarState:i.defaultUpcomingCalendarState,fullCalendarState:i.defaultFullCalendarState,userSettingsState:n.defaultUserSettingsState,presentToZoomState:s.defaultPresentToZoomState},t.DeepIntegrationsReducer=function(e=t.defaultState,o){const c={apiV2Requests:(0,r.apiV2RequestsReducer)(e.apiV2Requests,o),chatState:(0,a.chatStateReducer)(e.chatState,o),sharedCalendarState:(0,i.sharedCalendarStateReducer)(e.sharedCalendarState,o),upcomingCalendarState:(0,i.upcomingCalendarStateReducer)(e.upcomingCalendarState,o),fullCalendarState:(0,i.fullCalendarStateReducer)(e.fullCalendarState,o),userSettingsState:(0,n.userSettingsReducer)(e.userSettingsState,o),presentToZoomState:(0,s.presentToZoomStateReducer)(e.presentToZoomState,o)};let l=!1;for(const t of Object.keys(c))if(c[t]!==e[t]){l=!0;break}return l?c:e}})),define("typescript/component_libraries/deep-integrations/src/data/present_to_zoom",["require","exports","typescript/component_libraries/deep-integrations/src/data/types"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.presentToZoomStateReducer=t.defaultPresentToZoomState=void 0,t.defaultPresentToZoomState={selfPreviewUrl:void 0},t.presentToZoomStateReducer=function(e=t.defaultPresentToZoomState,n){switch(n.type){case r.Actions.generateSelfPreviewLink:{const t=n.payload;return Object.assign(Object.assign({},e),{selfPreviewUrl:t})}}return e}})),define("typescript/component_libraries/deep-integrations/src/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=t.MakeZoomMeetingState=void 0,(function(e){e[e.Normal=0]="Normal",e[e.Pending=1]="Pending",e[e.Error=2]="Error",e[e.Success=3]="Success"})(t.MakeZoomMeetingState||(t.MakeZoomMeetingState={})),(function(e){e.saveChatMessage="@@DeepIntegrations/saveChatMessage",e.saveInputFocus="@@DeepIntegrations/saveInputFocus",e.sendChatMessage="@@DeepIntegrations/sendChatMessage",e.canSendMessage="@@DeepIntegrations/canSendMessage",e.clearLastSentMessage="@@DeepIntegrations/clearCanSendMessage",e.clearCanSendMessage="@@DeepIntegrations/clearLastSentMessage",e.loadCalendarEvents="@@DeepIntegrations/loadCalendarEvents",e.loadCalendarEventsInCommon="@@DeepIntegrations/loadCalendarEventsInCommon",e.loadUpcomingCalendarEvents="@@DeepIntegrations/loadUpcomingCalendarEvents",e.clearLoadEventsInCommonError="@@DeepIntegrations/clearLoadEventsInCommonError",e.clearLoadEventsError="@@DeepIntegrations/clearLoadEventsError",e.makeZoomMeeting="@@DeepIntegrations/makeZoomMeeting",e.clearMakeZoomMeetingMessage="@@DeepIntegrations/clearMakeZoomMeetingMessage",e.generateSelfPreviewLink="@@DeepIntegrations/generateSelfPreviewLink"})(t.Actions||(t.Actions={}))})),define("typescript/component_libraries/deep-integrations/src/data/user_settings",["require","exports","tslib","typescript/component_libraries/deep-integrations/src/async","typescript/component_libraries/deep-integrations/src/data/user_settings_types"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.userSettingsReducer=t.defaultUserSettingsState=t.changePreferredServices=t.dismissPrompts=t.loadUserSettings=t.isPromptDismissed=void 0;function i(){return(e,t,i)=>r.__awaiter(this,void 0,void 0,(function*(){const{apiV2Client:t,reportError:r}=i();e({type:s.UserSettingsActionType.loadUserSettings,payload:{state:"pending"}});const a=yield(0,n.toAsync)(t.ns("integrations").rpc("get_user_settings",{},{}));"rejected"===a.state&&r(a.error,"non-critical",[],{integration_action:"loadUserSettings"}),e({type:s.UserSettingsActionType.loadUserSettings,payload:a})}))}t.isPromptDismissed=(e,t)=>{const r=e.userSettingsState.latestUserSettings;return r&&r.dismissed_prompts.filter(e=>e[".tag"]===t).length>0},t.loadUserSettings=i,t.dismissPrompts=function(e){return(t,a,o)=>r.__awaiter(this,void 0,void 0,(function*(){const{apiV2Client:r,reportError:a}=o();t({type:s.UserSettingsActionType.dismissPrompts,meta:{prompts:e},payload:{state:"pending"}});const c=yield(0,n.toAsync)(r.ns("integrations").rpc("add_dismiss_prompts",{prompts:e},{}));"rejected"===c.state&&a(c.error,"non-critical",[],{integration_action:"dismissPrompts"}),t({type:s.UserSettingsActionType.dismissPrompts,meta:{prompts:e},payload:c}),t(i())}))},t.changePreferredServices=function(e){return(t,a,o)=>r.__awaiter(this,void 0,void 0,(function*(){const{apiV2Client:r}=o(),a={preferences:e};t({type:s.UserSettingsActionType.changePreferredServices,meta:{preferredServices:e},payload:{state:"pending"}});const{reportError:c}=o(),l=yield(0,n.toAsync)(r.ns("integrations").rpc("set_preferred_services",a,{}));"rejected"===l.state&&c(l.error,"non-critical",[],{action:"changeDefaultChatService"}),t({type:s.UserSettingsActionType.changePreferredServices,meta:{preferredServices:e},payload:l}),t(i())}))},t.defaultUserSettingsState={};t.userSettingsReducer=(e=t.defaultUserSettingsState,r)=>{switch(r.type){case s.UserSettingsActionType.loadUserSettings:{const{payload:t}=r;return Object.assign(Object.assign({},e),{userSettings:t,latestUserSettings:"fulfilled"===t.state?t.value:e.latestUserSettings})}case s.UserSettingsActionType.dismissPrompts:{const{payload:t,meta:n}=r,{latestUserSettings:s}=e,i={dismissed_prompts:(s?s.dismissed_prompts:[]).concat(n.prompts),preferred_services:s?s.preferred_services:[]};return Object.assign(Object.assign({},e),{dismissPrompts:t,latestUserSettings:i})}case s.UserSettingsActionType.changePreferredServices:{const{payload:t,meta:n}=r,{latestUserSettings:s}=e;if("pending"!==t.state)return Object.assign(Object.assign({},e),{changePreferredServices:t});const i=(s?s.preferred_services:[]).concat(n.preferredServices),a={};for(const e of i)a[e.permission_type[".tag"]]=e.service_type[".tag"];const o=Object.keys(a).map(e=>({permission_type:{".tag":e},service_type:{".tag":a[e]}})),c={dismissed_prompts:s?s.dismissed_prompts:[],preferred_services:o};return Object.assign(Object.assign({},e),{changePreferredServices:t,latestUserSettings:c})}default:return e}}})),define("typescript/component_libraries/deep-integrations/src/data/user_settings_types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserSettingsActionType=void 0,(function(e){e.loadUserSettings="@@DeepIntegrations/loadUserSettings",e.dismissPrompts="@@DeepIntegrations/dismissPrompts",e.changePreferredServices="@@DeepIntegrations/changePreferredServices"})(t.UserSettingsActionType||(t.UserSettingsActionType={}))})),define("typescript/component_libraries/deep-integrations/src/instrumentation/connect_service_flow_wrapper",["require","exports","tslib","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,r,n){"use strict";function s(e,t,r,s,i={}){return{event_name:n.InstrEventType.ServiceConnectionFlowStart,service_type:e[".tag"],feature_name:r,extra:Object.assign(Object.assign({},i),{connection_state:t[".tag"],desired_outcome:s})}}function i(e,t,r,s,i={}){return{event_name:n.InstrEventType.ServiceConnectionFlowEnd,service_type:e[".tag"],feature_name:t,extra:Object.assign(Object.assign({},i),{desired_outcome:r,outcome:s,was_successful:`${s===r}`})}}Object.defineProperty(t,"__esModule",{value:!0}),t.connectServiceFlowWrapper=t.buildEndEvent=t.buildStartEvent=void 0,t.buildStartEvent=s,t.buildEndEvent=i,t.connectServiceFlowWrapper=function(e,t,a,o){return function(c,l=o,d={}){return r.__awaiter(this,void 0,void 0,(function*(){const r=a[c];e(s(r.service_type,r.connection_state,l,n.InstrConnectServiceFlowOutcome.Connected,d));try{const s=yield t(c);return e(i(r.service_type,l,n.InstrConnectServiceFlowOutcome.Connected,n.InstrConnectServiceFlowOutcome.Connected,d)),s}catch(t){throw d.error=JSON.stringify(t),e(i(r.service_type,l,n.InstrConnectServiceFlowOutcome.Connected,n.InstrConnectServiceFlowOutcome.Error,d)),t}}))}}})),define("typescript/component_libraries/deep-integrations/src/instrumentation/constants",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstrRenderedFeatureStage=t.InstrConnectServiceFlowOutcome=t.InstrToastType=t.InstrExternalLinkReason=t.InstrActionType=t.InstrEventType=t.InstrFeatureType=void 0,(function(e){e.ConnectedApps="connected_apps",e.ConnectedServices="connected_apps.connected_services",e.ZoomSettings="connected_apps.zoom_settings",e.SlackSettings="connected_apps.slack_settings",e.MultiAccountSettings="connected_apps.multi_account_settings",e.ProfileCard="profile_card",e.CalendarSection="profile_card.calendar_section",e.ChatSection="profile_card.chat_section",e.FileLinkTokenInChatSection="profile_card.chat_section.file_link_token",e.AppStoreLite="app_store_lite",e.SendToSlack="send_to_slack",e.PresentToZoom="present_to_zoom",e.ShareToTrello="share_to_trello",e.ShareToTrelloCardDetails="share_to_trello.card_details",e.SignaturesTabOnShare="bt_signatures_tab_on_share",e.TosWithRecipientsInfo="bt_hs_tos_modal_redesign",e.SignaturesHub="bt_signatures_hub",e.TeamAdminSettings="team_admin_settings",e.TrelloPreview="trello_powerup.file_preview",e.TrelloFileAttachments="trello_powerup.file_attachments",e.TrelloFolderAttachments="trello_powerup.folder_attachments",e.TrelloOAuth="trello_powerup.oauth",e.TrelloSharedLinkFolderEntries="trello_powerup.shared_link_folder_entries",e.TrelloSharedLinkMetadata="trello_powerup.shared_link_metadata",e.TrelloLinkUnfurl="trello_powerup.link_unfurl",e.TrelloActivityFeed="trello_activity_feed",e.ZoomFileViewerExtension="zoom_file_viewer_extension",e.ZoomFileViewerExtensionHomeView="zoom_file_viewer_extension.home_view",e.ZoomFileViewerExtensionCreateMeetingView="zoom_file_viewer_extension.create_meeting_view",e.ZoomFileViewerExtensionMeetingDetailView="zoom_file_viewer_extension.meeting_detail_view",e.ZoomFileViewerExtensionUnlinkedView="zoom_file_viewer_extension.unlinked_view",e.ZoomFileViewerExtensionErrorView="zoom_file_viewer_extension.error_view",e.HelloSignDeepIntegrationTOS="hellosign_deep_integration_tos",e.HelloSignDeepIntegration="hellosign_deep_integration",e.HelloSignDeepIntegrationSafariFixDisabled="hellosign_deep_integration_safari_fix_disabled",e.IntegratedTasks="integrated_tasks",e.DropboxSignRebrand="hellosign_dropbox_sign_rebrand",e.BtOldHsTosRebranding="bt_old_hs_tos_rebranding"})(t.InstrFeatureType||(t.InstrFeatureType={})),(function(e){e.UserClick="user_click",e.UserInput="user_input",e.RenderedFeature="rendered_feature",e.ManualRenderedFeature="manual_rendered_feature",e.ServiceConnectionFlowStart="service_connection_flow_start",e.ServiceConnectionFlowEnd="service_connection_flow_end",e.Success="success",e.Retry="retry",e.Failure="failure",e.MakeZoomMeetingComplete="make_zoom_meeting_complete",e.SendMessageComplete="send_message_complete",e.TeamAdminSaveComplete="team_admin_save_complete",e.ReceivedUserSetting="received_user_setting",e.SelectAction="select_action",e.UpdateFile="update_file",e.ActionTaken="action_taken",e.APITrace="api_trace"})(t.InstrEventType||(t.InstrEventType={})),(function(e){e.DismissLastSentMessageNotification="dismiss_last_sent_message_notification",e.OpenChatServiceProviders="open_chat_service_providers",e.ChangeChatService="change_chat_service",e.OpenManageApps="open_manage_apps",e.CloseModal="close_modal",e.DismissPrompt="dismiss_prompt",e.OpenExternalLink="open_external_link",e.MakeZoomMeeting="make_zoom_meeting",e.ConnectService="connect_service",e.ReconnectService="reconnect_service",e.DisconnectService="disconnect_service",e.DisconnectServiceAbort="disconnect_service_abort",e.DisconnectServiceConfirm="disconnect_service_confirm",e.ModifyServiceSettings="modify_service_settings",e.ModifyServiceSettingsAbort="modify_service_settings_abort",e.ModifyServiceSettingsConfirm="modify_service_settings_confirm",e.OpenConnectCalendarDropdown="open_connect_calendar_dropdown",e.DismissToast="dismiss_toast",e.LearnMore="learn_more",e.SendMessage="send_message",e.CancelMessage="cancel_message",e.Search="search",e.ShareLink="share_link",e.UndoShareLink="undo_share_link",e.ErrorTryAgain="error_try_again",e.PresentFile="present_file",e.EnterMeetingId="enter_meeting_id",e.LoadData="load_data",e.TeamAdminUndo="team_admin_undo",e.TeamAdminSave="team_admin_save",e.TeamAdminDisableService="team_admin_disable_service",e.TeamAdminEnableService="team_admin_enable_service",e.CloseFileLinkToken="close_file_link_token",e.PrefetchData="prefetch_data",e.OpenZoomSideBar="open_zoom_side_bar",e.ReopenZoomSideBar="reopen_zoom_side_bar",e.SeeLessMeetings="see_less_meetings",e.SeeAllMeetings="see_all_meetings",e.SeeLessParticipants="see_less_participants",e.SeeAllParticipants="see_all_participants",e.SelectAllUsers="select_all_users",e.ClearAllUsers="clear_all_users",e.AddUser="add_user",e.SelectUserSuggestion="select_user_suggestion",e.PlayRecording="play_recording",e.StartMeeting="start_meeting",e.JointMeeting="join_meeting",e.UpdateMeetingTitle="update_meeting_title",e.CreateMeeting="create_meeting",e.UpdatePmiSetting="update_pmi_setting",e.OpenHelpCenter="open_help_center",e.OpenAccountSetting="open_account_setting",e.AcceptTOS="accept_tos",e.StartFlow="start_flow",e.CancelFlow="cancel_flow",e.ChooseFile="choose_file",e.TryDemo="try_demo",e.Start="start",e.FeatureDisabled="feature_disabled",e.SafariUnsupported="safari_unsupported",e.MSIEUnsupported="msie_unsupported",e.HSHomeOpenActionMenu="hshome_open_action_menu",e.HSHomePreview="hshome_action_preview",e.HSHomeDownload="hshome_action_download",e.HSHomeLocate="hshome_action_locate",e.HSHomeRemind="hshome_action_remind",e.HSHomeCancel="hshome_action_cancel",e.HSHomeActivateRequest="hshome_activate_request",e.HSHomeActivateTabInProgress="hshome_activate_tab_in_progress",e.HSHomeActivateTabCompleted="hshome_activate_tab_completed",e.HSHomeSortByTitle="hshome_sort_by_title",e.HSHomeSortBySigners="hshome_sort_by_signers",e.HSHomeSortByDate="hshome_sort_by_date",e.HSHomeSignNow="hshome_sign_now",e.HSHomeGetInitialSignatureRequests="hshome_get_initial_signature_requests",e.HSHomeGetSignatureRequests="hshome_get_signature_requests",e.HSHomeGetTemplates="hshome_get_templates",e.HSHomeGetTosStatus="hshome_get_tos_status",e.HSHomeLaunchRequestSignature="hshome_launch_request_signature",e.HSHomeLaunchCreateTemplate="hshome_launch_create_template",e.HSHomeLaunchUseTemplate="hshome_launch_use_template",e.HSHomeLaunchEditTemplate="hshome_launch_edit_template",e.HSHomeDeleteTemplate="hshome_delete_template",e.HSHomeTemplateQuotaReached="hshome_template_quota_reached",e.HSHomeSmartSuggestionDisplayed="hshome_smart_suggestion_displayed",e.HSHomeSmartSuggestionClicked="hshome_smart_suggestion_clicked",e.HSHomeGetAccountInfo="hshome_get_account_info",e.HSHomeSearchStart="hshome_search_start",e.HSHomeSeePlansClicked="hshome_see_plans_clicked",e.PrepSendLog="prep_send_log",e.ViewTerms="view_terms",e.ViewPrivacyPolicy="view_privacy_policy",e.SharePageSignatureTabPreview="sharepage_signature_tab_action_preview",e.SharePageSignatureTabDownload="sharepage_signature_tab_action_download",e.SharePageSignatureTabRemind="sharepage_signature_tab_action_remind",e.SharePageSignatureTabSign="sharepage_signature_tab_action_sign",e.SharePageSignatureTabGetSignatureRequests="sharepage_signature_tab_get_signature_requests",e.SharePageSignatureTabLaunchRequestSignature="sharepage_signature_tab_launch_request_signature",e.SharePageSignatureTabSortByTitle="sharepage_signature_tab_sort_by_title",e.SharePageSignatureTabSortByDate="sharepage_signature_tab_sort_by_date",e.SharePageSignatureTabSortByStatus="sharepage_signature_tab_sort_by_status",e.AddSigner="add_signer",e.ToggleSelfSign="toggle_self_sign",e.ContinueWithSignersModal="continue_with_signers_modal",e.SignatureHubPreview="signature_hub_action_preview",e.SignatureHubDownload="signature_hub_action_download",e.SignatureHubRemind="signature_hub_action_remind",e.SignatureHubSign="signature_hub_action_sign",e.SignatureHubGetSignatureRequests="signature_hub_get_signature_requests",e.SignatureHubGetSignatureRequestsInitial="signature_hub_get_signature_requests_initial",e.SignatureHubGetTemplates="signature_hub_get_templates",e.SignatureHubGetTosStatus="signature_hub_get_tos_status",e.SignatureHubGetAccountInfo="signature_hub_get_account_info",e.SignatureHubCheckAllowedFeatures="signature_hub_check_allowed_features",e.SignatureHubLaunchRequestSignature="signature_hub_launch_request_signature",e.SignatureHubSortByTitle="signature_hub_sort_by_title",e.SignatureHubSortByDate="signature_hub_sort_by_date",e.SignatureHubSortByStatus="signature_hub_sort_by_status",e.SignatureHubUseTemplate="signature_hub_use_template",e.SignatureHubEditTemplate="signature_hub_edit_template",e.SignatureHubDeleteTemplate="signature_hub_delete_template",e.SignatureHubCreateTemplate="signature_hub_create_template",e.SetDefaultWorkspace="set_default_workspace"})(t.InstrActionType||(t.InstrActionType={})),(function(e){e.OpenMoreCalendarEvents="open_more_calendar_events",e.OpenCalendarEvent="open_calendar_event",e.OpenZoomConference="open_zoom_conference_link",e.OpenMailto="open_mailto",e.OpenMessageDeepLink="open_message_deep_link"})(t.InstrExternalLinkReason||(t.InstrExternalLinkReason={})),(function(e){e.CalendarError="calendar_error",e.ZoomMakeMeeting="zoom_make_meeting",e.LastSentMessage="last_sent_message"})(t.InstrToastType||(t.InstrToastType={})),(function(e){e.Connected="connected",e.Disconnected="disconnected",e.Abort="abort",e.Error="error"})(t.InstrConnectServiceFlowOutcome||(t.InstrConnectServiceFlowOutcome={})),(function(e){e.Mounted="mounted",e.Loaded="loaded",e.Interactive="interactive",e.Updated="updated"})(t.InstrRenderedFeatureStage||(t.InstrRenderedFeatureStage={}))})),define("typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper",["require","exports","typescript/component_libraries/deep-integrations/src/instrumentation/constants"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onClickWrapper=t.functionWrapperProvider=void 0,t.functionWrapperProvider=function(e,t){return function(r,n,s={},i={}){let{featureName:a,serviceType:o,extra:c={}}=s;return function(...s){return i.toExtraDict&&(c=i.toExtraDict(c,...s)),i.toServiceType&&(o=i.toServiceType(...s)||o),e({event_name:r,feature_name:a||t,service_type:o,extra:c}),n?n(...s):void 0}}},t.onClickWrapper=function(e,t,n,s={},i={}){return e(r.InstrEventType.UserClick,n,s,Object.assign(Object.assign({},i),{toExtraDict(e){const r=i.toExtraDict?i.toExtraDict(e):e;return Object.assign(Object.assign({},r),{action:t})}}))}})),define("typescript/component_libraries/deep-integrations/src/instrumentation/common_context",["require","exports","typescript/component_libraries/deep-integrations/src/platform/log_event"],(function(e,t,r){"use strict";function n(e){const t={};if(e.serviceList)for(const r of e.serviceList)t[`${r.service_type[".tag"]}_connection_state`]=r.connection_state[".tag"],t[`${r.service_type[".tag"]}_availability`]=r.service_availability[".tag"];if(e.featureGates)if(e.featureGates instanceof Array)for(const r of e.featureGates)t[`feature_gate_${r.feature}_available`]=String("available"===r.available[".tag"]);else for(const r of Object.keys(e.featureGates))t[`feature_gate_${r}_available`]=String(e.featureGates[r]);if(e.userSettings){for(const r of e.userSettings.dismissed_prompts)t[`is_${r[".tag"]}_prompt_dismissed`]="true";for(const r of e.userSettings.preferred_services)t[`preferred_${r.permission_type[".tag"]}_service`]=r.service_type[".tag"]}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.decorateCommonContext=t.getCommonContextExtra=void 0,t.getCommonContextExtra=n,t.decorateCommonContext=function(e,t){return(0,r.logEventWithExtra)(e,n(t))}})),define("typescript/component_libraries/deep-integrations/src/instrumentation/timer",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;t.Timer=class{constructor(e){this.perfTimer=e,this.startMs=null,this.endMs=null,this.restart()}restart(){this.startMs=this.perfTimer.now(),this.endMs=null}mark(){return this.endMs=this.perfTimer.now(),this.endMs-this.startMs}duration(){return null===this.endMs?-1:this.endMs-this.startMs}}})),define("typescript/component_libraries/deep-integrations/src/instrumentation/instr_button",["require","exports","tslib","react","spectrum/button/index","typescript/component_libraries/deep-integrations/src/instrumentation/function_wrapper","classnames","typescript/component_libraries/deep-integrations/src/link/link_button"],(function(e,t,r,n,s,i,a,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInstrLinkButtonComponent=t.createInstrButtonComponent=void 0,n=r.__importStar(n),a=r.__importDefault(a),t.createInstrButtonComponent=function(e){return class extends n.Component{render(){const t=this.props,{onClick:o,instrAction:c,instrDetails:l}=t,d=r.__rest(t,["onClick","instrAction","instrDetails"]);return n.createElement(s.Button,Object.assign({},d,{onClick:(0,i.onClickWrapper)(e,c,o,l),className:this.props.variant&&"styleless"===this.props.variant?(0,a.default)("int-box-shadow-on-focus","int-pointer-cursor",this.props.className):this.props.className}))}}},t.createInstrLinkButtonComponent=function(e){return class extends n.Component{render(){const t=this.props,{onClick:s,instrAction:a,instrDetails:c}=t,l=r.__rest(t,["onClick","instrAction","instrDetails"]);return n.createElement(o.LinkButton,Object.assign({},l,{onClick:(0,i.onClickWrapper)(e,a,s,c)}))}}}})),define("typescript/component_libraries/deep-integrations/src/instrumentation/instr_feature_component",["require","exports","tslib","react","typescript/component_libraries/deep-integrations/src/instrumentation/constants","typescript/component_libraries/deep-integrations/src/instrumentation/timer"],(function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstrFeatureComponent=void 0,n=r.__importStar(n);class a extends n.Component{constructor(e){super(e),this.deltaMeasurementFrom="constructed",this.isDoneLoading=!1,this.isInteractive=!1,this.timer=new i.Timer(e.performanceTimer)}componentDidMount(){this.arePropsLoaded(this.props)?this.logRenderedFeature(s.InstrRenderedFeatureStage.Interactive):this.logRenderedFeature(s.InstrRenderedFeatureStage.Mounted)}UNSAFE_componentWillReceiveProps(e){this.isDoneLoading||0===this.getAllAsyncProps(e).length||this.arePropsLoaded(e)&&this.logRenderedFeature(s.InstrRenderedFeatureStage.Loaded,e)}componentDidUpdate(e){this.isDoneLoading&&!this.isInteractive&&this.logRenderedFeature(s.InstrRenderedFeatureStage.Interactive)}getAllAsyncProps(e){const t=[];return e.criticalAsyncProps&&t.push(...e.criticalAsyncProps),e.nonCriticalAsyncProps&&t.push(...e.nonCriticalAsyncProps),t}arePropsLoaded(e){return this.getAllAsyncProps(e).reduce((e,t)=>e&&!!t&&"pending"!==t.state,!0)}hadRejectedAsyncProp(e){return this.getAllAsyncProps(e).reduce((e,t)=>t&&"rejected"===t.state||e,!1)}hadCriticalRejectedAsyncProp(e){return!!e.criticalAsyncProps&&e.criticalAsyncProps.reduce((e,t)=>t&&"rejected"===t.state||e,!1)}logRenderedFeature(e,t){const r={};t||(t=this.props);const n=this.hadRejectedAsyncProp(t),i=this.hadCriticalRejectedAsyncProp(t);switch(e){case s.InstrRenderedFeatureStage.Interactive:if(this.isInteractive)return;this.isInteractive=!0,this.isDoneLoading=!0,r.had_rejected_async_prop=String(n),r.was_successful=String(!i);break;case s.InstrRenderedFeatureStage.Loaded:if(this.isDoneLoading)return;this.isDoneLoading=!0,r.had_rejected_async_prop=String(n),r.was_successful=String(!i)}this.props.logEvent({event_name:s.InstrEventType.RenderedFeature,extra:Object.assign(Object.assign({},r),{rendered_feature_stage:e,rendered_feature_delta_ms:String(this.timer.mark()),rendered_feature_delta_from:this.deltaMeasurementFrom})})}render(){return this.props.children}}t.InstrFeatureComponent=a,a.displayName="InstrFeatureComponent"})),define("typescript/component_libraries/deep-integrations/src/platform/log_event",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withDefaults=t.logEventWithExtra=void 0,t.logEventWithExtra=function(e,r){return(0,t.withDefaults)(e,{extra:r})};t.withDefaults=(e,t)=>r=>{e(Object.assign(Object.assign(Object.assign({},t),r),{extra:Object.assign(Object.assign({},t.extra),r.extra)}))}})),define("metaserver/static/js/integrations/data/actions",["require","exports","tslib","metaserver/static/js/integrations/data/types","typescript/component_libraries/deep-integrations/src/async","metaserver/static/js/integrations/feature_gating"],(function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchFeatureAvailability=t.fetchListServices=void 0,t.fetchListServices=function(e){return(t,i,a)=>r.__awaiter(this,void 0,void 0,(function*(){const{apiV2Client:r,reportError:i}=a().deepIntegrationsHandler;t({type:n.Actions.fetchListServices,payload:{state:"pending"}});const o=yield(0,s.toAsync)(r.ns("profile_services").rpc("list_services",void 0,{}));e&&e(o),"rejected"===o.state&&i(o.error,"non-critical",[],{integration_action:"listServices"}),t({type:n.Actions.fetchListServices,payload:o})}))},t.fetchFeatureAvailability=function(e){return(t,s,a)=>r.__awaiter(this,void 0,void 0,(function*(){const{apiV2Client:r,reportError:s}=a().deepIntegrationsHandler;try{const s=yield(0,i.getFeatureAvailability)(r,e);t({type:n.Actions.fetchFeatureAvailability,payload:s})}catch(e){s(e,"non-critical",[],{integration_action:"featureAvailability"})}}))}})),define("metaserver/static/js/integrations/data/reducers",["require","exports","metaserver/static/js/integrations/data/types"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntegrationsReducer=t.defaultIntegrationsNamespaceState=void 0,t.defaultIntegrationsNamespaceState={listServices:void 0,latestListServicesResult:void 0},t.IntegrationsReducer=function(e=t.defaultIntegrationsNamespaceState,n){switch(n.type){case r.Actions.fetchListServices:{const{payload:t}=n;return Object.assign(Object.assign({},e),{listServices:t,latestListServicesResult:"fulfilled"===t.state?t.value:e.latestListServicesResult})}case r.Actions.fetchFeatureAvailability:return Object.assign(Object.assign({},e),{featureAvailability:Object.assign(Object.assign({},e.featureAvailability),n.payload)});default:return e}}})),define("metaserver/static/js/integrations/data/selectors",["require","exports","reselect","metaserver/static/js/redux/namespaces","metaserver/static/js/redux/selectors","metaserver/static/js/integrations/feature_gating"],(function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getHelloSignMLClassificationVariant=t.isHelloSignMLClassificationEnabled=t.isHelloSignDeepIntegrationInFileViewerSidebarEnabled=t.isHelloSignAppActionInFileViewerSidebarEnabled=t.isProfileCardInShareSheetEnabled=t.getFeatureAvailability=t.isSendForSignatureEnabled=t.isConnectServiceLandingPagesEnabled=t.getListServicesInfo=void 0,t.getListServicesInfo=(0,r.createSelector)([e=>{const t=(0,s.getStateAtNamespace)(e,n.INTEGRATIONS_NAMESPACE_KEY);return{listServices:t.listServices,latestListServicesResult:t.latestListServicesResult}}],e=>e),t.isConnectServiceLandingPagesEnabled=function(e){const t=(0,s.getStateAtNamespace)(e,n.INTEGRATIONS_NAMESPACE_KEY).featureAvailability;return void 0===t?null:(0,i.isFeatureAvailable)(t,{entry_point:"file_preview_top_bar",feature:"connect_service_landing_pages"})},t.isSendForSignatureEnabled=function(e){var t,r,i;const a=(0,s.getStateAtNamespace)(e,n.DEEP_INTEGRATIONS_NAMESPACE_KEY);return!!(null===(i=null===(r=null===(t=null==a?void 0:a.userSettingsState)||void 0===t?void 0:t.latestUserSettings)||void 0===r?void 0:r.hellosign_settings)||void 0===i?void 0:i.send_for_signature_enabled)},t.getFeatureAvailability=(0,r.createSelector)([e=>(0,s.getStateAtNamespace)(e,n.INTEGRATIONS_NAMESPACE_KEY).featureAvailability||{}],e=>e),t.isProfileCardInShareSheetEnabled=(0,r.createSelector)([t.getFeatureAvailability],e=>!!(0,i.isFeatureAvailable)(e,{feature:"profile_card_v2",entry_point:"share_sheet"})),t.isHelloSignAppActionInFileViewerSidebarEnabled=(0,r.createSelector)([t.getFeatureAvailability],e=>"APP_ACTION"===(0,i.getFeatureVariant)(e,{entry_point:"file_preview_side_bar",feature:"hellosign_deep_integration"})),t.isHelloSignDeepIntegrationInFileViewerSidebarEnabled=(0,r.createSelector)([t.getFeatureAvailability],e=>{const t=(0,i.getFeatureVariant)(e,{entry_point:"file_preview_side_bar",feature:"hellosign_deep_integration"});return"DEEP_INTEGRATION"===t||"DEEP_INTEGRATION_WITH_EXTENSION"===t}),t.isHelloSignMLClassificationEnabled=(0,r.createSelector)([t.getFeatureAvailability],e=>!!(0,i.isFeatureAvailable)(e,{feature:"hellosign_ml_classification_experiment"})),t.getHelloSignMLClassificationVariant=(0,r.createSelector)([t.getFeatureAvailability],e=>(0,i.getFeatureVariant)(e,{feature:"hellosign_ml_classification_experiment"}))})),define("metaserver/static/js/integrations/data/store",["require","exports","tslib","metaserver/static/js/redux/store","lodash","typescript/component_libraries/deep-integrations/src/data/reducer","metaserver/static/js/api_v2/default_user_client","metaserver/static/js/redux/namespaces","metaserver/static/js/integrations/data/reducers","metaserver/static/js/integrations/data/actions","metaserver/static/js/clean/viewer","metaserver/static/js/integrations/performance_timer","metaserver/static/js/integrations/log_event","metaserver/static/js/integrations/report_error","metaserver/static/js/redux/selectors","typescript/component_libraries/deep-integrations/src/data/user_settings","metaserver/static/js/clean/active_user"],(function(e,t,r,n,s,i,a,o,c,l,d,u,p,_,g,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wrapMapDispatchToProps=t.wrapDispatch=t.wrapMapStateToProps=t.isPromptDismissed=t.initStoreForTesting=t.initStoreForIntegration=t.registerReducersForIntegration=void 0,s=r.__importStar(s);const v=[{feature:"connect_service_landing_pages",entry_point:"file_preview_top_bar"},{feature:"profile_card_v2",entry_point:"share_sheet"},{feature:"hellosign_deep_integration",entry_point:"file_preview_side_bar"},{feature:"hellosign_ml_classification_experiment"},{feature:"hellosign_dropbox_sign_rebrand"}];let S;function h(e){const r=(0,p.createIntegrationsActionsLogger)(),s=(0,n.getStoreAndRegisterReducers)({},{deepIntegrationsHandler:{apiV2Client:new a.DefaultUserApiV2Client(e),performanceTimer:u.WebPerformanceTimer,logEvent:r.logEvent,reportError:_.webReportError}});return s.dispatch((0,l.fetchListServices)()),s.dispatch((0,l.fetchFeatureAvailability)(v)),(0,t.wrapDispatch)(s.dispatch)((0,m.loadUserSettings)()),s}t.registerReducersForIntegration=s.once(()=>(0,n.getStoreAndRegisterReducers)({[o.DEEP_INTEGRATIONS_NAMESPACE_KEY]:i.DeepIntegrationsReducer,[o.INTEGRATIONS_NAMESPACE_KEY]:c.IntegrationsReducer})),t.initStoreForIntegration=function(e){const r=void 0!==e?e:(0,f.getActiveUserId)();if(!r)throw new Error("Expected user ID");const n=(0,t.registerReducersForIntegration)();if(r===S)return n;const s=h(d.Viewer.get_viewer().get_user_by_id(r));return S=r,s},t.initStoreForTesting=function(e){return(0,t.registerReducersForIntegration)(),h(e.personal_user)};t.isPromptDismissed=(e,t)=>(0,m.isPromptDismissed)((0,g.getStateAtNamespace)(e,o.DEEP_INTEGRATIONS_NAMESPACE_KEY),t);t.wrapMapStateToProps=e=>(t,r)=>e((0,g.getStateAtNamespace)(t,o.DEEP_INTEGRATIONS_NAMESPACE_KEY),r);t.wrapDispatch=e=>r=>{if("function"==typeof r){const n=r;return e((e,r,s)=>n((0,t.wrapDispatch)(e),()=>(0,g.getStateAtNamespace)(r(),o.DEEP_INTEGRATIONS_NAMESPACE_KEY),()=>s().deepIntegrationsHandler))}return e(r)};t.wrapMapDispatchToProps=e=>(r,n)=>e((0,t.wrapDispatch)(r),n)})),define("metaserver/static/js/integrations/data/types",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=void 0,(function(e){e.fetchListServices="@@Integration/FetchListServices",e.fetchFeatureAvailability="@@Integration/FetchFeatureAvailability"})(t.Actions||(t.Actions={}))})),define("metaserver/static/js/integrations/log_event",["require","exports","tslib","lodash","metaserver/static/js/logging/telemetry","metaserver/static/js/logging/hive/schemas/web-ecosystem_integration_events"],(function(e,t,r,n,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionsLogger=t.createIntegrationsActionsHiveLogger=t.createIntegrationsActionsLogger=void 0,n=r.__importStar(n),t.createIntegrationsActionsLogger=n.once((function(e){return new a(e)})),t.createIntegrationsActionsHiveLogger=n.memoize(()=>new a(new s.HiveLogger));class a{constructor(e){this.logEvent=e=>{this.actionsLogger.log(new i.EcosystemIntegrationLoggingTableRow({event_name:e.event_name,integration_name:e.service_type,extra:Object.assign(Object.assign({},e.extra),{feature_name:e.feature_name})}))},this.actionsLogger=e||new s.VortexComboLogger}}t.ActionsLogger=a})),define("metaserver/static/js/integrations/performance_timer",["require","exports","metaserver/static/js/perf_tools/web_timing_utils"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebPerformanceTimer=void 0,t.WebPerformanceTimer={now:()=>r.WebTimingUtil.getNow()}})),define("metaserver/static/js/integrations/feature_gating",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeatureVariant=t.isFeatureAvailable=t.getFeatureAvailability=void 0;t.getFeatureAvailability=(e,t)=>e.ns("integrations").rpc("are_features_available",{features:t},{}).then(e=>{const t={};return e.features.forEach(({feature:e,entry_point:r="default",available:n,variant:s})=>{t[r]=Object.assign(Object.assign({},t[r]),{[e]:{available:"available"===n[".tag"],variant:s}})}),t}),t.isFeatureAvailable=function(e,t){const r=t.entry_point||"default";return e[r]&&e[r][t.feature]&&e[r][t.feature].available||null},t.getFeatureVariant=function(e,t){const r=t.entry_point||"default";return e[r]&&e[r][t.feature]&&e[r][t.feature].variant||null}})),define("metaserver/static/js/integrations/report_error",["require","exports","metaserver/static/js/core/exception","metaserver/static/js/api_v2/error"],(function(e,t,r,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webReportError=void 0;function s(e){let t="UnknownError";if(e.error){const r=e.error;void 0!==r[".tag"]&&(t=r[".tag"])}const r=e.raw&&e.raw.responseBody?e.raw.responseBody:"Received empty error response body from API";return new Error(t+": "+r)}t.webReportError=(e,t,i=[],a)=>{if((0,n.isApiError)(e))(0,r.reportException)({err:s(e),severity:t,tags:[...i,"DeepIntegrations"],exc_extra:a});else{if(!(e instanceof Error))throw new Error("webReportError received something other than an Error");(0,r.reportException)({err:e,severity:t,tags:[...i,"DeepIntegrations"],exc_extra:a})}}}));
//# sourceMappingURL=pkg-deep-integrations-common.min.js-vflgJ8ZCV.map