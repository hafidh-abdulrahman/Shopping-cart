define("metaserver/static/prod_assets_web_modules/dig-components/controls",["exports","../common/index","react","focus-visible"],(function(e,t,n,a){"use strict";var s=(function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)})(n),o=s.forwardRef(({checked:e,className:n,isIndeterminate:a=!1,inverse:o=!1,style:i={},...c},d)=>{const[u,m]=s.useState(!1),f=s.useRef(e);s.useEffect(()=>{u||e===f.current||m(!0)},[e,f,u]);const p=t.classNames106("dig-Checkbox-input",{"dig-Checkbox--inverse":o,"dig-Checkbox--initiallyChecked":!u&&e}),g=t.classNames106("dig-Checkbox",n),h=s.useRef(),v=((e,t)=>n=>{t.current=n,e&&("function"==typeof e?e(n):e.current=n)})(d,h);return s.useEffect(()=>{h.current&&(h.current.indeterminate=a)},[a,d]),s.createElement("span",{className:g,style:i},s.createElement("input",{checked:e,className:p,ref:v,type:"checkbox",...c}),s.createElement("span",{className:"dig-Checkbox-styles"}),s.createElement(l,null),s.createElement(r,null))});o.displayName="Checkbox";var r=()=>s.createElement("svg",{className:"dig-Checkbox-checked-icon","aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false"},s.createElement("path",{d:"M1 4L4.5 7.5L11 1",stroke:"currentColor",strokeWidth:"2",transform:"translate(4, 6)"}));r.displayName="CheckedCheckboxIcon";var l=()=>s.createElement("svg",{"aria-hidden":"true",width:"20px",height:"20px",viewBox:"0 0 20 20",version:"1.1",className:"dig-Checkbox-indeterminate-icon",focusable:"false"},s.createElement("rect",{x:"5px",y:"9px",width:"10px",height:"2px"}));l.displayName="IndeterminateCheckboxIcon";var i=s.forwardRef(({className:e,children:n,inverse:a,...o},r)=>{const l=t.classNames106("dig-Radio",e,{"dig-Radio--inverse":a});return s.createElement("input",{type:"radio",className:l,ref:r,...o})});i.displayName="RadioButton";var c={options:new Map},d=(e,t)=>{let n;switch(t.type){case"UPDATE_OPTION":const a=new Map(e.options);a.set(t.payload.key,t.payload.value),n={options:a};break;case"REMOVE_OPTION":const s=new Map(e.options);s.delete(t.payload.key),n={options:s}}return{...e,...n}},u={setSelectedOption:()=>!1,optionItems:{items:new Map,updateOption:()=>!1,addOption:()=>!1,removeOption:()=>!1}},m=s.createContext(u),f=s.forwardRef(({children:e,disabled:n,variant:a="icon",value:o,role:r="tab",onClick:l,...i},c)=>{const{setSelectedOption:d,optionItems:u,selectedElement:f}=s.useContext(m),p=s.useRef(null);((e,t)=>{s.useEffect(()=>(t.addOption(e),()=>{t.removeOption(e.value)}),[]),s.useEffect(()=>{t.updateOption(e)},[e.value,e.element])})({value:o,element:p.current},u);const g=t.classNames106("dig-SegmentedControl-option",`dig-SegmentedControl-option--${a}`,{"dig-SegmentedControl-option--disabled":n});s.useImperativeHandle(c,()=>({offsetWidth:p.current?p.current.offsetWidth:0,offsetLeft:p.current?p.current.offsetLeft:0,getBoundingClientRect:()=>{if(p.current)return p.current.getBoundingClientRect()}}));const h=s.useMemo(()=>void 0===f?"false":f===p.current?"true":"false",[f,p]);return s.createElement("button",{role:r,className:g,disabled:n,ref:p,onClick:e=>{l&&l(e),d({value:o,element:p.current})},"aria-selected":h,...i},e)});f.displayName="Option";var p=({offsetWidth:e,offsetLeft:t})=>{const n=s.useRef(null);return s.useEffect(()=>{n.current.setAttribute("style",`width: ${e}px; \n       transform: translate(${t}px, 0);`)},[e,t]),s.createElement("span",{ref:n,className:"dig-SegmentedControl-selector"})},g=({className:e,children:n,selectedValue:a,onSelection:o,onValueChange:r,inverse:l=!1,...i})=>{const[u,f]=s.useState(!1),g=(()=>{const[e,t]=s.useReducer(d,c),n=({value:e,element:n})=>{e&&t({type:"UPDATE_OPTION",payload:{key:e,value:n}})},a=n;return{items:e.options,updateOption:n,addOption:a,removeOption:e=>{e&&t({type:"REMOVE_OPTION",payload:{key:e}})}}})(),[h,v]=s.useState(null),b=t.classNames106("dig-SegmentedControl",e,{"dig-SegmentedControl--inverse":l});s.useEffect(()=>{u||f(!0)},[]),s.useEffect(()=>{v(((e,t)=>{let n=null;return void 0!==t&&e.has(t)&&(n=e.get(t)),n})(g.items,a))},[g.items,a]),s.useEffect(()=>{u&&r&&r(a)},[a]);const E={setSelectedOption:e=>{v(e.element?e.element:null),r&&r(e.value),o&&o(e.value)},optionItems:g,selectedElement:h};return s.createElement(m.Provider,{value:E},s.createElement("div",{role:"tablist",className:b,...i},h&&s.createElement(p,{offsetWidth:h.offsetWidth,offsetLeft:h.offsetLeft}),n))};g.displayName="SegmentedControl",g.Option=f;var h=s.forwardRef(({isToggled:e,disabled:n,className:a,wrapperProps:o,inverse:r,...l},i)=>{const c=t.classNames106(a,"dig-Toggle",{"dig-Toggle--isToggled":e,"dig-Toggle--disabled":n,"dig-Toggle--inverse":r});return s.createElement("label",{className:c,...o},s.createElement("input",{role:"switch",type:"checkbox",className:"dig-Toggle-input",checked:e,disabled:n,ref:i,...l}),s.createElement("span",{className:"dig-Toggle-track"}))});h.displayName="Toggle",e.Checkbox=o,e.RadioButton=i,e.SegmentedControl=g,e.Toggle=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-dig-controls.min.js-vflell1LL.map