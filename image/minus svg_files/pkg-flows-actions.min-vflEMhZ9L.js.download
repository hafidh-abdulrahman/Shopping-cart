define("metaserver/static/js/flows/automations/auto_audio",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/constants","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/file-type-controls/index"],(function(e,t,a,i,n,s,o,l,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoAudioUiConfig=void 0,i=a.__importDefault(i);t.AutoAudioUiConfig=e=>({action:{description:o.intl.formatMessage({id:"tgJ2Cm",defaultMessage:"Save as"}),rightRailDescription:o.intl.formatMessage({id:"ci35Iy",defaultMessage:"Save as audio"}),icon:i.default.createElement(n.UIIcon,{src:s.AudioLine}),tooltip:o.intl.formatMessage({id:"Zlgoz2",defaultMessage:"Are saved as audio"}),defaultActionData:{format:"mp3",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.OutputTypeControls,{allOutputTypes:l.SUPPORTED_AUDIO_OUTPUT_CONTAINERS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{format:i})),n&&a(n)}}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.InputTypeControls,{allInputTypes:l.SUPPORTED_AUDIO_INPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{input_filetypes:i})),n&&a(n)}}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:o.intl.formatMessage({id:"HYJJOF",defaultMessage:"audio"}),title:o.intl.formatMessage({id:"1+92Ih",defaultMessage:"Choose a file format to convert audio files to"}),trigger:"folder",type:"audio_conversion",notifications:{inProgress:(e,t)=>o.intl.formatMessage({id:"O3EMMe",defaultMessage:"{numTotal, plural, one {Automatically saving your file as audio...} other {Automatically saving your files as audio...}}"},{numTotal:t}),success:e=>o.intl.formatMessage({id:"z22mBM",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as an audio file} other {# files automatically saved as audio files}}."},{numSucceeded:e}),fail:e=>o.intl.formatMessage({id:"HmFt9a",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as an audio file} other {# files couldn't be automatically saved as audio files}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(c,null)});const c=()=>{const{attention:e,alert:t}=(0,r.useConversionActionI18nStyling)(),a=(e,t)=>o.intl.formatMessage({id:"MO5GEu",defaultMessage:"MyAudio.<highlight>{ext}</highlight>"},{ext:t,highlight:e});return i.default.createElement(r.ConversionActionPreviewTemplate,{icon:s.AudioLine,inputExt:"wav",inputLabel:i.default.createElement(r.LabelChip,{label:a(e,"wav"),iconLeft:i.default.createElement(n.UIIcon,{src:s.AudioLine})}),outputExt:"mp3",outputLabel:i.default.createElement(r.LabelChip,{label:a(t,"mp3"),iconLeft:i.default.createElement(n.UIIcon,{src:s.AudioLine})}),description:o.intl.formatMessage({id:"fH2CH1",defaultMessage:"For example, save copies of wav files as mp3s."})})};c.displayName="AutoAudioPreview"})),define("metaserver/static/js/flows/automations/auto_image",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/constants","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/file-type-controls/index"],(function(e,t,a,i,n,s,o,l,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoImageUiConfig=void 0,i=a.__importDefault(i);t.AutoImageUiConfig=e=>({action:{description:o.intl.formatMessage({id:"Fhu2DC",defaultMessage:"Save as"}),rightRailDescription:o.intl.formatMessage({id:"FtUJcR",defaultMessage:"Save as images"}),icon:i.default.createElement(n.UIIcon,{src:s.ImageLine}),tooltip:o.intl.formatMessage({id:"8r69yc",defaultMessage:"Are saved as images"}),defaultActionData:{format:"png",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.OutputTypeControls,{allOutputTypes:l.SUPPORTED_IMAGE_OUTPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{format:i})),n&&a(n)}}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.InputTypeControls,{allInputTypes:l.SUPPORTED_DOC_INPUT_EXTENSIONS.concat(l.SUPPORTED_IMAGE_INPUT_EXTENSIONS),selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{input_filetypes:i})),n&&a(n)}}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:o.intl.formatMessage({id:"CpxBZu",defaultMessage:"image"}),title:o.intl.formatMessage({id:"GBDUOC",defaultMessage:"Choose an image format to convert files to"}),trigger:"folder",type:"image_conversion",notifications:{inProgress:(e,t)=>o.intl.formatMessage({id:"iGA+sp",defaultMessage:"{numTotal, plural, one {Automatically saving your file as an image...} other {Automatically saving your files as images...}}"},{numTotal:t}),success:e=>o.intl.formatMessage({id:"Umhvnj",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as an image} other {# files automatically saved as images}}."},{numSucceeded:e}),fail:e=>o.intl.formatMessage({id:"opwGp2",defaultMessage:"{numFailed, plural, one {# file couldn't automatically be saved as an image} other {# files couldn't automatically be saved as images}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(c,null)});const c=()=>{const{attention:e,alert:t}=(0,r.useConversionActionI18nStyling)(),a=(e,t)=>o.intl.formatMessage({id:"ctmHNe",defaultMessage:"MyImage.<highlight>{ext}</highlight>"},{ext:t,highlight:e});return i.default.createElement(r.ConversionActionPreviewTemplate,{icon:s.ImageLine,inputExt:"png",inputLabel:i.default.createElement(r.LabelChip,{label:a(e,"png"),iconLeft:i.default.createElement(n.UIIcon,{src:s.ImageLine})}),outputExt:"jpg",outputLabel:i.default.createElement(r.LabelChip,{label:a(t,"jpg"),iconLeft:i.default.createElement(n.UIIcon,{src:s.ImageLine})}),description:o.intl.formatMessage({id:"fSTowW",defaultMessage:"For example, save copies of png files as jpgs."})})};c.displayName="AutoImagePreview"})),define("metaserver/static/js/flows/automations/auto_naming_conventions",["require","exports","tslib","react","@dropbox/dig-content-icons","dig-components/icons","dig-components/icons/src","metaserver/static/js/clean/ui/hoc","metaserver/static/js/core/i18n","metaserver/static/js/naming_conventions/components/naming_conventions_view","metaserver/static/js/naming_conventions/components/nc_consistent_separator_selection_button","metaserver/static/js/naming_conventions/components/nc_date_selection_button","metaserver/static/js/naming_conventions/components/nc_generic_live_preview","metaserver/static/js/naming_conventions/components/nc_ml_toggle","metaserver/static/js/naming_conventions/components/nc_parent_folder_name_selection_button","metaserver/static/js/naming_conventions/components/nc_title_casing_selection_button","metaserver/static/js/naming_conventions/generic_live_preview","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/utils","typescript/component_libraries/flows/src/components/automation-preview/index"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_,y,v,E){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoNamingConventionsControls2=t.AutoNamingConventionsControls=t.AutoNamingConventionsUiConfig=void 0,i=a.__importStar(i);function S(e){return e.includes("nc_ml_filename_enabled")}function T(e){return e.includes("nc_metadata_enabled")}function C(e){return e.includes("naming_conventions_renaming_bar_existing_nc")}t.AutoNamingConventionsUiConfig=e=>({action:{description:r.intl.formatMessage({id:"rT2iTB",defaultMessage:"Rename to match the rules below"}),rightRailDescription:r.intl.formatMessage({id:"It11QI",defaultMessage:"Rename"}),icon:i.default.createElement(s.UIIcon,{src:o.CursorLine}),tooltip:r.intl.formatMessage({id:"3pMd5a",defaultMessage:"Are renamed"}),defaultActionData:{args_json:JSON.stringify(v.NamingConventionConversions.NamingConventionToApiV2(Object.assign(Object.assign({},y.defaultNamingConventionParameters),{mlFilenameParsing:!0})))},renderAdditionalControls:e=>e.actionExperiments.includes("nc_positioning_enabled")?i.default.createElement(t.AutoNamingConventionsControls2,Object.assign({},e)):i.default.createElement(t.AutoNamingConventionsControls,Object.assign({},e)),allowApplyToExistingFiles:e=>"add"===e||"edit"===e},shortLabel:r.intl.formatMessage({id:"355s7s",defaultMessage:"rename"}),title:r.intl.formatMessage({id:"vOITgb",defaultMessage:"Set a rule that renames files"}),trigger:"folder",type:"naming_conventions",notifications:{inProgress:()=>r.intl.formatMessage({id:"GcgPQq",defaultMessage:"Automatically renaming your files..."}),success:e=>r.intl.formatMessage({id:"xsD6gG",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically renamed."},{numSucceeded:e}),fail:e=>r.intl.formatMessage({id:"8mMlk3",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically renamed."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(w,null)});const M=({data:e,onDataChange:t,onDataError:a,actionExperiments:n})=>{const[s,o]=i.default.useState(y.defaultNamingConventionParameters),[l,r]=i.default.useState(""),[d,E]=i.default.useState(!1);(0,i.useEffect)(()=>{var t;let i={};if(null==e?void 0:e.args_json)try{i=JSON.parse(e.args_json)}catch(e){}const n=v.NamingConventionConversions.NamingConventionFromApiV2(i);0===(null===(t=null==n?void 0:n.selectedRules)||void 0===t?void 0:t.length)&&a(),o(e=>Object.assign(Object.assign({},e),n)),E(!0)},[e,a]),(0,i.useEffect)(()=>{r((0,_.getGenericLivePreviewText)(s))},[s]),(0,i.useEffect)(()=>{S(n)||T(Object.assign(Object.assign({},s),{mlFilenameParsing:!1}))},[d]);const T=e=>{const a=v.NamingConventionConversions.NamingConventionToApiV2(e);t({args_json:JSON.stringify(a)})},C=e=>Array.from(new Set([...s.selectedRules,e])),M=e=>{const t=e.target.value,a=[...s.selectedRules],i=a.indexOf(t);i>=0?a.splice(i,1):a.push(t);let n=s.mlFilenameParsing;t===y.NamingConventionType.upload_date&&(n=!F(y.NamingConventionType.upload_date)),T(Object.assign(Object.assign({},s),{selectedRules:a,mlFilenameParsing:n}))},F=e=>s.selectedRules.includes(e);return i.default.createElement("div",null,i.default.createElement("div",null,i.default.createElement(u.NamingConventionsDateSelectionButton,{isSelected:F(y.NamingConventionType.upload_date),onSelect:M,dateFormatSelection:s.dateFormatSelection,setDateFormatSelection:e=>{T(Object.assign(Object.assign({},s),{selectedRules:C(y.NamingConventionType.upload_date),dateFormatSelection:e,mlFilenameParsing:S(n)&&(!F(y.NamingConventionType.upload_date)||s.mlFilenameParsing)}))}}),i.default.createElement(g.NamingConventionsTitleCasingSelectionButton,{isSelected:F(y.NamingConventionType.capitalize_all_initials),onSelect:M}),i.default.createElement(c.NamingConventionsConsistentSeparatorSelectionButton,{isSelected:F(y.NamingConventionType.consistent_separators),onSelect:M,separatorSelection:s.consistentSeparatorSelection,setSeparatorSelection:e=>{T(Object.assign(Object.assign({},s),{selectedRules:C(y.NamingConventionType.consistent_separators),consistentSeparatorSelection:e}))},useSelectComponent:!1}),i.default.createElement(p.NamingConventionsParentFolderNameSelectionButton,{isSelected:F(y.NamingConventionType.parent_folder_name),onSelect:M})),i.default.createElement(m.NamingConventionsGenericLivePreview,{previewText:l}),S(n)?i.default.createElement(f.NamingConventionsMLToggle,{isToggled:s.mlFilenameParsing,onSelect:e=>{const t=e.target.checked;T(Object.assign(Object.assign({},s),{mlFilenameParsing:t}))},value:y.NamingConventionML,disabled:!F(y.NamingConventionType.upload_date)}):null)};M.displayName="UnstyledAutoNamingConventionsControls";const F=({data:e,dataError:t,onDataChange:a,onDataError:n,actionExperiments:s})=>{const[o,l]=i.default.useState(y.ConsistentSeparatorSelection.spaces),[r,c]=i.default.useState(-1),u=i.default.useCallback(()=>{let t={component_list:[]};if(null==e?void 0:e.args_json)try{t=JSON.parse(e.args_json)}catch(e){}if(t.component_list&&t.component_list.length>0){const e=v.NamingConventionConversions.NamingConventionsParametersFromRuleStruct(t,y.NamingConventionOrigin.from_automation);return e.data=Object.assign(Object.assign({},e.data),{consistentSeparatorSelection:o}),e.componentList.includes(y.NamingConventionType.original_snippet)||(e.componentList.unshift(y.NamingConventionType.original_snippet),e.data.dateInfo.unshift({mlFilenameParsing:!1,dateFormatSelection:y.DateFormatSelection.yyyy_mm_dd}),e.data.keywords.unshift("")),-1!==r&&(e.componentList.splice(r,0,y.NamingConventionType.none),e.data.dateInfo.splice(r,0,{mlFilenameParsing:!1,dateFormatSelection:y.DateFormatSelection.yyyy_mm_dd}),e.data.keywords.splice(r,0,"")),e}return{componentList:[y.NamingConventionType.none,y.NamingConventionType.original_snippet],capitalizeAllInitials:!1,changeAllSeparators:!1,renamingBarEnabled:!0,data:{dateInfo:[{mlFilenameParsing:!1,dateFormatSelection:y.DateFormatSelection.yyyy_mm_dd},{mlFilenameParsing:!1,dateFormatSelection:y.DateFormatSelection.yyyy_mm_dd}],consistentSeparatorSelection:y.ConsistentSeparatorSelection.spaces,keywords:["",""]},subfolderOption:y.FolderScopeOptions.THIS_FOLDER_ONLY}},[e,r,o]),[m,f]=i.default.useState(u());(0,i.useEffect)(()=>{const e=u();f(t=>Object.assign(Object.assign({},t),e))},[e,n]);return i.default.createElement("div",null,i.default.createElement(d.NamingConventionsView,{namingConventionsParameters:m,onNamingConventionsParametersChange:e=>{(e=>{const t=v.NamingConventionConversions.NamingConventionsParametersToRuleStruct(e);l(e.data.consistentSeparatorSelection),c(e.componentList.indexOf(y.NamingConventionType.none)),a({args_json:JSON.stringify(t)})})(e)},experiments:{expNamingConventionsMLFilename:S(s),expNamingConventionsMetadata:T(s),expNamingConventionsRenamingBarExistingNC:C(s)},onErrorVisible:e=>{const t=e.some(e=>(null==e?void 0:e.whenToShow)===y.WhenToShowError.IMMEDIATELY);for(const a of e)if(a)return void n(a.message,{disableSubmit:t,showErrors:t})},showMissingDataErrors:!!(null==t?void 0:t.showErrors),onInvalidData:e=>{n(void 0,{disableSubmit:e,showErrors:e})}}))};F.displayName="UnstyledAutoNamingConventionsControls2";const w=()=>i.default.createElement(E.PreviewTemplate,{triggerIcon:i.default.createElement(E.FolderWithFile,{extension:"docx"}),triggerLabel:i.default.createElement(E.LabelChip,{label:r.intl.formatMessage({id:"RCWy9b",defaultMessage:"MyDocument.docx"}),iconLeft:i.default.createElement(s.UIIcon,{src:o.CursorLine})}),actionIcon:i.default.createElement(n.FileIcon,{extension:"docx",size:"large"}),actionLabel:i.default.createElement(E.LabelChip,{label:r.intl.formatMessage({id:"86xmz+",defaultMessage:"MyDocument<span>_final</span>.docx"},{span:e=>i.default.createElement("span",{style:{backgroundColor:"var(--color__attention__background)"}},e)}),iconLeft:i.default.createElement(s.UIIcon,{src:o.CursorLine})}),description:r.intl.formatMessage({id:"Hgrenn",defaultMessage:'For example, add the word "final" to the name of files added to this folder'})});w.displayName="NamingConventionPreview",t.AutoNamingConventionsControls=(0,l.withCSS)(["/static/metaserver/static/css/naming_conventions/naming_conventions-vflXLszoE.css"])(M),t.AutoNamingConventionsControls2=(0,l.withCSS)(["/static/metaserver/static/css/naming_conventions/naming_conventions-vflXLszoE.css"])(F)})),define("metaserver/static/js/flows/automations/auto_pdf",["require","exports","tslib","react","@dropbox/dig-content-icons","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/constants","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/automation-preview/index.module.css","typescript/component_libraries/flows/src/components/file-type-controls/index"],(function(e,t,a,i,n,s,o,l,r,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoPdfUiConfig=void 0,i=a.__importDefault(i),c=a.__importDefault(c);t.AutoPdfUiConfig=e=>({action:{description:l.intl.formatMessage({id:"lUL/WC",defaultMessage:"Save as PDFs"},{b:e=>i.default.createElement("b",null,e)}),icon:i.default.createElement(s.UIIcon,{src:o.PdfLine}),tooltip:l.intl.formatMessage({id:"2c4ZCd",defaultMessage:"Are saved as PDFs"}),defaultActionData:{input_filetypes:[]},renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(u.InputTypeControls,{allInputTypes:r.SUPPORTED_PDF_EXTENSIONS,selectedInputTypes:e.input_filetypes,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{input_filetypes:i})),n&&a(n)}}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:l.intl.formatMessage({id:"PJ39gK",defaultMessage:"PDF"}),title:l.intl.formatMessage({id:"IXfLjH",defaultMessage:"Convert files to PDFs"}),trigger:"folder",type:"pdf_conversion",notifications:{inProgress:(e,t)=>l.intl.formatMessage({id:"y6hwuD",defaultMessage:"{numTotal, plural, one {Automatically saving your file as a PDF...} other {Automatically saving your files as PDFs...}}"},{numTotal:t}),success:e=>l.intl.formatMessage({id:"VeOt0m",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as a PDF} other {# files automatically saved as PDFs}}."},{numSucceeded:e}),fail:e=>l.intl.formatMessage({id:"HjIGnc",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as a PDF} other {# files couldn't be automatically saved as PDFs}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(m,null)});const m=()=>i.default.createElement(d.PreviewTemplate,{triggerIcon:i.default.createElement(d.FolderWithFile,{extension:"docx"}),actionIcon:i.default.createElement(n.FileIcon,{extension:"docx",size:"large"}),secondaryActionIcon:i.default.createElement(n.FileIcon,{extension:"pdf",size:"large",className:c.default.flowsAutomationPreviewIconsNegMargin}),description:l.intl.formatMessage({id:"MJeqQ8",defaultMessage:"Save copies of files added to this folder as PDFs"})})})),define("metaserver/static/js/flows/automations/auto_move",["require","exports","tslib","react","dig-components/buttons","dig-components/icons","dig-components/icons/src","dig-components/typography","metaserver/static/js/clean/ui/tree_view","metaserver/static/js/clean/viewer","metaserver/static/js/core/i18n","typescript/component_libraries/flows/src/components/automated-folder-modal/index.module.css"],(function(e,t,a,i,n,s,o,l,r,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderTreeScreen=t.AutoMoveConfig=void 0,i=a.__importDefault(i);t.AutoMoveConfig=(e,a)=>({action:{description:c.intl.formatMessage({id:"zQUMA8",defaultMessage:"Move to"}),rightRailDescription:c.intl.formatMessage({id:"ZB8s+Q",defaultMessage:"Move to another folder"}),icon:i.default.createElement(s.UIIcon,{src:o.MoveLine}),tooltip:c.intl.formatMessage({id:"8y+epY",defaultMessage:"Are moved to destination folder"}),defaultActionData:{dest_fq_path:""},renderAdditionalControls:({data:a,onDataChange:n,onDataError:s})=>{var o;return i.default.createElement(t.FolderTreeScreen,{destFqPath:null!==(o=a.dest_fq_path)&&void 0!==o?o:"",onFolderSelect:e=>n(Object.assign(Object.assign({},a),{dest_fq_path:e})),onError:s,user:e})},allowApplyToExistingFiles:e=>"add"===e},shortLabel:c.intl.formatMessage({id:"vk5Hmq",defaultMessage:"move to destination"}),title:c.intl.formatMessage({id:"arSUp7",defaultMessage:"Choose a folder to move files to"}),trigger:"folder",type:"move_file",notifications:{inProgress:()=>c.intl.formatMessage({id:"/BDk6/",defaultMessage:"Automatically moving your files..."}),success:e=>c.intl.formatMessage({id:"xVQVKE",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically moved to the specified destination."},{numSucceeded:e}),fail:e=>c.intl.formatMessage({id:"/LyVWj",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be moved to the specified destination"},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(m,null)});t.FolderTreeScreen=({destFqPath:e,onFolderSelect:t,onError:a,user:l})=>{const[m,f]=i.default.useState(!1);i.default.useEffect(()=>{0===e.length&&a()},[a]);const p=d.Viewer.get_role_title(l)||"Dropbox";return i.default.createElement("div",null,m?i.default.createElement(r.UserFolderTreeView,{user:l,onFolderSelected:e=>{t(e),f(!1)},is_paired:d.Viewer.get_viewer().is_paired,treeRootName:p}):i.default.createElement(n.Button,{className:u.flowsModalButtonWide,fullWidth:!0,onClick:()=>f(!0),size:"large",variant:"outline",withIconLeft:i.default.createElement(s.UIIcon,{src:o.FolderLine})},e||c.intl.formatMessage({id:"VCCpx6",defaultMessage:"Destination Folder"})))},t.FolderTreeScreen.displayName="FolderTreeScreen";const m=()=>i.default.createElement("div",{className:"flows-automation-preview__text"},i.default.createElement(l.Text,{inverse:!0},c.intl.formatMessage({id:"Rqpt8F",defaultMessage:"For example, move file to destination folder"})));m.displayName="AutoMovePreview"})),define("metaserver/static/js/flows/automations/auto_smart_subfolders",["require","exports","tslib","react","metaserver/static/js/core/i18n","dig-components/typography","dig-components/controls","dig-components/icons","dig-components/icons/src"],(function(e,t,a,i,n,s,o,l,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoSmartSubfoldersUiConfig=void 0,i=a.__importDefault(i);const d=({data:e,onDataChange:t,onDataError:a})=>{var n;const[l,r]=i.default.useState((null===(n=null==e?void 0:e.variant)||void 0===n?void 0:n[".tag"])||"use_existing_folders");return i.default.useEffect(()=>{t({variant:{".tag":"use_existing_folders"===l?"use_existing_folders":"use_premade_categories"}})},[l]),i.default.useEffect(()=>{var t;r((null===(t=null==e?void 0:e.variant)||void 0===t?void 0:t[".tag"])||"use_existing_folders")},[e]),i.default.createElement("div",null,i.default.createElement(s.Text,null,"Select a rule to classify and sort by"),i.default.createElement("div",{className:"classification-radio"},i.default.createElement("div",null,i.default.createElement(o.RadioButton,{"aria-label":"Pre-defined Document Classes",id:"pre-defined",checked:"use_premade_categories"===l,onChange:()=>{r("use_premade_categories")}}),i.default.createElement(s.Text,{tagName:"label",htmlFor:"pre-defined"},"Pre-defined Document Classes")),i.default.createElement("div",null,i.default.createElement(o.RadioButton,{"aria-label":"Your Existing Sub-folders",id:"existing",checked:"use_existing_folders"===l,onChange:()=>{r("use_existing_folders")}}),i.default.createElement(s.Text,{tagName:"label",htmlFor:"existing"},"Your Existing Sub-folders"))))};d.displayName="AutoSmartSubfolderOptions",t.AutoSmartSubfoldersUiConfig={action:{description:n.intl.formatMessage({id:"iqinwH",defaultMessage:"Automatically sort files into organized subfolders"}),icon:i.default.createElement(l.UIIcon,{src:r.MultipleFoldersLine}),tooltip:n.intl.formatMessage({id:"/hC6lR",defaultMessage:"Are sorted into organized subfolders"}),renderAdditionalControls:e=>i.default.createElement(d,Object.assign({},e))},genericDescription:n.intl.formatMessage({id:"a9iSb9",defaultMessage:"Sort files added to this folder into organized subfolders"}),shortLabel:n.intl.formatMessage({id:"y7ZDUa",defaultMessage:"sort files"}),title:n.intl.formatMessage({id:"QY8XR8",defaultMessage:"Files added to a folder are organized by content type"}),trigger:"folder",type:"smart_subfolders"}})),define("metaserver/static/js/flows/automations/auto_tagging",["require","exports","tslib","react","@dropbox/dig-content-icons","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/tagging/ui/components/auto_tagging_typeahead","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/automation-preview/index.module.css"],(function(e,t,a,i,n,s,o,l,r,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTaggingUiConfig=void 0,i=a.__importDefault(i),c=a.__importDefault(c);t.AutoTaggingUiConfig=(e,t)=>({action:{description:l.intl.formatMessage({id:"iWVH9L",defaultMessage:"Tag as"}),rightRailDescription:l.intl.formatMessage({id:"LRr2Ss",defaultMessage:"Tag"}),icon:i.default.createElement(s.UIIcon,{src:o.TagLine}),tooltip:l.intl.formatMessage({id:"clWHiV",defaultMessage:"Are tagged"}),renderAdditionalControls:t=>i.default.createElement(r.AutoTaggingTypeahead,Object.assign({},t,{user:e})),allowApplyToExistingFiles:e=>"add"===e||"edit"===e},shortLabel:l.intl.formatMessage({id:"stkmXg",defaultMessage:"tag"}),title:l.intl.formatMessage({id:"LBflBZ",defaultMessage:"Choose a tag to organize and find files"}),trigger:"folder",type:"tag",notifications:{inProgress:()=>l.intl.formatMessage({id:"cjg/6X",defaultMessage:"Automatically tagging your files..."}),success:e=>l.intl.formatMessage({id:"nQKCo3",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically tagged."},{numSucceeded:e}),fail:e=>l.intl.formatMessage({id:"kj8GOO",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically tagged."},{numFailed:e})},renderTemplatePreview:()=>i.default.createElement(u,null)});const u=()=>i.default.createElement(d.PreviewTemplate,{triggerIcon:i.default.createElement(d.FolderWithFile,{extension:"ppt"}),actionIcon:i.default.createElement(i.default.Fragment,null,i.default.createElement(n.FileIcon,{extension:"ppt",size:"large"}),i.default.createElement("div",{className:c.default.flowsAutomationPreviewTagWrapper},i.default.createElement(d.LabelChip,{label:l.intl.formatMessage({id:"BMise9",defaultMessage:"logo"}),iconLeft:i.default.createElement(s.UIIcon,{src:o.TagLine}),inverted:!0,truncateWidth:140}),i.default.createElement(d.LabelChip,{label:l.intl.formatMessage({id:"AP8cRJ",defaultMessage:"final"}),iconLeft:i.default.createElement(s.UIIcon,{src:o.TagLine}),inverted:!0,truncateWidth:140}))),description:l.intl.formatMessage({id:"aOWRi7",defaultMessage:'For example, add the tags "logo" and "final" to files added to this folder'})});u.displayName="AutoTagPreview"})),define("metaserver/static/js/flows/automations/auto_tidy_up",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/components/auto_tidy_up/constants","metaserver/static/js/flows/components/auto_tidy_up/controls"],(function(e,t,a,i,n,s,o,l,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTidyUpUiConfig=void 0,i=a.__importDefault(i);t.AutoTidyUpUiConfig=(e,t)=>({action:{description:o.intl.formatMessage({id:"K781BL",defaultMessage:"Organize into folders grouped by"}),rightRailDescription:o.intl.formatMessage({id:"hwC5wH",defaultMessage:"Organize by category"}),icon:i.default.createElement(n.UIIcon,{src:s.MultipleFoldersLine}),tooltip:o.intl.formatMessage({id:"u07O3h",defaultMessage:"Are organized by category"}),defaultActionData:l.defaultTidyUpActionData,renderAdditionalControls:({data:t,onDataChange:a,source:n,actionExperiments:s})=>i.default.createElement(r.AutoTidyUpControls,{actionData:t,updateActionData:a,operation:n,isPaidUser:e,actionExperiments:s}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:o.intl.formatMessage({id:"h5nATP",defaultMessage:"organize by category"}),title:o.intl.formatMessage({id:"JTnqVL",defaultMessage:"Choose a category to sort files by"}),trigger:"folder",type:"tidy_up",notifications:{inProgress:()=>o.intl.formatMessage({id:"kOOwLi",defaultMessage:"Automatically organizing your files..."}),success:e=>o.intl.formatMessage({id:"OGrBCr",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically organized into subfolders."},{numSucceeded:e}),fail:e=>o.intl.formatMessage({id:"z51P9Z",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically organized"},{numFailed:e}),allowUndo:!0}})})),define("metaserver/static/js/flows/automations/auto_unzip",["require","exports","tslib","react","@dropbox/dig-content-icons","dig-components/icons","dig-components/icons/src","dig-components/typography","metaserver/static/js/core/i18n","metaserver/static/js/flows/constants","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/automation-preview/index.module.css","typescript/component_libraries/flows/src/components/file-type-controls/index"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoUnzipUiConfig=void 0,i=a.__importDefault(i),u=a.__importDefault(u);t.AutoUnzipUiConfig=e=>({action:{description:r.intl.formatMessage({id:"8bjgn0",defaultMessage:"Unzip"}),icon:i.default.createElement(s.UIIcon,{src:o.ZipLine}),tooltip:r.intl.formatMessage({id:"W2z+/h",defaultMessage:"Are unzipped"}),defaultActionData:{input_filetypes:[]},renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(m.InputTypeControls,{allInputTypes:d.SUPPORTED_UNZIP_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{input_filetypes:i})),n&&a(n)}}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:r.intl.formatMessage({id:"+y6Wz9",defaultMessage:"unzip"}),title:r.intl.formatMessage({id:"RYympZ",defaultMessage:"Unzip files"}),trigger:"folder",type:"unzip",notifications:{inProgress:(e,t)=>r.intl.formatMessage({id:"7glSPu",defaultMessage:"{numTotal, plural, one {Automatically unzipping your file...} other {Automatically unzipping your files...}}"},{numTotal:t}),success:e=>r.intl.formatMessage({id:"9elMjf",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically unzipped."},{numSucceeded:e}),fail:e=>r.intl.formatMessage({id:"zV9Yhw",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically unzipped."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(f,null)});const f=()=>i.default.createElement(c.PreviewTemplate,{triggerIcon:i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Text,{inverse:!0,color:"faint"},r.intl.formatMessage({id:"QhuZZP",defaultMessage:"filename.zip"})),i.default.createElement(c.FolderWithFile,{extension:"zip"})),actionIcon:i.default.createElement("div",{className:u.default.flowsAutomationPreviewUnzipFileContainer},i.default.createElement(n.FileIcon,{size:"large",extension:"jpg",className:u.default.flowsAutomationPreviewUnzipFileIcons}),i.default.createElement(n.FileIcon,{size:"large",extension:"jpg",className:u.default.flowsAutomationPreviewUnzipFileIcons}),i.default.createElement(n.FileIcon,{size:"large",extension:"jpg",className:u.default.flowsAutomationPreviewUnzipFileIcons}),i.default.createElement(n.FileIcon,{size:"large",extension:"jpg",className:u.default.flowsAutomationPreviewUnzipFileIcons})),description:r.intl.formatMessage({id:"uePi4a",defaultMessage:"Unzip and save files added to this folder."})});f.displayName="AutoUnzipPreview"})),define("metaserver/static/js/flows/automations/auto_video",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/constants","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/file-type-controls/index"],(function(e,t,a,i,n,s,o,l,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoVideoUiConfig=void 0,i=a.__importDefault(i);t.AutoVideoUiConfig=e=>({action:{description:o.intl.formatMessage({id:"RSERPS",defaultMessage:"Save as"}),rightRailDescription:o.intl.formatMessage({id:"4z/68P",defaultMessage:"Save as videos"}),icon:i.default.createElement(n.UIIcon,{src:s.VideoFileLine}),tooltip:o.intl.formatMessage({id:"+dY8qg",defaultMessage:"Are saved as videos"}),defaultActionData:{format:"mov",input_filetypes:[]},renderAdditionalControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.OutputTypeControls,{allOutputTypes:l.SUPPORTED_VIDEO_OUTPUT_CONTAINERS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{format:i})),n&&a(n)}}),renderPseudoTriggerControls:({data:e,onDataChange:t,onDataError:a})=>i.default.createElement(d.InputTypeControls,{allInputTypes:l.SUPPORTED_VIDEO_INPUT_EXTENSIONS,selectedInputTypes:null==e?void 0:e.input_filetypes,selectedOutputType:null==e?void 0:e.format,onSelect:(i,n)=>{t(Object.assign(Object.assign({},e),{input_filetypes:i})),n&&a(n)}}),allowApplyToExistingFiles:e=>"add"===e},shortLabel:o.intl.formatMessage({id:"cYek3I",defaultMessage:"video"}),title:o.intl.formatMessage({id:"w0L+S2",defaultMessage:"Choose a file format to convert videos to"}),trigger:"folder",type:"video_conversion",notifications:{inProgress:(e,t)=>o.intl.formatMessage({id:"T86MQM",defaultMessage:"{numTotal, plural, one {Automatically saving your file as a video...} other {Automatically saving your files as videos...}}"},{numTotal:t}),success:e=>o.intl.formatMessage({id:"KBpE7R",defaultMessage:"{numSucceeded, plural, one {# file automatically saved as a video} other {# files automatically saved as videos}}."},{numSucceeded:e}),fail:e=>o.intl.formatMessage({id:"q8gfGn",defaultMessage:"{numFailed, plural, one {# file couldn't be automatically saved as a video} other {# files couldn't be automatically saved as videos}}."},{numFailed:e}),allowUndo:!0},renderTemplatePreview:()=>i.default.createElement(c,null)});const c=()=>{const{attention:e,alert:t}=(0,r.useConversionActionI18nStyling)(),a=(e,t)=>o.intl.formatMessage({id:"2WT0ew",defaultMessage:"MyVideo.<highlight>{ext}</highlight>"},{ext:t,highlight:e});return i.default.createElement(r.ConversionActionPreviewTemplate,{icon:s.VideoFileLine,inputExt:"mov",inputLabel:i.default.createElement(r.LabelChip,{label:a(e,"mov"),iconLeft:i.default.createElement(n.UIIcon,{src:s.VideoFileLine})}),outputExt:"mp4",outputLabel:i.default.createElement(r.LabelChip,{label:a(t,"mp4"),iconLeft:i.default.createElement(n.UIIcon,{src:s.VideoFileLine})}),description:o.intl.formatMessage({id:"dO0cYf",defaultMessage:"For example, save copies of mov files as mp4s."})})}})),define("metaserver/static/js/flows/automations/snackbar",["require","exports","tslib","react","metaserver/static/js/core/i18n","metaserver/static/js/clean/ui/snackbar","metaserver/static/js/core/browser"],(function(e,t,a,i,n,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorSnackbar=t.showSuccessSnackbar=t.showPendingSnackbar=t.updateSnackbar=t.AUTOMATIONS_SNACKBAR_ID=void 0,i=a.__importDefault(i),o=a.__importStar(o),t.AUTOMATIONS_SNACKBAR_ID="flows-automations-snackbar";function l(){return{createInProgress:e=>n.intl.formatMessage({id:"ixnxFP",defaultMessage:"Creating {folderName} automated folder..."},{folderName:e}),addInProgress:e=>n.intl.formatMessage({id:"XWVzJa",defaultMessage:"Adding automation to {folderName}..."},{folderName:e}),feedbackSuccess:n.intl.formatMessage({id:"lXPwmi",defaultMessage:"Thank you for your feedback!"}),createSuccess:e=>n.intl.formatMessage({id:"eqvXsV",defaultMessage:"{folderName} automated folder created."},{folderName:e}),addSuccess:e=>n.intl.formatMessage({id:"yb+Ei+",defaultMessage:"Automation added to {folderName}."},{folderName:e}),removalSuccess:e=>n.intl.formatMessage({id:"gEPRxb",defaultMessage:"Removed automation from {folderName}."},{folderName:e}),pauseSuccess:e=>n.intl.formatMessage({id:"BJcdth",defaultMessage:"Paused automation for {folderName}."},{folderName:e}),editSuccess:e=>n.intl.formatMessage({id:"PjF0k5",defaultMessage:"Edited automation for {folderName}."},{folderName:e}),reactivateSuccess:e=>n.intl.formatMessage({id:"9CrZQ4",defaultMessage:"Activated automation for {folderName}."},{folderName:e}),defaultError:n.intl.formatMessage({id:"V2wwgQ",defaultMessage:"Something went wrong. Please try again."}),folderRuleGenericCreateError:e=>n.intl.formatMessage({id:"b2vbCw",defaultMessage:"Couldn't create {folderName} automated folder."},{folderName:e}),folderRuleGenericAddError:e=>n.intl.formatMessage({id:"/+u3gq",defaultMessage:"Couldn't add automation to {folderName}."},{folderName:e}),folderRuleNoAccessError:n.intl.formatMessage({id:"7Ke97p",defaultMessage:"You do not have permission to edit this folder."}),conflictPathError:n.intl.formatMessage({id:"X00Q2k",defaultMessage:"A folder with that name already exists."}),closeSnackbarBtn:n.intl.formatMessage({id:"uzUPSw",defaultMessage:"Close"}),tryAgainSnackbarBtn:n.intl.formatMessage({id:"oj8Ras",defaultMessage:"Try again"}),showAutomationDashboardBtn:n.intl.formatMessage({id:"wHJiLw",defaultMessage:"Show all automations"})}}t.updateSnackbar=e=>{if("sync"===e.variant)s.Snackbar.update(i.default.createElement(s.Snackbar,Object.assign({id:t.AUTOMATIONS_SNACKBAR_ID},e)));else{const{closeSnackbarBtn:a}=l();s.Snackbar.update(i.default.createElement(s.Snackbar,Object.assign({id:t.AUTOMATIONS_SNACKBAR_ID,closeButtonText:a},e)))}},t.showPendingSnackbar=function(e){const{createInProgress:a,addInProgress:i}=l(),n={create:a(e.folderName),add:i(e.folderName)}[e.type];s.Snackbar.sync(n,!0,t.AUTOMATIONS_SNACKBAR_ID)},t.showSuccessSnackbar=function(e){const{addSuccess:a,createSuccess:n,feedbackSuccess:r,pauseSuccess:d,removalSuccess:c,editSuccess:u,reactivateSuccess:m,showAutomationDashboardBtn:f,closeSnackbarBtn:p}=l(),g={add:a(e.folderName),create:n(e.folderName),feedback:r,pause:d(e.folderName),remove:c(e.folderName),edit:u(e.folderName),reactivate:m(e.folderName)}[e.type];if(e.shouldShowDashboardCta){const a={closeButtonText:p,actionButtonText:f,forceDig:!0,id:t.AUTOMATIONS_SNACKBAR_ID,onActionClick:()=>o.redirect(`/automations?_tk=${e.type}_snackbar`),title:g,timeoutDelayMs:5e3,variant:"complete"};s.Snackbar.show(i.default.createElement(s.Snackbar,Object.assign({},a)))}else s.Snackbar.complete(g,t.AUTOMATIONS_SNACKBAR_ID)},t.showErrorSnackbar=function({folderName:e,onClose:a,onRetry:n,type:o}){const{conflictPathError:r,defaultError:d,folderRuleGenericCreateError:c,folderRuleGenericAddError:u,folderRuleNoAccessError:m,closeSnackbarBtn:f,tryAgainSnackbarBtn:p}=l(),g="default"===o?d:{conflict:r,"generic-create":c(e),"generic-add":u(e),"no-access":m}[o];let _={closeButtonText:f,forceDig:!0,id:t.AUTOMATIONS_SNACKBAR_ID,onCloseClick:a,title:g,timeoutDelayMs:5e3,variant:"fail"};if(n){const e=()=>{s.Snackbar.close(t.AUTOMATIONS_SNACKBAR_ID),n()};_=Object.assign(Object.assign({},_),{actionButtonText:p,onActionClick:e})}s.Snackbar.show(i.default.createElement(s.Snackbar,Object.assign({},_)))}})),define("metaserver/static/js/flows/automations/ui_config",["require","exports","metaserver/static/js/flows/automations/auto_pdf","metaserver/static/js/flows/automations/auto_tagging","metaserver/static/js/flows/automations/auto_unzip","metaserver/static/js/flows/automations/auto_smart_subfolders","metaserver/static/js/flows/automations/auto_image","metaserver/static/js/flows/automations/auto_video","metaserver/static/js/flows/automations/auto_tidy_up","metaserver/static/js/flows/automations/auto_naming_conventions","metaserver/static/js/flows/automations/auto_audio","metaserver/static/js/flows/automations/watermarking","metaserver/static/js/flows/automations/auto_move"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m){"use strict";function f(e,{user:t,experiments:f}){switch(e){case"pdf_conversion":return(0,a.AutoPdfUiConfig)(f);case"unzip":return(0,n.AutoUnzipUiConfig)(f);case"tag":return(0,i.AutoTaggingUiConfig)(t,f);case"smart_subfolders":return s.AutoSmartSubfoldersUiConfig;case"image_conversion":return(0,o.AutoImageUiConfig)(f);case"video_conversion":return(0,l.AutoVideoUiConfig)(f);case"tidy_up":return(0,r.AutoTidyUpUiConfig)(!!t.paid||!!t.is_team,f);case"naming_conventions":return(0,d.AutoNamingConventionsUiConfig)(f);case"audio_conversion":return(0,c.AutoAudioUiConfig)(f);case"watermarking":return(0,u.WatermarkingConfig)(t,f);case"move_file":return(0,m.AutoMoveConfig)(t,f);default:throw new Error(`Cannot load automation UI for invalid action ${e}`)}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUiConfig=t.loadFolderAutomationUi=void 0,t.loadFolderAutomationUi=f;const p={tidy_up:0,naming_conventions:1,tag:2,pdf_conversion:3,image_conversion:4,video_conversion:5,unzip:6,smart_subfolders:7,audio_conversion:8,watermarking:9,email_ingest:10,move_file:11},g=(e,t)=>p[e.type]-p[t.type];function _(e){return null!=e}t.getUiConfig=function(e,t,a){const i=e.map(e=>f(e,t)).filter(_);return i.sort(null!=a?a:g),i}})),define("metaserver/static/js/flows/automations/watermarking",["require","exports","tslib","react","@dropbox/dig-content-icons","dig-components/icons","dig-components/icons/src","metaserver/static/js/core/i18n","metaserver/static/js/flows/components/auto_watermarking/async_controls","typescript/component_libraries/flows/src/components/automation-preview/index","typescript/component_libraries/flows/src/components/automation-preview/index.module.css"],(function(e,t,a,i,n,s,o,l,r,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkingConfig=void 0,i=a.__importDefault(i),c=a.__importDefault(c);t.WatermarkingConfig=(e,t)=>({action:{description:l.intl.formatMessage({id:"FjZDKY",defaultMessage:"Add a watermark"}),hasCustomBeforeSaveLogic:!0,icon:i.default.createElement(s.UIIcon,{src:o.StampLine}),tooltip:l.intl.formatMessage({id:"9XOJtt",defaultMessage:"Are saved with a watermark"}),renderAdditionalControls:t=>i.default.createElement(r.AsyncAutoWatermarkingControls,Object.assign({},t,{userId:e.id}))},notifications:{inProgress:()=>l.intl.formatMessage({id:"lB5Tn8",defaultMessage:"Automatically watermarking your files..."}),success:e=>l.intl.formatMessage({id:"Yr9iw4",defaultMessage:"{numSucceeded, plural, one {# file} other {# files}} automatically watermarked."},{numSucceeded:e}),fail:e=>l.intl.formatMessage({id:"oy7j2D",defaultMessage:"{numFailed, plural, one {# file} other {# files}} couldn't be automatically watermarked."},{numFailed:e})},shortLabel:l.intl.formatMessage({id:"bbQT+Y",defaultMessage:"Watermark"}),title:l.intl.formatMessage({id:"H/Nm7h",defaultMessage:"Watermark files"}),trigger:"folder",type:"watermarking",supportsPreview:!0,renderTemplatePreview:()=>i.default.createElement(u,null)});const u=()=>i.default.createElement(d.PreviewTemplate,{triggerIcon:i.default.createElement(d.FolderWithFile,{extension:"generic"}),actionIcon:i.default.createElement(n.FileGenericLarge,null),secondaryActionIcon:i.default.createElement(d.WatermarkedFileIcon,{className:c.default.flowsAutomationPreviewIconsNegMargin}),description:l.intl.formatMessage({id:"9PXlnG",defaultMessage:"Save copies of files added to this folder with a custom watermark"})})})),define("metaserver/static/js/flows/components/auto_watermarking/async_controls",["require","exports","tslib","react"],(function(e,t,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAutoWatermarkingControls=void 0;const n=(i=a.__importDefault(i)).default.lazy(()=>a.__awaiter(void 0,void 0,void 0,(function*(){const{AutoWatermarkingControls:t}=yield new Promise((t,a)=>{e(["metaserver/static/js/flows/components/auto_watermarking/controls"],t,a)}).then(a.__importStar);return{default:t}})));t.AsyncAutoWatermarkingControls=e=>i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("div",null)},i.default.createElement(n,Object.assign({},e))),t.AsyncAutoWatermarkingControls.displayName="AsyncAutoWatermarkingControls"})),define("metaserver/static/js/flows/components/auto_naming_conventions/async_controls",["require","exports","tslib","react","dig-components/progress_indicators"],(function(e,t,a,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAutoNamingConventionsControls=void 0;const s=(i=a.__importStar(i)).default.lazy(()=>a.__awaiter(void 0,void 0,void 0,(function*(){const{AutoNamingConventionsControls:t}=yield new Promise((t,a)=>{e(["metaserver/static/js/flows/components/auto_naming_conventions/controls"],t,a)}).then(a.__importStar);return{default:t}})));t.AsyncAutoNamingConventionsControls=e=>i.default.createElement(i.Suspense,{fallback:i.default.createElement("div",{style:{textAlign:"center"}},i.default.createElement(n.Spinner,null))},i.default.createElement(s,Object.assign({},e))),t.AsyncAutoNamingConventionsControls.displayName="AsyncAutoNamingConventionsControls"})),define("metaserver/static/js/flows/components/auto_tidy_up/auto_tidy_up.module.css",["require","exports","css!metaserver/static/js/flows/components/auto_tidy_up/auto_tidy_up.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showMoreClassName=t.selectedFilterEditIcon=t.selectedFilterChip=t.selectedCustomFilterContainer=t.selectedCustomFilterBlock=t.addFilterButton=t.customFilterSelection=void 0,t.customFilterSelection="_customFilterSelection_abwqr_1",t.addFilterButton="_addFilterButton_abwqr_5",t.selectedCustomFilterBlock="_selectedCustomFilterBlock_abwqr_10",t.selectedCustomFilterContainer="_selectedCustomFilterContainer_abwqr_14",t.selectedFilterChip="_selectedFilterChip_abwqr_18",t.selectedFilterEditIcon="_selectedFilterEditIcon_abwqr_23",t.showMoreClassName="_showMoreClassName_abwqr_27";t.default={customFilterSelection:"_customFilterSelection_abwqr_1",addFilterButton:"_addFilterButton_abwqr_5",selectedCustomFilterBlock:"_selectedCustomFilterBlock_abwqr_10",selectedCustomFilterContainer:"_selectedCustomFilterContainer_abwqr_14",selectedFilterChip:"_selectedFilterChip_abwqr_18",selectedFilterEditIcon:"_selectedFilterEditIcon_abwqr_23",showMoreClassName:"_showMoreClassName_abwqr_27"}})),define("metaserver/static/js/flows/components/auto_tidy_up/constants",["require","exports","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/utils"],(function(e,t,a,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTidyUpActionData=t.defaultTidyParametersForAutoFolder=void 0,t.defaultTidyParametersForAutoFolder={type:a.TidyUpType.by_month,activityParams:{inactiveSelection:a.InactiveSelection.thirty_days},byMonthParams:{excludeCurrentMonth:!1,dateFormatSelection:a.DateFormatSelection.YYYY_MM},byYearParams:{excludeCurrentYear:!1},byKeyphraseParams:{keyphrase:void 0,keyphraseDestination:void 0},customFilterParams:{filters:[{id:Date.now(),rules:[{type:a.TidyCustomFiltersType.None}],actions:{destination:void 0}}]},byTimeFrameParams:{folderStructure:a.TidyTimeFrameFolderStructure.month,formatNaming:{monthFormat:a.TidyTimeFrameFolderNamingMonth.yyyy_mm,yearFormat:a.TidyTimeFrameFolderNamingYear.yyyy,dayFormat:a.TidyTimeFrameFolderNamingDay.dd},date_rule:a.TidyTimeFrameDateRule.date_uploaded},previewData:void 0},t.defaultTidyUpActionData={args_json:JSON.stringify(i.TidyConversions.tidyTypeToApiV2(t.defaultTidyParametersForAutoFolder))}})),define("metaserver/static/js/flows/components/auto_tidy_up/controls",["require","exports","tslib","react","dig-components/form_row","metaserver/static/js/clean/ui/hoc","metaserver/static/js/flows/components/auto_tidy_up/utils","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/utils","metaserver/static/js/tidy_up/modal/keyphrase_view/tidy_keyphrase","metaserver/static/js/browse/data/store","metaserver/static/js/browse/data/selectors","typescript/component_libraries/flows/src/components/automated-folder-modal/index","dig-components/buttons","metaserver/static/js/tidy_up/modal/filters_view/tidy_filters","metaserver/static/js/tidy_up/modal/filters_view/folder_selection","metaserver/static/js/clean/viewer","metaserver/static/js/clean/active_user","js/filepath/filepath","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/teams/components/item_truncation_container/item_truncation_container","dig-components/chips","dig-components/icons/src","dig-components/icons","dig-components/typography","typescript/component_libraries/flows/src/components/automation-preview/index","metaserver/static/js/flows/components/auto_tidy_up/preview","metaserver/static/js/flows/components/auto_tidy_up/auto_tidy_up.module.css"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_,y,v,E,S,T,C,M,F,w,b,h,N){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestOnlyAutoTidyUpControls=t.AutoTidyUpControls=t.areCustomFiltersValid=void 0,i=a.__importStar(i),m=a.__importStar(m),E=a.__importStar(E),N=a.__importStar(N);t.areCustomFiltersValid=e=>e.filters.every(e=>e.rules.every(t=>{var a;const i=t.keywordRule&&t.keywordRule.keywords&&t.keywordRule.keywords.length>0||t.fileExtensionRule&&t.fileExtensionRule.fileExtensions&&t.fileExtensionRule.fileExtensions.length>0||t.sizeRule&&2===t.sizeRule.sizes.length,n=null===(a=null==e?void 0:e.actions)||void 0===a?void 0:a.destination;return i&&void 0!==n}));function I(e){return e.includes("tidy_up_automation_integration")}const D=({actionData:e,operation:a,updateActionData:s,isPaidUser:D,actionExperiments:x})=>{var P,O,A,j,L;const R=(0,u.getStoreForBrowse)().getState(),U=m.getCurrentFolderInfo(R),k=null!==(P=null==U?void 0:U.fq_path)&&void 0!==P?P:"",B=m.unsortedFiles(R).filter(e=>e.is_dir).toArray().map(e=>e.fq_path),Y=(0,o.useAutoTidyUpStrings)(),z=(0,v.getActiveUser)(),V=z?y.Viewer.get_role_title(z):void 0,q=null!=V?V:Y.rootFolderLabel,[K,H]=i.default.useState((0,o.getTidyParamsFromActionData)(e)),[W,G]=(0,i.useState)(!1),X={type:r.TidyStateType.CustomFilters},[J,Z]=i.default.useState(X),[$,Q]=i.default.useState(0),[ee,te]=i.default.useState(null!==(j=null===(A=null===(O=K.customFilterParams.filters[$])||void 0===O?void 0:O.actions)||void 0===A?void 0:A.destination)&&void 0!==j?j:k),[ae,ie]=i.default.useState((0,o.generateCustomFilterStrings)(K.customFilterParams)),[ne,se]=i.default.useState(void 0),oe="edit"===a,le="add"===a,re=i.default.useCallback(e=>H(Object.assign(Object.assign({},K),e)),[K,H]);(0,i.useEffect)(()=>{const t=(0,o.getTidyParamsFromActionData)(e);re(t)},[e]);const de=(0,i.useCallback)(e=>{const t=d.TidyConversions.tidyTypeToApiV2(e);s({args_json:JSON.stringify(t)})},[s]),ce=i.default.useCallback(e=>{const t=e.target.value;t===r.TidyUpType.keyphrase?se(S.TidyCustomFiltersType.Keyword):t===r.TidyUpType.custom_filters?se(S.TidyCustomFiltersType.None):se(void 0),de(Object.assign(Object.assign({},K),{type:t}))},[K,de]),ue=i.default.useCallback(e=>{Z({type:e})},[Z]),me=i.default.useCallback(()=>{G(!0),ue(r.TidyStateType.CustomFilters)},[ue,G]),fe=i.default.useCallback(e=>{const t={id:K.customFilterParams.filters[$].id,rules:[...K.customFilterParams.filters[$].rules],actions:Object.assign({},K.customFilterParams.filters[$].actions)};void 0!==e&&(t.actions.destination=e,t.actions.is_absolute_path=!0),re({customFilterParams:{filters:K.customFilterParams.filters.slice(0,$).concat([t]).concat(K.customFilterParams.filters.slice($+1))}})},[K.customFilterParams,$,re]),pe=i.default.useCallback(()=>{if(J.type===r.TidyStateType.CustomFilters)return de(K),G(!1),void ie((0,o.generateCustomFilterStrings)(K.customFilterParams));fe(ee),ue(r.TidyStateType.CustomFilters)},[K,fe,de,ue,G,J,ee]),ge=i.default.useCallback(()=>{if(J.type===r.TidyStateType.CustomFilters)return H((0,o.getTidyParamsFromActionData)(e)),G(!1),void se(S.TidyCustomFiltersType.None);ue(r.TidyStateType.CustomFilters)},[ue,G,J]),_e=D,ye=oe&&K.type===r.TidyUpType.time_frame_filter,ve=!D&&(oe||le);return i.default.createElement(n.FormControlGroup,null,i.default.createElement(l.TidyUpSelection,{isSelected:K.type===r.TidyUpType.by_month,onSelect:ce,value:r.TidyUpType.by_month,label:Y.monthLabel,subtext:Y.monthSubtext,name:"auto-tidy-options"}),i.default.createElement(l.TidyUpSelection,{isSelected:K.type===r.TidyUpType.by_year,onSelect:ce,value:r.TidyUpType.by_year,label:Y.yearLabel,subtext:Y.yearSubtext,name:"auto-tidy-options"}),_e&&I(x)?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:N.customFilterSelection},i.default.createElement(l.TidyUpSelection,{isSelected:K.type===r.TidyUpType.custom_filters,onSelect:ce,value:r.TidyUpType.custom_filters,label:Y.customFiltersLabel,subtext:(0,t.areCustomFiltersValid)(K.customFilterParams)?Y.customFiltersAutomationSelectedSubtext:Y.customFiltersAutomationSubtext,name:"auto-tidy-options"}),!(0,t.areCustomFiltersValid)(K.customFilterParams)&&i.default.createElement("span",{className:N.addFilterButton},i.default.createElement(p.Button,{onClick:me,variant:"outline",disabled:K.type!==r.TidyUpType.custom_filters},Y.addFiltersCta))),(0,t.areCustomFiltersValid)(K.customFilterParams)&&i.default.createElement("div",{className:N.selectedCustomFilterBlock},i.default.createElement("div",{className:N.selectedCustomFilterContainer},i.default.createElement(T.ItemTruncationContainerWithoutCss,{containerMaxRows:1,items:ae,itemsToMoreTooltipString:e=>e.map(e=>e).join("; "),renderItem:({item:e,ref:t})=>i.default.createElement("div",{className:N.selectedFilterChip},i.default.createElement(C.ChoiceChip,{ref:t,size:"small"},e,i.default.createElement(F.UIIcon,{src:M.EditLine,onClick:me,size:"standard",className:N.selectedFilterEditIcon}))),showMoreClassName:N.showMoreClassName})),i.default.createElement(w.Text,{size:"small",color:"faint"},Y.callToSaveSubText)),K.type===r.TidyUpType.custom_filters?i.default.createElement(i.default.Fragment,null,i.default.createElement(f.FullsizeWorkflowBuilderScreen,{isVisible:W,primaryBtnProps:{disabled:J.type===r.TidyStateType.CustomFilters&&!(0,t.areCustomFiltersValid)(K.customFilterParams),label:J.type===r.TidyStateType.CustomFilters?Y.saveFiltersCta:Y.selectFolderCta,onClick:pe},secondaryBtnProps:{label:Y.backCta,onClick:ge},title:Y.fullSizeScreenTitle},J.type===r.TidyStateType.CustomFilters&&i.default.createElement(g.TidyUpCustomFiltersView,{onPreview:()=>null,onCancel:()=>null,onBack:()=>null,setCustomFilterParameters:e=>{H(Object.assign(Object.assign({},K),{customFilterParams:Object.assign(Object.assign({},K.customFilterParams),e)}))},customFilterParameters:K.customFilterParams,subfolderPaths:B,setTidyStateType:ue,setCustomFilterFolderSelectionIndex:Q,isUsedInAutomation:!0,rootFolderDisplayName:q,updateLastSetRuleType:se}),J.type===r.TidyStateType.CustomFilterFolderSelection&&i.default.createElement(_.FolderSelection,{selectedDestinationPath:K.customFilterParams.filters[$].actions.destination,isAbsolutePath:null!==(L=K.customFilterParams.filters[$].actions.is_absolute_path)&&void 0!==L&&L,setSelectedDestinationPath:fe,initialPath:k,onCancel:()=>null,setTidyStateType:()=>null,isUsedInAutomation:!0,handleAutoFolderSelected:e=>{void 0!==e&&te(E.normalize(e))},rootFolderDisplayName:q}))):null):null,ye?i.default.createElement(l.TidyUpSelection,{isSelected:K.type===r.TidyUpType.time_frame_filter,onSelect:ce,value:r.TidyUpType.time_frame_filter,label:Y.timeFrameFilterLabel,subtext:Y.timeFrameFilterSubtext,name:"auto-tidy-options"}):null,ve&&I(x)?i.default.createElement(i.default.Fragment,null,i.default.createElement(l.TidyUpSelection,{isSelected:K.type===r.TidyUpType.keyphrase,onSelect:ce,value:r.TidyUpType.keyphrase,label:Y.keyphraseLabel,subtext:Y.keyphraseSubtext,name:"auto-tidy-options"}),K.type===r.TidyUpType.keyphrase?i.default.createElement(i.default.Fragment,null,i.default.createElement(c.TidyUpKeyphraseView,{keyphraseParameters:K.byKeyphraseParams,setKeyphraseParameters:e=>{de(Object.assign(Object.assign({},K),{byKeyphraseParams:Object.assign(Object.assign({},K.byKeyphraseParams),e)}))},onPreview:()=>null,onCancel:()=>null,onBack:()=>null,subfolderPaths:B,isUsedInAutomationModal:!0})):null):null,i.default.createElement(b.AutomationPreview,null,i.default.createElement(h.AutoTidyUpLivePreview,{type:ne})))};D.displayName="UnstyledAutoTidyUpControls",t.AutoTidyUpControls=(0,s.withCSS)(["/static/metaserver/static/css/tidy_up/tidy_up-vfliHRmLM.css"])(D),t.TestOnlyAutoTidyUpControls=D})),define("metaserver/static/js/flows/components/auto_tidy_up/preview",["require","exports","tslib","react","dig-components/typography","metaserver/static/js/flows/automations/util","metaserver/static/js/flows/components/auto_tidy_up/utils","typescript/component_libraries/flows/src/components/automation-preview/index.module.css"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTidyUpLivePreview=t.AutoTidyUpGenericPreview=void 0,i=a.__importDefault(i),l=a.__importDefault(l);t.AutoTidyUpGenericPreview=()=>{const e=(0,s.getAutoFolderVideoSrc)(),{previewDesc:t}=(0,o.useAutoTidyUpStrings)();return i.default.createElement(i.default.Fragment,null,i.default.createElement("video",{"aria-labelledby":"tidy-preview-video",height:"350",loop:!0,autoPlay:!0,playsInline:!0,muted:!0,tabIndex:0,src:e.video,poster:e.poster}),i.default.createElement("div",{className:l.default.flowsAutomationPreviewText,id:"tidy-preview-video"},i.default.createElement(n.Text,{inverse:!0},t)))},t.AutoTidyUpGenericPreview.displayName="AutoTidyUpGenericPreview";t.AutoTidyUpLivePreview=({type:e})=>{const t=(0,o.getVideoSrcLive)(e);return i.default.createElement(i.default.Fragment,null,i.default.createElement("video",{height:"350",loop:!0,autoPlay:!0,playsInline:!0,muted:!0,tabIndex:0,src:t}))},t.AutoTidyUpLivePreview.displayName="AutoTidyUpLivePreview"})),define("metaserver/static/js/flows/components/auto_tidy_up/utils",["require","exports","react-intl","metaserver/static/js/flows/components/auto_tidy_up/constants","metaserver/static/js/tidy_up/modal/options_view/tidy_custom_filters_selection","metaserver/static/js/tidy_up/modal/options_view/tidy_month_selection","metaserver/static/js/tidy_up/modal/options_view/tidy_year_selection","metaserver/static/js/tidy_up/modal/options_view/tidy_time_frame_filter_selection","metaserver/static/js/tidy_up/modal/options_view/tidy_keyphrase_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/utils","metaserver/static/js/modules/constants/page_load","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVideoSrcLive=t.generateCustomFilterStrings=t.useAutoTidyUpStrings=t.getTidyParamsFromActionData=void 0,t.getTidyParamsFromActionData=function(e){if(!(null==e?void 0:e.args_json))return i.defaultTidyParametersForAutoFolder;let t={".tag":"other"};try{t=JSON.parse(e.args_json)}catch(e){}return c.TidyConversions.tidyTypeFromApiV2(t)},t.useAutoTidyUpStrings=function(){const e=(0,a.useIntl)(),t={monthLabel:e.formatMessage(s.TIDY_UP_MONTH_SELECTION),monthSubtext:e.formatMessage(s.TIDY_UP_MONTH_DESCRIPTION),yearLabel:e.formatMessage(o.TIDY_UP_YEAR_SELECTION),yearSubtext:e.formatMessage(o.TIDY_UP_YEAR_DESCRIPTION),customFiltersLabel:e.formatMessage(n.TIDY_UP_CUSTOM_FILTERS_SELECTION),customFiltersSubtext:e.formatMessage(n.TIDY_UP_CUSTOM_FILTERS_SUBTEXT),timeFrameFilterLabel:e.formatMessage(l.TIDY_UP_TIME_FRAME_FILTER_SELECTION),timeFrameFilterSubtext:e.formatMessage(l.TIDY_UP_TIME_FRAME_FILTER_SUBTEXT),keyphraseLabel:e.formatMessage(r.TIDY_UP_KEYPHRASE_SELECTION),keyphraseSubtext:e.formatMessage(r.TIDY_UP_KEYPHRASE_SUBTEXT),previewDesc:e.formatMessage({id:"1fuLdq",defaultMessage:"For example, sort files by date created, keyword, or other categories"}),rootFolderLabel:e.formatMessage({id:"rLmkyk",defaultMessage:"Dropbox"}),addFiltersCta:e.formatMessage({id:"opIhBK",defaultMessage:"Add filters"}),saveFiltersCta:e.formatMessage({id:"tGpM+7",defaultMessage:"Save"}),selectFolderCta:e.formatMessage({id:"vgXiWs",defaultMessage:"Select Folder"}),backCta:e.formatMessage({id:"A0dS2I",defaultMessage:"Back"}),fullSizeScreenTitle:e.formatMessage({id:"TDk0ve",defaultMessage:"Add automation"}),customFiltersAutomationSubtext:e.formatMessage({id:"DnWvuz",defaultMessage:"Add filters and rules to folder(s)"}),customFiltersAutomationSelectedSubtext:e.formatMessage({id:"e/PQQv",defaultMessage:"Your custom filters are"}),callToSaveSubText:e.formatMessage({id:"lXFUO7",defaultMessage:"Click Save to add the automation."})};return Object.assign(Object.assign({},t),{getLabelForTidyUpType:e=>{switch(e){case d.TidyUpType.by_month:return t.monthLabel;case d.TidyUpType.by_year:return t.yearLabel;case d.TidyUpType.custom_filters:return t.customFiltersLabel;case d.TidyUpType.time_frame_filter:return t.timeFrameFilterLabel;case d.TidyUpType.keyphrase:return t.keyphraseLabel;default:return}}})},t.generateCustomFilterStrings=function(e){const t=[];return e.filters.map(e=>{t.push(e.rules.map(e=>e.type).join(", "))}),t},t.getVideoSrcLive=function(e){const t="https://assets.dropbox.com/www/en-us/workflow-automation/workflow-automation-dashboard/higher-resolutions/",a=(0,m.localeToBcp47LangTag)(u.USER_LOCALE)||"en";return e===d.TidyCustomFiltersType.None?`${t}tidy_custom_filters_default/tidy_custom_filters_default_${a}@2x.mp4`:e===d.TidyCustomFiltersType.Keyword?`${t}tidy_custom_filters_keyword/tidy_custom_filters_keyword_${a}@2x.mp4`:e===d.TidyCustomFiltersType.FileExtension?`${t}tidy_custom_filters_file_extension/tidy_custom_filters_file_extension_${a}@2x.mp4`:e===d.TidyCustomFiltersType.Size?`${t}tidy_custom_filters_size/tidy_custom_filters_size_${a}@2x.mp4`:`${t}automation_dashboard_overview_animation/automation_dashboard_overview_animation_${a}@2x.mp4`}})),define("metaserver/static/js/naming_conventions/api_v2",["require","exports","tslib","metaserver/static/js/api_v2/user_client","metaserver/static/js/clean/ui/polling_util"],(function(e,t,a,i,n){"use strict";function s(e,t,i,s,o,l,r){return a.__awaiter(this,void 0,void 0,(function*(){const a=yield e.ns("naming_conventions").rpc("apply",{source_path:i,filename_suggestions:s,rules_struct:o,automation_toggled:l,origin:r},{subjectUserId:t});return"complete"===a[".tag"]?{status:n.PollingStatus.COMPLETE,result:a}:"other"===a[".tag"]?{status:n.PollingStatus.ERROR,result:a}:{status:n.PollingStatus.IN_PROGRESS,result:a.async_job_id}}))}function o(e,t,i){return a.__awaiter(this,void 0,void 0,(function*(){const a=yield e.ns("naming_conventions").rpc("apply/check",{async_job_id:i},{subjectUserId:t});if("in_progress"===a[".tag"])return{status:n.PollingStatus.IN_PROGRESS,result:i};if("complete"===a[".tag"])return{status:n.PollingStatus.COMPLETE,result:a};if("failed"===a[".tag"])return{status:n.PollingStatus.ERROR,result:a.failed};throw new n.PollingUtilError("Unexpected Result")}))}function l(e,t,i,s,o,l){return a.__awaiter(this,void 0,void 0,(function*(){const a=yield e.ns("naming_conventions").rpc("set",{source_path:i,rules_struct:s,automation_toggled:o,origin:l},{subjectUserId:t});return"complete"===a[".tag"]?{status:n.PollingStatus.COMPLETE,result:a}:"other"===a[".tag"]?{status:n.PollingStatus.ERROR,result:a}:{status:n.PollingStatus.IN_PROGRESS,result:a.async_job_id}}))}function r(e,t,i){return a.__awaiter(this,void 0,void 0,(function*(){const a=yield e.ns("naming_conventions").rpc("set/check",{async_job_id:i},{subjectUserId:t});if("in_progress"===a[".tag"])return{status:n.PollingStatus.IN_PROGRESS,result:i};if("complete"===a[".tag"])return{status:n.PollingStatus.COMPLETE,result:a};if("failed"===a[".tag"])return{status:n.PollingStatus.ERROR,result:a.failed};throw new n.PollingUtilError("Unexpected Result")}))}Object.defineProperty(t,"__esModule",{value:!0}),t.submitWorkflowThisFolderAndSubfolders=t.undo=t.snackbarDismissed=t.shouldShowSnackbar=t.previewWithRetries=t.getRules=t.preview=t._setTimeout=t.setNamingConventions=t.pollForNamingConventionsSetResponse=t.initialNamingConventionsSetRequest=t.applyNamingConventions=t.pollForNamingConventionsApplyResponse=t.initialNamingConventionsApplyRequest=void 0,t.initialNamingConventionsApplyRequest=s,t.pollForNamingConventionsApplyResponse=o,t.applyNamingConventions=function(e,t,l,r,d,u){return a.__awaiter(this,void 0,void 0,(function*(){t=c(t);const m=new i.UserApiV2Client;return yield(0,n.makePollingRequest)(()=>a.__awaiter(this,void 0,void 0,(function*(){return s(m,e,t,l,r,d,u)})),t=>a.__awaiter(this,void 0,void 0,(function*(){return o(m,e,t)})))}))},t.initialNamingConventionsSetRequest=l,t.pollForNamingConventionsSetResponse=r,t.setNamingConventions=function(e,t,s,o,d){return a.__awaiter(this,void 0,void 0,(function*(){t=c(t);const u=new i.UserApiV2Client;return yield(0,n.makePollingRequest)(()=>a.__awaiter(this,void 0,void 0,(function*(){return l(u,e,t,s,o,d)})),t=>a.__awaiter(this,void 0,void 0,(function*(){return r(u,e,t)})))}))};t._setTimeout=window.setTimeout.bind(window);t.preview=(e,t,n)=>a.__awaiter(void 0,void 0,void 0,(function*(){return t=c(t),(new i.UserApiV2Client).ns("naming_conventions").rpc("preview",{rules_struct:n,source_path:t},{subjectUserId:e})}));t.getRules=(e,t)=>a.__awaiter(void 0,void 0,void 0,(function*(){return t=c(t),(new i.UserApiV2Client).ns("naming_conventions").rpc("get_rules",{source_path:t},{subjectUserId:e})}));t.previewWithRetries=(e,i,n)=>a.__awaiter(void 0,void 0,void 0,(function*(){return d(()=>(0,t.preview)(e,i,n)).catch(e=>e)}));const d=(e,i=2,n)=>a.__awaiter(void 0,void 0,void 0,(function*(){return 0===i?Promise.reject(n):e().catch(a=>{return(n=1e3,new Promise(e=>(0,t._setTimeout)(e,n))).then(()=>d(e,i-1,a));var n})}));t.shouldShowSnackbar=(e,t)=>a.__awaiter(void 0,void 0,void 0,(function*(){return(new i.UserApiV2Client).ns("naming_conventions").rpc("feature_discovery/should_show_snackbar",{snackbar_type:t},{subjectUserId:e})}));t.snackbarDismissed=e=>a.__awaiter(void 0,void 0,void 0,(function*(){return(new i.UserApiV2Client).ns("naming_conventions").rpc("feature_discovery/snackbar_dismissed",{reset_criteria:!1},{subjectUserId:e})}));t.undo=(e,t,n,s,o)=>a.__awaiter(void 0,void 0,void 0,(function*(){return t=c(t),(new i.UserApiV2Client).ns("naming_conventions").rpc("undo",{source_path:t,entries:n,rules_struct:s,rules_struct_v2:o},{subjectUserId:e})}));const c=e=>"/"===e?"":e;t.submitWorkflowThisFolderAndSubfolders=(e,t,n,s)=>a.__awaiter(void 0,void 0,void 0,(function*(){const a={template:{sequence:[{workflow_action:{".tag":"list_directory",list_directory:{".tag":"nc_descendants",descendant_rule_override:!0}}},{workflow_action:{".tag":"naming_conventions",args_json:JSON.stringify(e)}}]},file_ids:[n],parent_folder_fq_path:c(t),notifications:{enabled_notifiers:{".tag":"bluenote_only"},notification_frequency_override_sec:3600}};return(new i.UserApiV2Client).ns("flows").rpc("submit_file_workflow",a,{subjectUserId:s})}))})),define("metaserver/static/js/naming_conventions/components/naming_conventions_view",["require","exports","tslib","react","metaserver/static/js/naming_conventions/components/nc_generic_live_preview","metaserver/static/js/naming_conventions/components/nc_title_casing_selection_button","metaserver/static/js/naming_conventions/components/nc_consistent_separator_selection_button","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/generic_live_preview_2","dig-components/icons/src","dig-components/icons","dig-components/typography","react-intl","metaserver/static/js/core/i18n","metaserver/static/js/naming_conventions/components/nc_draggable_rule_list","react-beautiful-dnd","dig-components/buttons","metaserver/static/js/naming_conventions/components/nc_renaming_bar_selection_button"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_,y){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsView=void 0,i=a.__importStar(i);const v=(0,m.defineMessage)({id:"qKiRrI",defaultMessage:"Not all rules or metadata may be applicable or available to each file or file type."}),E=(0,m.defineMessage)({id:"rLh5z9",defaultMessage:"Add rule"}),S=(0,m.defineMessage)({id:"r18HiD",defaultMessage:"Please use only letters (a-z), numbers (0-9), and underscores (_)"}),T=(0,m.defineMessage)({id:"NPApVr",defaultMessage:"Please limit the keyword to 15 characters"}),C=(0,m.defineMessage)({id:"zU0Cdo",defaultMessage:"Please enter a keyword"}),M=(0,m.defineMessage)({id:"LFx6oQ",defaultMessage:"Please select a rule or delete the row"});t.NamingConventionsView=({namingConventionsParameters:e,onNamingConventionsParametersChange:t,experiments:a,onErrorVisible:m,showMissingDataErrors:F,onInvalidData:w})=>{const b=i.default.useRef(null),[h,N]=i.default.useState(e),[I,D]=i.default.useState(""),[x,P]=i.default.useState(!1),{componentList:O,capitalizeAllInitials:A,changeAllSeparators:j,renamingBarEnabled:L,data:R}=e,[U,k]=i.default.useState(Array(h.componentList.length).fill(null)),B=(function(e){const t=i.default.useRef();return(0,i.useEffect)(()=>{t.current=e},[e]),t.current})(O);(0,i.useEffect)(()=>{t(h)},[h]),(0,i.useEffect)(()=>{m(U)},[U]),(0,i.useEffect)(()=>{const e=b.current;if(e&&B&&(null==O?void 0:O.length)>(null==B?void 0:B.length)){const t=e.querySelectorAll('[role="combobox"]'),a=t[t.length-1];null==a||a.focus()}},[O,B,b]),(0,i.useEffect)(()=>{const e=Array.from(U);e.find(e=>(null==e?void 0:e.type)===l.ErrorType.RULE_ERROR)&&!O.includes(l.NamingConventionType.none)&&(e[e.findIndex(e=>(null==e?void 0:e.type)===l.ErrorType.RULE_ERROR)]=null),O.forEach((t,a)=>{if(t===l.NamingConventionType.keyword){if(0===R.keywords[a].length){const t={message:f.intl.formatMessage(C),type:l.ErrorType.TEXT_ERROR,whenToShow:l.WhenToShowError.WHEN_BUTTON_CLICKED};e[a]=t}}else if(t===l.NamingConventionType.none){const t={message:f.intl.formatMessage(M),type:l.ErrorType.RULE_ERROR,whenToShow:l.WhenToShowError.WHEN_BUTTON_CLICKED};e[a]=t}else e[a]=null}),k(e)},[O,R]),(0,i.useEffect)(()=>{D((0,r.getGenericLivePreviewText)(e))},[e]);const Y=(0,i.useCallback)(t=>{const a=t.target.value;a===l.NamingConventionType.capitalize_all_initials?N(()=>Object.assign(Object.assign({},e),{capitalizeAllInitials:!e.capitalizeAllInitials})):a===l.NamingConventionType.consistent_separators?N(()=>Object.assign(Object.assign({},e),{changeAllSeparators:!e.changeAllSeparators})):a===l.NamingConventionType.renaming_bar_enabled&&N(()=>Object.assign(Object.assign({},e),{renamingBarEnabled:!e.renamingBarEnabled}))},[e]),z=(0,i.useCallback)(t=>{var a;e.changeAllSeparators&&e.data.consistentSeparatorSelection===t||((a=l.NamingConventionType.consistent_separators)===l.NamingConventionType.capitalize_all_initials?N(()=>Object.assign(Object.assign({},e),{capitalizeAllInitials:!0})):a===l.NamingConventionType.consistent_separators&&N(()=>Object.assign(Object.assign({},e),{changeAllSeparators:!0})),N(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},R),{consistentSeparatorSelection:t})})))},[e]),V=(0,i.useCallback)((t,a)=>{const i=[...e.data.dateInfo];i[t]={dateFormatSelection:a,mlFilenameParsing:!1},N(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{dateInfo:i})}))},[e]),q=(0,i.useCallback)((t,a)=>{const i=[...e.data.keywords];i[t]=a,N(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{keywords:i})}));const n=new RegExp(/^[a-zA-Z0-9_]{0,15}$/);let s=null;s=a.length>15?{message:f.intl.formatMessage(T),type:l.ErrorType.TEXT_ERROR,whenToShow:l.WhenToShowError.IMMEDIATELY}:n.test(a)?null:{message:f.intl.formatMessage(S),type:l.ErrorType.TEXT_ERROR,whenToShow:l.WhenToShowError.IMMEDIATELY};const o=Array.from(U);o[t]=s,k(o),w(!!s)},[e,U]),K=(0,i.useCallback)((t,a)=>{const i=Array.from(U);i[t]=null,k(i),w(!1);const n=Array.from(e.componentList),s=Array.from(e.data.dateInfo);n.includes(l.NamingConventionType.upload_date)||n.includes(l.NamingConventionType.capture_date)||a!==l.NamingConventionType.upload_date&&a!==l.NamingConventionType.capture_date||(s[t].mlFilenameParsing=!0),n[t]=a,N(()=>Object.assign(Object.assign({},e),{componentList:n,data:Object.assign(Object.assign({},e.data),{dateInfo:s})}))},[e,U]),H=(0,i.useCallback)(t=>{t.destination&&(((t,a)=>{const i=Array.from(e.componentList),[n]=i.splice(t,1);i.splice(a,0,n);const s=Array.from(e.data.dateInfo),[o]=s.splice(t,1);s.splice(a,0,o);const l=Array.from(e.data.keywords),[r]=l.splice(t,1);l.splice(a,0,r),N(()=>Object.assign(Object.assign({},e),{componentList:i,data:Object.assign(Object.assign({},e.data),{dateInfo:s,keywords:l})}));const d=Array.from(U),[c]=d.splice(t,1);d.splice(a,0,c),k(()=>[...d])})(t.source.index,t.destination.index),P(!0))},[e,U]),W=(0,i.useCallback)(t=>{const a=Array.from(e.componentList);a.splice(t,1);const i=Array.from(e.data.dateInfo);i.splice(t,1);const n=Array.from(e.data.keywords);n.splice(t,1),N(()=>Object.assign(Object.assign({},e),{componentList:a,data:Object.assign(Object.assign({},e.data),{dateInfo:i,keywords:n})}));const s=Array.from(U);s.splice(t,1),k(s),w(!1)},[e,U]),G=(0,i.useCallback)(()=>{P(!1)},[P]),X=(0,i.useCallback)(()=>{if(-1!==O.indexOf(l.NamingConventionType.none))return void w(!0);k([...U,null]);const t=Array.from(e.componentList);t.push(l.NamingConventionType.none);const a=Array.from(e.data.dateInfo);a.push({mlFilenameParsing:!1,dateFormatSelection:l.DateFormatSelection.yyyy_mm_dd});const i=Array.from(e.data.keywords);i.push(""),N(()=>Object.assign(Object.assign({},e),{componentList:t,data:Object.assign(Object.assign({},e.data),{dateInfo:a,keywords:i})}))},[e,U]),J=(0,i.useCallback)((t,a)=>{const i=Array.from(e.data.dateInfo);a&&i.forEach(e=>e.mlFilenameParsing=!1),i[t].mlFilenameParsing=a,N(()=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{dateInfo:i})}))},[e]);return i.default.createElement(i.default.Fragment,null,i.default.createElement(n.NamingConventionsGenericLivePreview,{previewText:I,forModal2:!0}),i.default.createElement("div",{className:"naming-conventions__info-message-container"},i.default.createElement(c.UIIcon,{className:"naming-conventions__info-message-icon",src:d.InfoSmallLine}),i.default.createElement(u.Text,{size:"small",color:"faint"},f.intl.formatMessage(v))),i.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-section"}),i.default.createElement("div",{className:"naming-conventions__drag-and-drop-area-container",ref:b},i.default.createElement(g.DragDropContext,{onDragEnd:H},i.default.createElement(p.NamingConventionsDraggableRuleList,{rules:O,onRuleChange:K,dateFormats:e.data.dateInfo,onMLSelection:J,onDateFormatSelection:V,keywords:e.data.keywords,onKeywordChange:q,onRuleRemove:W,experiments:a,errorState:U,showMissingDataErrors:F}))),i.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-section"}),i.default.createElement("div",{className:"naming-conventions__add-rule-button-container"},i.default.createElement(_.Button,{variant:"transparent",hasNoUnderline:!0,withIconLeft:i.default.createElement(c.UIIcon,{src:d.AddCircleLine,role:"presentation",className:"naming-conventions__add-rule-button"}),onClick:X,disabled:F&&U.some(e=>!!e&&e.type===l.ErrorType.RULE_ERROR)},i.default.createElement(u.Text,{color:"faint"},f.intl.formatMessage(E)))),i.default.createElement(s.NamingConventionsTitleCasingSelectionButton,{isSelected:A,onSelect:Y,shouldFocus:x,onShouldFocusToggle:G}),i.default.createElement(o.NamingConventionsConsistentSeparatorSelectionButton,{isSelected:j,onSelect:Y,separatorSelection:e.data.consistentSeparatorSelection,setSeparatorSelection:z,useSelectComponent:!0}),a.expNamingConventionsRenamingBarExistingNC?i.default.createElement(y.NamingConventionsRenamingBarSelectionButton,{isSelected:L,onSelect:Y}):null)},t.NamingConventionsView.displayName="NamingConventionsView"})),define("metaserver/static/js/naming_conventions/components/nc_consistent_separator_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/components/nc_selection_button_with_selection","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsConsistentSeparatorSelectionButton=void 0,i=a.__importStar(i);const r=(0,n.defineMessage)({id:"U595M8",defaultMessage:"Change separators to"}),d=(0,n.defineMessage)({id:"jyN4iF",defaultMessage:"Separate words with"}),c=(0,n.defineMessage)({id:"fNMZat",defaultMessage:"Spaces"}),u=(0,n.defineMessage)({id:"WlQ6fB",defaultMessage:"Underscores"}),m=(0,n.defineMessage)({id:"dxmlqa",defaultMessage:"Dashes"});t.NamingConventionsConsistentSeparatorSelectionButton=i.default.memo(({isSelected:e,onSelect:t,separatorSelection:a,setSeparatorSelection:n,useSelectComponent:f})=>{const p=(0,i.useMemo)(()=>new Map([[s.ConsistentSeparatorSelection.spaces,l.intl.formatMessage(c)],[s.ConsistentSeparatorSelection.underscores,l.intl.formatMessage(u)],[s.ConsistentSeparatorSelection.dashes,l.intl.formatMessage(m)]]),[]);return i.default.createElement(o.NamingConventionsSelectionButtonWithSelection,{isSelected:e,onSelect:t,value:s.NamingConventionType.consistent_separators,label:f?l.intl.formatMessage(d):l.intl.formatMessage(r),optionsMapping:p,optionSelection:a,setOptionSelection:n,useSelectComponent:f})}),t.NamingConventionsConsistentSeparatorSelectionButton.displayName="NamingConventionsConsistentSeparatorSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_date_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/components/nc_selection_button_with_selection","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsDateSelectionButton=void 0,i=a.__importStar(i);const r=(0,n.defineMessage)({id:"Op7+fy",defaultMessage:"Start filenames with date"}),d=(0,n.defineMessage)({id:"kuIfCl",defaultMessage:"YYYY-MM"}),c=(0,n.defineMessage)({id:"Wo8t/x",defaultMessage:"YYYY-MM-DD"}),u=(0,n.defineMessage)({id:"dq2xhP",defaultMessage:"YYYYMMDD"}),m=(0,n.defineMessage)({id:"ASIht1",defaultMessage:"YYYY-Mon-DD"});t.NamingConventionsDateSelectionButton=({isSelected:e,onSelect:t,dateFormatSelection:a,setDateFormatSelection:n})=>{const f=(0,i.useMemo)(()=>new Map([[s.DateFormatSelection.yyyy_mm,l.intl.formatMessage(d)],[s.DateFormatSelection.yyyy_mm_dd,l.intl.formatMessage(c)],[s.DateFormatSelection.yyyy_abbr_dd,l.intl.formatMessage(m)],[s.DateFormatSelection.yyyymmdd,l.intl.formatMessage(u)]]),[]);return i.default.createElement(o.NamingConventionsSelectionButtonWithSelection,{isSelected:e,onSelect:t,value:s.NamingConventionType.upload_date,label:l.intl.formatMessage(r),optionsMapping:f,optionSelection:a,setOptionSelection:n,useSelectComponent:!1})},t.NamingConventionsDateSelectionButton.displayName="NamingConventionsDateSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_draggable_rule_list",["require","exports","tslib","react","react-beautiful-dnd","metaserver/static/js/naming_conventions/components/nc_rule_row"],(function(e,t,a,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsDraggableRuleList=void 0,i=a.__importDefault(i);t.NamingConventionsDraggableRuleList=i.default.memo(({rules:e,dateFormats:t,keywords:a,onRuleChange:o,onDateFormatSelection:l,onKeywordChange:r,onRuleRemove:d,onMLSelection:c,experiments:u,errorState:m,showMissingDataErrors:f})=>{const p=((e,t,a,n,o,l,r,d,c,u,m)=>(f,p,g)=>i.default.createElement(s.NamingConventionsRuleRow,{position:g.source.index,rule:e[g.source.index],onRuleChange:n,dateInfo:t[g.source.index],onDateFormatChange:o,keyword:a[g.source.index],onKeywordChange:l,provided:f,snapshot:p,onRuleRemove:r,onMLSelection:d,experiments:c,error:u[g.source.index],showMissingDataErrors:m}))(e,t,a,o,l,r,d,c,u,m,f);return i.default.createElement(n.Droppable,{droppableId:"rule_list",renderClone:p},t=>i.default.createElement("div",Object.assign({ref:t.innerRef},t.droppableProps,{style:{zIndex:2e4}}),e.map((e,t)=>i.default.createElement(n.Draggable,{key:`${e}-${t}`,draggableId:`${e}-${t}`,index:t},p)),t.placeholder))}),t.NamingConventionsDraggableRuleList.displayName="NamingConventionsDraggableRuleList"})),define("metaserver/static/js/naming_conventions/components/nc_generic_live_preview",["require","exports","tslib","react","dig-components/typography","react-intl","dig-components/icons/src","dig-components/icons","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsGenericLivePreview=void 0,i=a.__importDefault(i);const d=(0,s.defineMessage)({id:"/f9BQ2",defaultMessage:"This is how your filenames will look"});t.NamingConventionsGenericLivePreview=i.default.memo(({previewText:e,forModal2:t})=>t?i.default.createElement("div",{id:e,className:"naming-conventions__live-preview-container-2","data-testid":"generic-live-preview"},i.default.createElement("div",{className:"naming-conventions__live-preview-icon"},i.default.createElement(l.UIIcon,{src:o.FileLine})),i.default.createElement("div",{className:"naming-conventions__live-preview-text",tabIndex:0},i.default.createElement(n.Text,{monospace:!0},e))):i.default.createElement("div",{className:"naming-conventions__live-preview-section"},i.default.createElement(n.Text,{tagName:"label",htmlFor:e},r.intl.formatMessage(d)),i.default.createElement("div",{id:e,className:"naming-conventions__live-preview-container"},i.default.createElement(l.UIIcon,{className:"naming-conventions__live-preview-icon",src:o.FileLine}),i.default.createElement(n.Text,{monospace:!0},e)))),t.NamingConventionsGenericLivePreview.displayName="NamingConventionsGenericLivePreview"})),define("metaserver/static/js/naming_conventions/components/nc_ml_toggle",["require","exports","tslib","react","react-intl","metaserver/static/js/core/i18n","metaserver/static/js/naming_conventions/components/nc_toggle_button","dig-components/controls","dig-components/typography","dig-components/tooltips","dig-components/icons","dig-components/icons/src","dig-components/buttons","metaserver/static/js/clean/referrer_cleansing_redirect"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsMLCheckbox=t.NamingConventionsMLToggle=void 0,i=a.__importDefault(i);const p=(0,n.defineMessage)({id:"yqIarH",defaultMessage:"Intelligent file renaming"});t.NamingConventionsMLToggle=({isToggled:e,onSelect:t,value:a,disabled:n})=>i.default.createElement(o.NamingConventionsToggleButton,{isToggled:e,onSelect:t,value:a,disabled:n,label:s.intl.formatMessage(p)}),t.NamingConventionsMLToggle.displayName="NamingConventionsMLToggle";const g=(0,n.defineMessage)({id:"Ya3WDl",defaultMessage:"Replace with existing dates detected in filenames"}),_=(0,n.defineMessage)({id:"xD1Q24",defaultMessage:"Can only be active on one rule at a time"}),y=(0,n.defineMessage)({id:"bK/FO8",defaultMessage:"This option cannot be enabled when a date format with time is selected"});t.NamingConventionsMLCheckbox=i.default.memo(({isSelected:e,onSelect:t,position:a,value:n,disabled:o})=>i.default.createElement("div",{className:"naming-conventions__ml-checkbox-row",key:n},i.default.createElement(l.Checkbox,{id:n+a,checked:e,onChange:e=>{const i=e.target.checked;t(a,i)},className:"naming-conventions__ml-checkbox",disabled:o}),i.default.createElement(d.Tooltip,{title:o?s.intl.formatMessage(y):s.intl.formatMessage(_)},i.default.createElement("span",{className:"naming-conventions__ml-checkbox-label"},i.default.createElement(r.Text,{tagName:"label",htmlFor:n+a,size:"small",color:o?"disabled":"standard"},s.intl.formatMessage(g)))),i.default.createElement(m.IconButton,{variant:"transparent",color:o?"disabled":"standard"},i.default.createElement(c.UIIcon,{src:u.HelpLine,onClick:()=>{(0,f.safe_open_tab_and_redirect)("https://help.dropbox.com/en-us/files-folders/sort-preview/naming-conventions")}})))),t.NamingConventionsMLCheckbox.displayName="NamingConventionsMLCheckbox"})),define("metaserver/static/js/naming_conventions/components/nc_parent_folder_name_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/components/nc_selection_button","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsParentFolderNameSelectionButton=void 0,i=a.__importDefault(i);const r=(0,n.defineMessage)({id:"JNB+YZ",defaultMessage:"Add parent folder name"});t.NamingConventionsParentFolderNameSelectionButton=({isSelected:e,onSelect:t})=>i.default.createElement(o.NamingConventionsSelectionButton,{isSelected:e,onSelect:t,value:s.NamingConventionType.parent_folder_name,label:l.intl.formatMessage(r)}),t.NamingConventionsParentFolderNameSelectionButton.displayName="NamingConventionsParentFolderNameSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_renaming_bar_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/components/nc_selection_button","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsRenamingBarSelectionButton=void 0,i=a.__importDefault(i);const r=(0,n.defineMessage)({id:"vtlxR/",defaultMessage:"Display naming conventions overlay when renaming files in this folder"});t.NamingConventionsRenamingBarSelectionButton=i.default.memo(({isSelected:e,onSelect:t})=>i.default.createElement(o.NamingConventionsSelectionButton,{isSelected:e,onSelect:t,value:s.NamingConventionType.renaming_bar_enabled,label:l.intl.formatMessage(r)})),t.NamingConventionsRenamingBarSelectionButton.displayName="NamingConventionsRenamingBarSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_rule_row",["require","exports","tslib","react","dig-components/text_fields","metaserver/static/js/naming_conventions/types","metaserver/static/js/core/i18n","react-intl","dig-components/icons","dig-components/icons/src","dig-components/text_fields","dig-components/buttons","metaserver/static/js/naming_conventions/components/nc_ml_toggle","dig-components/typography"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsRuleRow=void 0,i=a.__importDefault(i);const p=(0,l.defineMessage)({id:"LnSULt",defaultMessage:"Include date"}),g=(0,l.defineMessage)({id:"+X+HOK",defaultMessage:"Date uploaded"}),_=(0,l.defineMessage)({id:"aIMXCV",defaultMessage:"Date captured"}),y=(0,l.defineMessage)({id:"tQhGF4",defaultMessage:"Add keyword"}),v=(0,l.defineMessage)({id:"hvMtJg",defaultMessage:"Keyword"}),E=(0,l.defineMessage)({id:"Kjqg7T",defaultMessage:"Include parent folder"}),S=(0,l.defineMessage)({id:"N0rNFR",defaultMessage:"Parent folder"}),T=(0,l.defineMessage)({id:"Ev/BMV",defaultMessage:"Add media metadata"}),C=(0,l.defineMessage)({id:"gSjlZj",defaultMessage:"Camera make"}),M=(0,l.defineMessage)({id:"9yy5+6",defaultMessage:"Camera model"}),F=(0,l.defineMessage)({id:"OmDsJV",defaultMessage:"Lens model"}),w=(0,l.defineMessage)({id:"x8hiOw",defaultMessage:"Dimensions"}),b=(0,l.defineMessage)({id:"rB8RaG",defaultMessage:"Dots per inch (DPI)"}),h=(0,l.defineMessage)({id:"PXnFLy",defaultMessage:"Dots per centimeter (DPCM)"}),N=(0,l.defineMessage)({id:"1BKAPH",defaultMessage:"YYYY-MM"}),I=(0,l.defineMessage)({id:"aU2hMp",defaultMessage:"YYYY-MM-DD"}),D=(0,l.defineMessage)({id:"Lcdy8q",defaultMessage:"YYYYMMDD"}),x=(0,l.defineMessage)({id:"twjMx7",defaultMessage:"YYYY-Mon-DD"}),P=(0,l.defineMessage)({id:"efegPo",defaultMessage:"YYYY-MM-HH.MM"}),O=(0,l.defineMessage)({id:"W+m1VY",defaultMessage:"YYYY-MM-DD-HH.MM"}),A=(0,l.defineMessage)({id:"EzAZL/",defaultMessage:"YYYYMMDD-HH.MM"}),j=(0,l.defineMessage)({id:"wn5WOD",defaultMessage:"YYYY-Mon-DD-HH.MM"}),L=(0,l.defineMessage)({id:"+pAgX+",defaultMessage:"Select rule"}),R=(0,l.defineMessage)({id:"RCnu3K",defaultMessage:"Filename"}),U=(0,l.defineMessage)({id:"Nzzj63",defaultMessage:"Sender's name"}),k=(0,l.defineMessage)({id:"GPKgbS",defaultMessage:"Enter keyword"});t.NamingConventionsRuleRow=i.default.memo(({position:e,rule:t,onRuleChange:a,dateInfo:l,onDateFormatChange:c,keyword:N,onKeywordChange:I,provided:D,snapshot:x,onRuleRemove:P,onMLSelection:O,experiments:A,error:j,showMissingDataErrors:k})=>{let V=i.default.createElement(i.default.Fragment,null);t===s.NamingConventionType.upload_date||t===s.NamingConventionType.capture_date?V=i.default.createElement(B,{position:e,dateFormat:l.dateFormatSelection,onDateFormatChange:c}):t===s.NamingConventionType.keyword&&(V=i.default.createElement(Y,{position:e,keyword:N,onKeywordChange:I,error:j,showMissingInfoErrors:k}));let q=!1,K=i.default.createElement(i.default.Fragment,null);t===s.NamingConventionType.original_snippet?(q=!0,K=i.default.createElement(z,{position:e,value:o.intl.formatMessage(R)})):t===s.NamingConventionType.sender_name&&(q=!0,K=i.default.createElement(z,{position:e,value:o.intl.formatMessage(U)}));let H=null;if(A.expNamingConventionsMLFilename&&(t===s.NamingConventionType.upload_date||t===s.NamingConventionType.capture_date)){let t=!1;l.dateFormatSelection!==s.DateFormatSelection.yyyy_mm_hh_mm&&l.dateFormatSelection!==s.DateFormatSelection.yyyy_mm_dd_hh_mm&&l.dateFormatSelection!==s.DateFormatSelection.yyyy_abbr_dd_hh_mm&&l.dateFormatSelection!==s.DateFormatSelection.yyyymmdd_hh_mm||(t=!0),H=i.default.createElement(m.NamingConventionsMLCheckbox,{isSelected:!0===l.mlFilenameParsing,onSelect:O,position:e,value:s.NamingConventionML,disabled:t})}return i.default.createElement("div",Object.assign({ref:D.innerRef},D.draggableProps,D.dragHandleProps,{style:Object.assign(Object.assign({},D.draggableProps.style),{zIndex:2e4,backgroundColor:x.isDragging?"#d6e8fa":"inherit",borderLeft:x.isDragging?"4px solid var(--color__core__accent)":""}),className:"naming-conventions__rule-row-container"}),i.default.createElement("div",{className:"naming-conventions__rule-row",key:e},i.default.createElement("div",{className:"naming-conventions__select-container"},q?K:i.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},i.default.createElement(n.Select,{id:"rule-selection"+e,placeholder:o.intl.formatMessage(L),value:t,onChange:t=>{const i=s.ruleStrToEnum.get(t);i&&a(e,i)},isInvalid:!!j&&j.type===s.ErrorType.RULE_ERROR&&k},i.default.createElement(n.Select.OptGroup,{withLabel:o.intl.formatMessage(p)},i.default.createElement(n.Select.Option,{value:s.NamingConventionType.upload_date},o.intl.formatMessage(g))),i.default.createElement(n.Select.OptGroup,{withLabel:o.intl.formatMessage(y)},i.default.createElement(n.Select.Option,{value:s.NamingConventionType.keyword},o.intl.formatMessage(v))),i.default.createElement(n.Select.OptGroup,{withLabel:o.intl.formatMessage(E)},i.default.createElement(n.Select.Option,{value:s.NamingConventionType.parent_folder_name},o.intl.formatMessage(S))),A.expNamingConventionsMetadata?i.default.createElement(n.Select.OptGroup,{withLabel:o.intl.formatMessage(T)},i.default.createElement(n.Select.Option,{value:s.NamingConventionType.capture_date},o.intl.formatMessage(_)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.camera_make},o.intl.formatMessage(C)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.camera_model},o.intl.formatMessage(M)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.lens_model},o.intl.formatMessage(F)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.dimensions},o.intl.formatMessage(w)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.dots_per_inch},o.intl.formatMessage(b)),i.default.createElement(n.Select.Option,{value:s.NamingConventionType.dots_per_cm},o.intl.formatMessage(h))):null))),i.default.createElement("div",{className:"naming-conventions__select-container"},V),q?i.default.createElement("div",{className:"naming-conventions__empty-icon"}):i.default.createElement(u.IconButton,{variant:"transparent"},i.default.createElement(r.UIIcon,{src:d.DeleteLine,onClick:()=>{P(e)},"data-testid":"delete-button"})),i.default.createElement("div",{className:"naming-conventions__move-icon"},i.default.createElement(r.UIIcon,{src:d.MoveLine}))),i.default.createElement("div",null,H),j&&j.type===s.ErrorType.RULE_ERROR&&k&&i.default.createElement("div",{className:"naming-conventions__rule-row-error-message"},i.default.createElement(f.Text,{size:"small",color:"error"},j.message)),i.default.createElement("hr",{className:"naming-conventions__horizontal-line-rule-row"}))}),t.NamingConventionsRuleRow.displayName="NamingConventionsRuleRow";const B=i.default.memo(({position:e,dateFormat:t,onDateFormatChange:a})=>i.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},i.default.createElement(n.Select,{id:"date-selection"+e,value:t,onChange:t=>{const i=s.dateFormatStrToEnum.get(t);i&&a(e,i)}},i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_mm},o.intl.formatMessage(N)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_mm_dd},o.intl.formatMessage(I)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyymmdd},o.intl.formatMessage(D)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_abbr_dd},o.intl.formatMessage(x)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_mm_hh_mm},o.intl.formatMessage(P)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_mm_dd_hh_mm},o.intl.formatMessage(O)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyymmdd_hh_mm},o.intl.formatMessage(A)),i.default.createElement(n.Select.Option,{value:s.DateFormatSelection.yyyy_abbr_dd_hh_mm},o.intl.formatMessage(j)))));B.displayName="NamingConventionsDateSelectComponent";const Y=i.default.memo(({position:e,keyword:t,onKeywordChange:a,error:n,showMissingInfoErrors:l})=>{const[r,d]=i.default.useState(!1);return i.default.useEffect(()=>{const e=(null==n?void 0:n.type)===s.ErrorType.TEXT_ERROR&&((null==n?void 0:n.whenToShow)===s.WhenToShowError.IMMEDIATELY||l&&(null==n?void 0:n.whenToShow)===s.WhenToShowError.WHEN_BUTTON_CLICKED);d(e)},[n,l]),i.default.createElement("div",{id:"keyword-field"+e,className:"naming-conventions__rule-row-bg-style"},i.default.createElement(c.TextInput,{id:"keyword-field"+e,placeholder:o.intl.formatMessage(k),value:t,onChange:t=>{a(e,t.target.value)},isInvalid:r}),r&&i.default.createElement(f.Text,{size:"small",color:"error"},null==n?void 0:n.message))});Y.displayName="NamingConventionsKeywordTextInputComponent";const z=i.default.memo(({position:e,value:t})=>(void 0===t&&(t=""),i.default.createElement("div",{className:"naming-conventions__rule-row-bg-style"},i.default.createElement(c.TextInput,{id:"locked-field"+e,value:t,disabled:!0,"aria-label":t}))));z.displayName="NamingConventionsLockedTextFieldComponent"})),define("metaserver/static/js/naming_conventions/components/nc_selection_button_with_selection",["require","exports","tslib","react","dig-components/controls","dig-components/typography","dig-components/chips","dig-components/menu","dig-components/text_fields","metaserver/static/js/naming_conventions/types"],(function(e,t,a,i,n,s,o,l,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsSelectionButtonWithSelection=void 0,i=a.__importDefault(i);t.NamingConventionsSelectionButtonWithSelection=({isSelected:e,onSelect:t,value:a,label:c,optionsMapping:u,optionSelection:m,setOptionSelection:f,useSelectComponent:p})=>{const g=[];return u.forEach((e,t)=>{p?g.push(i.default.createElement(r.Select.Option,{value:t},e)):g.push(i.default.createElement(l.Menu.SelectItem,{key:t,value:t,selected:t===m},e))}),i.default.createElement("div",{className:"naming-conventions__checkbox-row",key:a},i.default.createElement(n.Checkbox,{id:a,value:a,checked:e,onChange:t,className:"naming-conventions__checkbox"}),i.default.createElement("span",{className:"naming-conventions__checkbox-label"},i.default.createElement(s.Text,{tagName:"label",htmlFor:a},c)),p?i.default.createElement("div",{className:"naming-conventions__separators-select-container"},i.default.createElement(r.Select,{id:a+"-select",value:m,onChange:e=>{f("underscores"===e?d.ConsistentSeparatorSelection.underscores:"dashes"===e?d.ConsistentSeparatorSelection.dashes:d.ConsistentSeparatorSelection.spaces)}},g)):i.default.createElement(l.Menu.Wrapper,{onSelection:e=>{f(e)},className:"naming-conventions__drop-down-container"},({getTriggerProps:e,getContentProps:t})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(o.FilterChip,Object.assign({withDropdownIcon:!0},e()),u.get(m)),i.default.createElement(l.Menu.Content,Object.assign({},t()),i.default.createElement(l.Menu.Segment,null,g)))))},t.NamingConventionsSelectionButtonWithSelection.displayName="NamingConventionsSelectionButtonWithSelection"})),define("metaserver/static/js/naming_conventions/components/nc_selection_button",["require","exports","tslib","react","dig-components/controls","dig-components/typography"],(function(e,t,a,i,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsSelectionButton=void 0,i=a.__importDefault(i);t.NamingConventionsSelectionButton=({isSelected:e,onSelect:t,value:a,label:o,shouldFocus:l,disabled:r,onShouldFocusToggle:d})=>{const c=i.default.useRef(null);return i.default.useEffect(()=>{c.current&&l&&d&&(c.current.focus(),d())}),i.default.createElement("div",{className:"naming-conventions__checkbox-row",key:a},i.default.createElement(n.Checkbox,{id:a,value:a,checked:e,disabled:r,onChange:t,className:"naming-conventions__checkbox",ref:c}),i.default.createElement("span",{className:"naming-conventions__checkbox-label"},i.default.createElement(s.Text,{tagName:"label",htmlFor:a},o)))},t.NamingConventionsSelectionButton.displayName="NamingConventionsSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_title_casing_selection_button",["require","exports","tslib","react","react-intl","metaserver/static/js/naming_conventions/types","metaserver/static/js/naming_conventions/components/nc_selection_button","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsTitleCasingSelectionButton=void 0,i=a.__importDefault(i);const r=(0,n.defineMessage)({id:"vkhtzi",defaultMessage:"Capitalize initials"});t.NamingConventionsTitleCasingSelectionButton=i.default.memo(({isSelected:e,onSelect:t,shouldFocus:a,onShouldFocusToggle:n})=>i.default.createElement(o.NamingConventionsSelectionButton,{isSelected:e,onSelect:t,value:s.NamingConventionType.capitalize_all_initials,label:l.intl.formatMessage(r),shouldFocus:a,onShouldFocusToggle:n})),t.NamingConventionsTitleCasingSelectionButton.displayName="NamingConventionsTitleCasingSelectionButton"})),define("metaserver/static/js/naming_conventions/components/nc_toggle_button",["require","exports","tslib","react","dig-components/controls","dig-components/typography","react-intl","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamingConventionsToggleButton=void 0,i=a.__importDefault(i);const r=(0,o.defineMessage)({id:"ncTZKN",defaultMessage:"Learn More"});t.NamingConventionsToggleButton=({isToggled:e,onSelect:t,value:a,disabled:o,label:d,learnMoreLink:c})=>i.default.createElement("div",{className:"naming-conventions__toggle-row",key:a},i.default.createElement(n.Toggle,{id:a,isToggled:e,onChange:t,className:"naming-conventions__toggle-button",disabled:o}),i.default.createElement("span",{className:"naming-conventions__toggle-label"},i.default.createElement(s.Text,{tagName:"label",htmlFor:a},d),c?i.default.createElement(s.Link,{className:"naming-conventions__toggle-learn-more",href:c,target:"_blank",variant:"monochromatic",rel:"noreferrer"},l.intl.formatMessage(r)):null)),t.NamingConventionsToggleButton.displayName="NamingConventionsToggleButton"})),define("metaserver/static/js/naming_conventions/generic_live_preview",["require","exports","metaserver/static/js/naming_conventions/types","react-intl","metaserver/static/js/core/i18n"],(function(e,t,a,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenericLivePreviewText=void 0;const s=(0,i.defineMessage)({id:"pXtmWv",defaultMessage:"Example Folder"}),o=(0,i.defineMessage)({id:"VsyQFb",defaultMessage:"Example Filename.pdf"}),l=(0,i.defineMessage)({id:"2Dzzt5",defaultMessage:"example filename.pdf"}),r=(0,i.defineMessage)({id:"Twdm0+",defaultMessage:"keyword"}),d=new Map([[a.DateFormatSelection.yyyy_mm,"2021-11"],[a.DateFormatSelection.yyyy_mm_dd,"2021-11-02"],[a.DateFormatSelection.yyyy_abbr_dd,"2021-Nov-02"],[a.DateFormatSelection.yyyymmdd,"20211102"]]),c=new Map([[a.ConsistentSeparatorSelection.spaces," "],[a.ConsistentSeparatorSelection.underscores,"_"],[a.ConsistentSeparatorSelection.dashes,"-"]]);t.getGenericLivePreviewText=e=>{const{selectedRules:t,dateFormatSelection:i}=e;let o=u(e);return t.includes(a.NamingConventionType.parent_folder_name)&&(o=n.intl.formatMessage(s)+" - "+o),t.includes(a.NamingConventionType.upload_date)&&(o=d.get(i)+" - "+o),o};const u=e=>{const{selectedRules:t,consistentSeparatorSelection:i}=e;let s;if(s=t.includes(a.NamingConventionType.capitalize_all_initials)?n.intl.formatMessage(o):n.intl.formatMessage(l),t.includes(a.NamingConventionType.keyword)){const e=s.split(".");s=e[0]+" "+n.intl.formatMessage(r)+"."+e[1]}if(t.includes(a.NamingConventionType.consistent_separators)){const e=c.get(i);s=s.replace(/\s/g,e)}return s}})),define("metaserver/static/js/naming_conventions/generic_live_preview_2",["require","exports","metaserver/static/js/naming_conventions/types","react-intl","metaserver/static/js/core/i18n"],(function(e,t,a,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGenericLivePreviewText=void 0;const s=(0,i.defineMessage)({id:"OuFH1I",defaultMessage:"example parent folder"}),o=(0,i.defineMessage)({id:"wv++Sh",defaultMessage:"Sender's name"}),l=(0,i.defineMessage)({id:"3CWP/N",defaultMessage:"Example Filename"}),r=(0,i.defineMessage)({id:"F6REWU",defaultMessage:"example filename"}),d=(0,i.defineMessage)({id:"UoQzii",defaultMessage:"keyword"}),c=(0,i.defineMessage)({id:"m4Kz4W",defaultMessage:"camera make"}),u=(0,i.defineMessage)({id:"y1H4sc",defaultMessage:"camera model"}),m=(0,i.defineMessage)({id:"I6nYxI",defaultMessage:"lens model"}),f=(0,i.defineMessage)({id:"nAsbFH",defaultMessage:"W x H"}),p=(0,i.defineMessage)({id:"GDIqj4",defaultMessage:"100 x 100"}),g=(0,i.defineMessage)({id:"GBWDKJ",defaultMessage:"254 x 254"}),_=new Map([[a.DateFormatSelection.yyyy_mm,"2021-11"],[a.DateFormatSelection.yyyy_mm_dd,"2021-11-02"],[a.DateFormatSelection.yyyy_abbr_dd,"2021-Nov-02"],[a.DateFormatSelection.yyyymmdd,"20211102"],[a.DateFormatSelection.yyyy_mm_hh_mm,"2021-11-14.35"],[a.DateFormatSelection.yyyy_mm_dd_hh_mm,"2021-11-02-14.35"],[a.DateFormatSelection.yyyy_abbr_dd_hh_mm,"2021-Nov-02-14.35"],[a.DateFormatSelection.yyyymmdd_hh_mm,"20211102-14.35"]]),y=new Map([[a.DateFormatSelection.yyyy_mm,"2021-10"],[a.DateFormatSelection.yyyy_mm_dd,"2021-10-13"],[a.DateFormatSelection.yyyy_abbr_dd,"2021-Oct-13"],[a.DateFormatSelection.yyyymmdd,"20211013"],[a.DateFormatSelection.yyyy_mm_hh_mm,"2021-10-14.35"],[a.DateFormatSelection.yyyy_mm_dd_hh_mm,"2021-10-13-14.35"],[a.DateFormatSelection.yyyy_abbr_dd_hh_mm,"2021-Oct-13-14.35"],[a.DateFormatSelection.yyyymmdd_hh_mm,"20211013-14.35"]]),v=new Map([[a.ConsistentSeparatorSelection.spaces," "],[a.ConsistentSeparatorSelection.underscores,"_"],[a.ConsistentSeparatorSelection.dashes,"-"]]),E=new Map([[a.NamingConventionType.sender_name,o],[a.NamingConventionType.parent_folder_name,s],[a.NamingConventionType.keyword,d],[a.NamingConventionType.camera_make,c],[a.NamingConventionType.camera_model,u],[a.NamingConventionType.lens_model,m],[a.NamingConventionType.dimensions,f],[a.NamingConventionType.dots_per_inch,p],[a.NamingConventionType.dots_per_cm,g]]);t.getGenericLivePreviewText=e=>{const{componentList:t,capitalizeAllInitials:i,changeAllSeparators:s,data:o}=e,l=v.get(o.consistentSeparatorSelection);let r="";const d=S(i,s,l);return t.forEach((e,i)=>{let c;e!==a.NamingConventionType.none&&(c=e===a.NamingConventionType.upload_date?_.get(o.dateInfo[i].dateFormatSelection):e===a.NamingConventionType.capture_date?y.get(o.dateInfo[i].dateFormatSelection):e===a.NamingConventionType.original_snippet?d:n.intl.formatMessage(E.get(e)),0===i?r=c:1!==i||t[0]!==a.NamingConventionType.upload_date&&t[0]!==a.NamingConventionType.capture_date?r+=s?l+c:" "+c:r+=" - "+c)}),r+".pdf"};const S=(e,t,a)=>{let i=e?n.intl.formatMessage(l):n.intl.formatMessage(r);return t&&(i=i.replace(/\s/g,a)),i}})),define("metaserver/static/js/tagging/components/tags_search",["require","exports","tslib","react","ts-key-enum","dig-components/icons","dig-components/icons/src","dig-components/text_fields","dig-components/form_row","dig-components/tooltips","dig-components/typeahead","dig-components/typography","metaserver/static/js/components/ui/css","metaserver/static/js/tagging/utils","metaserver/static/js/tagging/utils"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TagsSearch=t.TagsSearchWithoutCss=void 0,i=a.__importStar(i),f=a.__importStar(f);const g=({placeholderText:e})=>i.createElement("div",{className:"tg-empty-state"},i.createElement(u.Text,{variant:"label",size:"small",color:"faint",tagName:"p"},e));g.displayName="EmptyState";const _=e=>{var{disabled:t,children:n}=e,s=a.__rest(e,["disabled","children"]);return t?i.createElement(i.Fragment,null,n):i.createElement(d.Tooltip,Object.assign({},s),n)};_.displayName="Tooltip";const y=({hasFocus:e})=>i.createElement(u.Text,{size:"small",color:e?"standard":"faint",className:"tg-input-hashtag-accessory"},"#");y.displayName="LeftAccessory";t.TagsSearchWithoutCss=({user:e,maxTagsReached:t,readOnly:a=!1,excludeResults:d,onSelection:m,onInputFocus:v,onStartTyping:E,onInputBlur:S,getStrings:T,allTagsSuggestions:C,fetchAllTagsSuggestions:M})=>{const[F,w]=i.useState(""),[b,h]=i.useState([]),[N,I]=i.useState(!1),{addTypeaheadEmptyState:D,createTagPrefix:x,addTag:P,invalidCharsError:O,maxTagsReachedError:A,tooLongError:j,alreadyExistsError:L,readOnlyError:R}=T();i.useEffect(()=>{M({user:e})},[]),i.useEffect(()=>{const e=F.toLowerCase();if(B(e)||void 0===C)return void h([]);const t=f.trimHashtags(e),a=f.getTagsSuggestions(t,C).filter(p.isUserGeneratedTag).map(e=>e.tag_text).filter(e=>!d.includes(e));h(a)},[F,C,d]);const U=e=>i.createElement(c.Typeahead.Row,{key:`@${e}`,id:`@${e}`,value:e,withTitle:i.createElement(u.Text,{size:"small"},f.formatTag(e))}),k=e=>i.createElement(c.Typeahead.Row,{key:e,value:e,withTitle:x?i.createElement(u.Text,{size:"small"},x+" ",i.createElement(u.Text,{size:"small",isBold:!0},f.formatTag(e))):i.createElement(u.Text,{size:"small"},f.formatTag(e)),id:e}),B=e=>!(/^\#*[_a-zA-Z0-9]+$/i.test(e)&&e.length<=32||/^\#*$/i.test(e)),Y=({currentTarget:{value:e}})=>{0===F.length&&1===e.length&&(null==E||E()),w(e)},z=t?A:a?R:void 0,V=F.toLowerCase(),q=f.trimHashtags(V),K=""!==q&&0===b.length&&d.includes(q),H=B(V)||K,W=H||d.includes(q)||b.includes(q)||""===q?[]:[V],G=a||t;return i.createElement(c.Typeahead.Wrapper,{onSelection:e=>{w(""),m(e)},onFocus:()=>{null==v||v(),I(!0)},onBlur:()=>{null==S||S(F),I(!1)},className:"tg-search"},({getTriggerProps:e,getContentProps:t,closeMenu:a})=>i.createElement(i.Fragment,null,i.createElement(_,{disabled:!G,id:"more-button-tooltip",title:z},i.createElement(l.TextInput,Object.assign({id:"trigger"},e({onChange:Y}),{value:F,"aria-label":P,placeholder:P,disabled:G,withLeftAccessory:i.createElement(y,{hasFocus:N||F.length>0}),autoComplete:"off",isInvalid:H,className:"tg-input tg-input-small-font-override",onKeyDown:e=>((e,t)=>{if(e.key===n.Key.Enter&&""!==F){if(B(F)||d.includes(q))return;const e=f.trimHashtags(F).toLowerCase();m(e),w(""),t({})}})(e,a)}))),H&&i.createElement(r.FormHelperText,{isInvalid:!0,id:"bad-parms-input-helper"},i.createElement(s.UIIcon,{src:o.FailLine,size:"small"}),F.length>=32?j:K?L:O),i.createElement(c.Typeahead.Container,Object.assign({},t(),{auto:!1,isEmptyQuery:0===F.length,placement:"bottom-start",emptyPrompt:i.createElement(g,{placeholderText:D})}),i.createElement(c.Typeahead.Results,{results:b.slice(0,3),renderRow:U}),i.createElement(c.Typeahead.Results,{results:W,renderRow:k}))))},t.TagsSearchWithoutCss.displayName="TagsSearchWithoutCss",t.TagsSearch=(0,m.requireCssWithComponent)(t.TagsSearchWithoutCss,["/static/metaserver/static/css/tagging/manual_tagging-vflO195yx.css"])})),define("metaserver/static/js/tagging/ui/components/auto_tagging_typeahead",["require","exports","tslib","react","metaserver/static/js/core/i18n","metaserver/static/js/tagging/components/tags_container","metaserver/static/js/tagging/components/tags_search","metaserver/static/js/components/ui/css","metaserver/static/js/tagging/utils","react-redux","metaserver/static/js/tagging/data/selectors/index","metaserver/static/js/tagging/data/action_creators"],(function(e,t,a,i,n,s,o,l,r,d,c,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoTaggingTypeahead=void 0,i=a.__importStar(i);const m=({user:e,data:t,onDataChange:a,onDataError:n})=>{const[l,m]=i.useState((null==t?void 0:t.tags)||[]),p=(0,d.useDispatch)(),g=(0,d.useSelector)(c.selectAllTagsSuggestions),{addAtLeastOneTagError:_}=f();i.useEffect(()=>{a({tags:l}),0===l.length&&n(_)},[l]),i.useEffect(()=>{(null==t?void 0:t.tags)&&m(t.tags)},[t]);return i.createElement(i.Fragment,null,i.createElement(o.TagsSearch,{user:e,maxTagsReached:l.length>=5,getStrings:f,excludeResults:l,onSelection:e=>{l.includes(e)||m([e,...l])},allTagsSuggestions:g,fetchAllTagsSuggestions:({user:e})=>{p((0,u.fetchAllTagsSuggestions)({user:e}))}}),i.createElement(s.TagsContainer,{tags:(0,r.textTagsToUserGeneratedTags)(l),onTagDelete:e=>{m(l.filter(t=>t!==e.tag_text))},containerClassName:"tags-container",chipClassName:"tag-chip-spaced",showMoreClassName:"tag-chip"}))};function f(){return{addTypeaheadEmptyState:n.intl.formatMessage({id:"tOzwXq",defaultMessage:"Use words that will help you or teammates find the files in this folder"}),maxTagsReachedError:n.intl.formatMessage({id:"umQAUu",defaultMessage:"5 tags is the maximum per automation. Remove existing tags to add new tags."}),addTag:n.intl.formatMessage({id:"m6+B0R",defaultMessage:"Add a tag"}),tagsInfo:n.intl.formatMessage({id:"coaiAD",defaultMessage:"Choose carefully! Anyone on your team can see tags. People who can edit the file can edit tags, too."}),alreadyExistsError:n.intl.formatMessage({id:"370uDs",defaultMessage:"That tags already selected"}),invalidCharsError:n.intl.formatMessage({id:"USd6JI",defaultMessage:"Use letters (a-z), numbers (0-9), and underscores ( _ )"}),tooLongError:n.intl.formatMessage({id:"l83VsE",defaultMessage:"32 characters is the maximum"}),addAtLeastOneTagError:n.intl.formatMessage({id:"1uuRDP",defaultMessage:"You need to add at least one tag"})}}m.displayName="AutoTaggingTypeaheadWithoutCss",t.AutoTaggingTypeahead=(0,l.requireCssWithComponent)(m,["/static/typescript/component_libraries/organized-content/src/index.web.css"])})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_by_date_expansion",["require","exports","tslib","react","dig-components/menu","metaserver/static/js/tidy_up/modal/types","dig-components/buttons","react-intl","dig-components/controls","dig-components/typography","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l,r,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpByDateExpansion=t.TIDY_UP_MONTHYEAR_SELECTION=t.TIDY_UP_YEARMONTHMONTH_SELECTION=t.TIDY_UP_YEARMONTH_SELECTION=void 0,i=a.__importStar(i),t.TIDY_UP_YEARMONTH_SELECTION=(0,l.defineMessage)({id:"B2XGBO",defaultMessage:"YYYY-MM"}),t.TIDY_UP_YEARMONTHMONTH_SELECTION=(0,l.defineMessage)({id:"NrgzrW",defaultMessage:"YYYY-MM Month"}),t.TIDY_UP_MONTHYEAR_SELECTION=(0,l.defineMessage)({id:"WY4cZj",defaultMessage:"Month YYYY"});t.TidyUpByDateExpansion=({excludePromptLabel:e,excludeCurrent:a,setExcludeCurrent:l,showDateFormatSelection:u,dateFormatSelection:m,setDateFormatSelection:f})=>{const p=(0,i.useCallback)(e=>{l(e.target.checked)},[l]),g="tidy-up-expansion__check-box",_=(0,i.useMemo)(()=>new Map([[s.DateFormatSelection.YYYY_MM,c.intl.formatMessage(t.TIDY_UP_YEARMONTH_SELECTION)],[s.DateFormatSelection.YYYY_MM_Month,c.intl.formatMessage(t.TIDY_UP_YEARMONTHMONTH_SELECTION)],[s.DateFormatSelection.Month_YYYY,c.intl.formatMessage(t.TIDY_UP_MONTHYEAR_SELECTION)]]),[c.intl]);return u?i.default.createElement("span",{className:`${g}-container`},i.default.createElement(n.Menu.Wrapper,{onSelection:e=>{e!==m&&void 0!==f&&f(e)},className:"tidy-up-expansion__date-format-drop-down"},({getContentProps:e,getTriggerProps:t})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Button,Object.assign({},t(),{variant:"opacity",withDropdownIcon:!0}),_.get(null!=m?m:s.DateFormatSelection.YYYY_MM)),i.default.createElement(n.Menu.Content,Object.assign({},e(),{placement:"bottom-end"}),i.default.createElement(n.Menu.Segment,null,[s.DateFormatSelection.YYYY_MM,s.DateFormatSelection.YYYY_MM_Month,s.DateFormatSelection.Month_YYYY].map(e=>i.default.createElement(n.Menu.SelectItem,{key:e,value:e,selected:m===e},_.get(e))))))),i.default.createElement("span",{className:g},i.default.createElement(r.Checkbox,{checked:a,onChange:p,"aria-label":e,id:g})),i.default.createElement(d.Text,{tagName:"label",htmlFor:g},e)):i.default.createElement("span",{className:`${g}-container`},i.default.createElement("span",{className:g},i.default.createElement(r.Checkbox,{checked:a,onChange:p,"aria-label":e,id:g})),i.default.createElement(d.Text,{tagName:"label",htmlFor:g},e))},t.TidyUpByDateExpansion.displayName="TidyUpByDateExpansion"})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_custom_filters_selection",["require","exports","tslib","react-intl","react","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpCustomFiltersSelection=t.TIDY_UP_CUSTOM_FILTERS_SUBTEXT=t.TIDY_UP_CUSTOM_FILTERS_SELECTION=void 0,n=a.__importDefault(n),t.TIDY_UP_CUSTOM_FILTERS_SELECTION=(0,i.defineMessage)({id:"dp9FT7",defaultMessage:"Custom filters"}),t.TIDY_UP_CUSTOM_FILTERS_SUBTEXT=(0,i.defineMessage)({id:"ZmwGuf",defaultMessage:"Define custom rules based on keywords and filetypes"});t.TidyUpCustomFiltersSelection=({isSelected:e,onSelect:a})=>n.default.createElement(s.TidyUpSelection,{isSelected:e,onSelect:a,value:o.TidyUpType.custom_filters,label:l.intl.formatMessage(t.TIDY_UP_CUSTOM_FILTERS_SELECTION),subtext:l.intl.formatMessage(t.TIDY_UP_CUSTOM_FILTERS_SUBTEXT)}),t.TidyUpCustomFiltersSelection.displayName="TidyUpCustomFiltersSelection"})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_month_selection",["require","exports","tslib","react-intl","react","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/modal/options_view/tidy_by_date_expansion","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l,r,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpMonthSelection=t.TIDY_UP_EXCLUDE_MONTH_PROMPT=t.TIDY_UP_MONTH_DESCRIPTION=t.TIDY_UP_MONTH_SELECTION=void 0,n=a.__importStar(n),t.TIDY_UP_MONTH_SELECTION=(0,i.defineMessage)({id:"n8ISVS",defaultMessage:"Month"}),t.TIDY_UP_MONTH_DESCRIPTION=(0,i.defineMessage)({id:"/6zLhV",defaultMessage:"Month your content was added to Dropbox"}),t.TIDY_UP_EXCLUDE_MONTH_PROMPT=(0,i.defineMessage)({id:"n4bpuy",defaultMessage:"Exclude current month"});t.TidyUpMonthSelection=({isSelected:e,onSelect:a,excludeCurrentMonth:i,setExcludeCurrentMonth:c,dateFormatSelection:u,setDateFormatSelection:m})=>((0,n.useEffect)(()=>{e&&void 0===u&&m(r.DateFormatSelection.YYYY_MM)},[e,u,m]),n.default.createElement(s.TidyUpSelection,{isSelected:e,onSelect:a,value:o.TidyUpType.by_month,label:d.intl.formatMessage(t.TIDY_UP_MONTH_SELECTION),subtext:d.intl.formatMessage(t.TIDY_UP_MONTH_DESCRIPTION)},n.default.createElement(l.TidyUpByDateExpansion,{excludeCurrent:i,setExcludeCurrent:c,excludePromptLabel:d.intl.formatMessage(t.TIDY_UP_EXCLUDE_MONTH_PROMPT),showDateFormatSelection:!0,dateFormatSelection:u,setDateFormatSelection:m}))),t.TidyUpMonthSelection.displayName="TidyUpMonthSelection"})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_year_selection",["require","exports","tslib","react-intl","react","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/modal/options_view/tidy_by_date_expansion","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpYearSelection=t.TIDY_UP_EXCLUDE_YEAR_PROMPT=t.TIDY_UP_YEAR_DESCRIPTION=t.TIDY_UP_YEAR_SELECTION=void 0,n=a.__importDefault(n),t.TIDY_UP_YEAR_SELECTION=(0,i.defineMessage)({id:"f9xbnY",defaultMessage:"Year"}),t.TIDY_UP_YEAR_DESCRIPTION=(0,i.defineMessage)({id:"oCxF9e",defaultMessage:"Year your content was added to Dropbox"}),t.TIDY_UP_EXCLUDE_YEAR_PROMPT=(0,i.defineMessage)({id:"fNhXRH",defaultMessage:"Exclude current year"});t.TidyUpYearSelection=({isSelected:e,onSelect:a,excludeCurrentYear:i,setExcludeCurrentYear:d})=>n.default.createElement(s.TidyUpSelection,{isSelected:e,onSelect:a,value:o.TidyUpType.by_year,label:r.intl.formatMessage(t.TIDY_UP_YEAR_SELECTION),subtext:r.intl.formatMessage(t.TIDY_UP_YEAR_DESCRIPTION)},n.default.createElement(l.TidyUpByDateExpansion,{excludeCurrent:i,setExcludeCurrent:d,excludePromptLabel:r.intl.formatMessage(t.TIDY_UP_EXCLUDE_YEAR_PROMPT),showDateFormatSelection:!1})),t.TidyUpYearSelection.displayName="TidyUpYearSelection"})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_time_frame_filter_selection",["require","exports","tslib","react-intl","react","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpTimeFrameFilterSelection=t.TIDY_UP_TIME_FRAME_FILTER_SUBTEXT=t.TIDY_UP_TIME_FRAME_FILTER_SELECTION=void 0,n=a.__importDefault(n),t.TIDY_UP_TIME_FRAME_FILTER_SELECTION=(0,i.defineMessage)({id:"6bhfMK",defaultMessage:"Timeframe"}),t.TIDY_UP_TIME_FRAME_FILTER_SUBTEXT=(0,i.defineMessage)({id:"ZSDbXp",defaultMessage:"Group based on a specific timeframe"});t.TidyUpTimeFrameFilterSelection=({isSelected:e,onSelect:a})=>n.default.createElement(s.TidyUpSelection,{isSelected:e,onSelect:a,value:o.TidyUpType.time_frame_filter,label:l.intl.formatMessage(t.TIDY_UP_TIME_FRAME_FILTER_SELECTION),subtext:l.intl.formatMessage(t.TIDY_UP_TIME_FRAME_FILTER_SUBTEXT)}),t.TidyUpTimeFrameFilterSelection.displayName="TidyUpTimeFrameFilterSelection"})),define("metaserver/static/js/tidy_up/modal/options_view/tidy_keyphrase_selection",["require","exports","tslib","react-intl","react","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/modal/options_view/tidy_radio_selection","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpKeyphraseSelection=t.TIDY_UP_KEYPHRASE_SUBTEXT=t.TIDY_UP_KEYPHRASE_SELECTION=void 0,n=a.__importDefault(n),t.TIDY_UP_KEYPHRASE_SELECTION=(0,i.defineMessage)({id:"z86vBB",defaultMessage:"Keyword"}),t.TIDY_UP_KEYPHRASE_SUBTEXT=(0,i.defineMessage)({id:"wwhItj",defaultMessage:"Select to enter keyword"});t.TidyUpKeyphraseSelection=({isSelected:e,onSelect:a})=>n.default.createElement(o.TidyUpSelection,{isSelected:e,onSelect:a,value:s.TidyUpType.keyphrase,label:l.intl.formatMessage(t.TIDY_UP_KEYPHRASE_SELECTION),subtext:l.intl.formatMessage(t.TIDY_UP_KEYPHRASE_SUBTEXT)}),t.TidyUpKeyphraseSelection.displayName="TidyUpKeyphraseSelection"})),define("metaserver/static/js/tidy_up/modal/keyphrase_view/tidy_keyphrase",["require","exports","tslib","react","dig-components/text_fields","dig-components/typography","dig-components/buttons","dig-components/modal","metaserver/static/js/tidy_up/modal/tidy_strings","metaserver/static/js/tidy_up/modal/tidy_up_header","dig-components/menu","typescript/libraries/spectrum-content-icon-compatibility/src/index","js/filepath/filepath","metaserver/static/js/core/i18n","classnames"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpKeyphraseView=void 0,i=a.__importStar(i),m=a.__importStar(m),p=a.__importDefault(p);t.TidyUpKeyphraseView=({keyphraseParameters:e,onPreview:t,onCancel:a,onBack:c,subfolderPaths:u,setKeyphraseParameters:p,isUsedInAutomationModal:_})=>{const v=i.default.useRef(null),[E,S]=(0,i.useState)(e.keyphrase),T=((e,t)=>{const[a,n]=(0,i.useState)(e);return(0,i.useEffect)(()=>{const a=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(a)}},[e,t]),a})(E,300);(0,i.useEffect)(()=>{T!==e.keyphrase&&p({keyphrase:T})},[e,p,T]);const C=e.keyphraseDestination,M=0===u.length,F=M||!(T&&C),w=e=>{"Enter"===e.key&&v.current&&(F?v.current.blur():t())},b=i.default.useMemo(()=>u.sort(),[u]),h=(0,i.useCallback)(e=>{p({keyphraseDestination:m.filename(e)})},[p]);return _?i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"tidy-auto-keyphrase-view__text-input"},i.default.createElement(n.TextInput,{placeholder:f.intl.formatMessage(r.TIDY_KEYPHRASE.INPUT_PLACEHOLDER),onChange:e=>S(e.target.value),value:E,onKeyPress:()=>null,ref:v}),i.default.createElement(g,{sortedFolderPaths:b,selectedDestinationPath:C,setDestinationSelection:h,noSubfolders:M,isUsedInAutomationModal:_}))):i.default.createElement(i.default.Fragment,null,i.default.createElement(d.TidyUpModalHeader,{label:r.TIDY_KEYPHRASE.HEADER_LABEL}),i.default.createElement(l.Modal.Body,null,i.default.createElement(s.Text,{className:"tidy-keyphrase-view__input-label",isBold:!0},f.intl.formatMessage(r.TIDY_KEYPHRASE.INPUT_LABEL)),i.default.createElement(n.TextInput,{placeholder:f.intl.formatMessage(r.TIDY_KEYPHRASE.INPUT_PLACEHOLDER),onChange:e=>S(e.target.value),value:E,onKeyPress:w,ref:v}),i.default.createElement(g,{sortedFolderPaths:b,selectedDestinationPath:C,setDestinationSelection:h,noSubfolders:M,isUsedInAutomationModal:_})),i.default.createElement(l.Modal.Footer,null,i.default.createElement(o.Button,{variant:"transparent",onClick:c},f.intl.formatMessage(r.TIDY_UP_MODAL_BACK_LABEL)),i.default.createElement(o.Button,{variant:"opacity",onClick:a},f.intl.formatMessage(r.TIDY_UP_MODAL_CANCEL_LABEL)),i.default.createElement(y,{onPreview:t,isDisabled:F})))},t.TidyUpKeyphraseView.displayName="TidyUpKeyphraseView";const g=({sortedFolderPaths:e,selectedDestinationPath:t,setDestinationSelection:a,noSubfolders:n,isUsedInAutomationModal:o})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(s.Text,{isBold:!0,className:(0,p.default)({"tidy-auto-keyphrase-view__dropdown-label":o,"tidy-keyphrase-view__dropdown-label":!o})},f.intl.formatMessage(r.TIDY_KEYPHRASE.FOLDER_SELECTION_LABEL)),i.default.createElement(_,{disabled:n,selectedDestinationPath:t,onSelection:e=>{a(e)},sortedFolderPaths:e,dropdownPlaceholderLabel:f.intl.formatMessage(r.TIDY_FOLDER_SELECTION.dropdownPlaceholder)}),n&&i.default.createElement(s.Text,{variant:"label",size:"small"},f.intl.formatMessage(r.TIDY_FOLDER_SELECTION.noSubfolders)));g.displayName="DestinationSelectionSection";const _=({onSelection:e,selectedDestinationPath:t,sortedFolderPaths:a,dropdownPlaceholderLabel:n,disabled:l})=>i.default.createElement("div",{className:"tidy-keyphrase-view__dropdown"},i.default.createElement(c.Menu.Wrapper,{className:"tidy-keyphrase-view__menu-wrapper",matchContainingWidth:!0,onSelection:e,hasMaxHeight:164},({getContentProps:e,getTriggerProps:r})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(o.Button,Object.assign({disabled:l,className:"tidy-keyphrase-view__dropdown-button",variant:"opacity",withDropdownIcon:!0},r()),t?i.default.createElement(v,{folderName:m.filename(t)}):i.default.createElement("div",{className:"tidy-keyphrase-view__button-container"},i.default.createElement(s.Text,{color:l?"disabled":"standard",className:"tidy-keyphrase-view__button-text"},n))),i.default.createElement(c.Menu.Content,Object.assign({},e()),i.default.createElement(c.Menu.Segment,null,a.map(e=>i.default.createElement(c.Menu.SelectItem,{key:e,value:e,selected:t===m.filename(e)},i.default.createElement(v,{folderName:m.filename(e)}))))))));_.displayName="FolderSelectionDropdown";const y=({onPreview:e,isDisabled:t})=>i.default.createElement(o.Button,{variant:"primary",onClick:e,disabled:t},f.intl.formatMessage(r.TIDY_KEYPHRASE.PREVIEW_LABEL));y.displayName="TidyKeyphrasePrimaryButton";const v=({folderName:e})=>i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"tidy-keyphrase-view__select-item-content"},i.default.createElement(u.IconContent,{className:"tidy-keyphrase-view__folder-icon",height:"24",width:"24",name:"folder-small"}),i.default.createElement(s.Text,{className:"tidy-keyphrase-view__button-text"},e)));v.displayName="FolderIconAndName"})),define("metaserver/static/js/tidy_up/modal/tidy_up_header",["require","exports","tslib","react","dig-components/modal","dig-components/typography","metaserver/static/js/core/i18n"],(function(e,t,a,i,n,s,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpModalHeader=void 0,i=a.__importDefault(i);t.TidyUpModalHeader=({label:e})=>i.default.createElement(n.Modal.Header,{hasBottomSpacing:"title-standard",className:"tidy-up-modal__header"},i.default.createElement(s.Title,null,o.intl.formatMessage(e))),t.TidyUpModalHeader.displayName="TidyUpModalHeader"})),define("metaserver/static/js/tidy_up/modal/filters_view/file_categories",["require","exports","react-intl"],(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileCategoriesMessages=t.FileCategories=void 0,t.FileCategories=new Map([["Images",["jpg","jpeg","bmp","png","tif","tiff","gif"]],["Camera files",["raw","raf","dng","nef","cr2","ari","arw","kdc","orf","rw2"]],["Design files",["indd","pct","dds","psd","tga","thm","ai","eps","ps","svg","3dm","3ds","dwg","dwl","dwl2","dwf","dxf","max","ttf","otf","eot","woff","ico","icns","vsd","dgn","cdr","idml","idlk","skp","sketch","hus"]],["Documents",["paper","ppt","pptx","pptm","pps","ppsx","ppsm","xlr","xls","xlsm","xlsx","doc","docx","docm","dotm","dotx","PDF","csv","txt"]],["ebook",["aep","epub","mobi","ibooks","koob","opf"]],["Data developer",["dat","sql","kml","xml","yml","sqlite","sqlite3","mdb","accdb","db","log","sav","dbf","tmp","sdf"]],["Audio",["aif","iff","m3u","m4a","mid","mp3","mpa","wav","wma","aiff","flac","arf"]],["Video",["3gp","asf","avi","flv","m4v","mov","mp4","mpg","srt","swf","vob","wmv","mpeg"]],["Compressed",["zip","rar","7z","gz","tar","bz","bz2"]],["Executable",["cab","exe","dmg","iso","msi","apk","ipa"]]]),t.FileCategoriesMessages=new Map([["Images",(0,a.defineMessage)({id:"dW3xfE",defaultMessage:"Images"})],["Camera files",(0,a.defineMessage)({id:"5nK6pv",defaultMessage:"Camera files"})],["Design files",(0,a.defineMessage)({id:"WLsq2k",defaultMessage:"Design files"})],["ebook",(0,a.defineMessage)({id:"sIoSkG",defaultMessage:"ebook"})],["Documents",(0,a.defineMessage)({id:"Vl9hPf",defaultMessage:"Documents"})],["Data developer",(0,a.defineMessage)({id:"8G7ImG",defaultMessage:"Data developer"})],["Audio",(0,a.defineMessage)({id:"m+/26v",defaultMessage:"Audio"})],["Video",(0,a.defineMessage)({id:"EV9ZNs",defaultMessage:"Video"})],["Compressed",(0,a.defineMessage)({id:"LDfQHc",defaultMessage:"Compressed"})],["Executable",(0,a.defineMessage)({id:"19V9Ik",defaultMessage:"Executable"})]])})),define("metaserver/static/js/tidy_up/modal/filters_view/folder_selection",["require","exports","tslib","react","classnames","dig-components/modal","dig-components/menu","dig-components/typography","dig-components/buttons","dig-components/text_fields","dig-components/form_row","typescript/libraries/spectrum-content-icon-compatibility/src/index","js/filepath/filepath","metaserver/static/js/tidy_up/modal/filters_view/folder_selection.module.css","metaserver/static/js/core/i18n","metaserver/static/js/tidy_up/modal/tidy_strings","metaserver/static/js/folder_dialog/folder_picker_dig","metaserver/static/js/clean/web_timing_logger","metaserver/static/js/folder_dialog/api","metaserver/static/js/home/store","metaserver/static/js/tidy_up/modal/types","metaserver/static/js/tidy_up/modal/tidy_up_header","js/filepath/filepath","metaserver/static/js/tidy_up/actions","metaserver/static/js/browse/constants"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_,y,v,E,S,T,C,M,F){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderCreator=t.FolderSelection=t.FolderIconAndName=t.FolderSelectionDropdown=void 0,i=a.__importDefault(i),n=a.__importDefault(n),m=a.__importStar(m),f=a.__importDefault(f),y=a.__importStar(y);t.FolderSelectionDropdown=({onSelection:e,selectedDestinationPath:a,subfolderPaths:n,dropdownPlaceholderLabel:s,noSubfolders:d})=>{const c=i.default.useMemo(()=>n.sort(),[n]);return i.default.createElement("div",{className:f.default.tidyCustomFilterFolderSelectionDropdown},i.default.createElement(o.Menu.Wrapper,{matchContainingWidth:!0,onSelection:t=>e(m.filename(t)),hasMaxHeight:164},({getContentProps:e,getTriggerProps:n})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(r.Button,Object.assign({disabled:d,className:f.default.tidyCustomFilterFolderSelectionDropdownButton,variant:"opacity",withDropdownIcon:!0},n()),i.default.createElement("div",{className:f.default.tidyCustomFilterFolderSelectionButtonContainer},a?i.default.createElement(t.FolderIconAndName,{folderName:m.filename(a)}):i.default.createElement(l.Text,{color:d?"disabled":"standard",className:f.default.tidyCustomFilterFolderSelectionButtonText},s))),i.default.createElement(o.Menu.Content,Object.assign({},e()),i.default.createElement(o.Menu.Segment,null,c.map(e=>i.default.createElement(o.Menu.SelectItem,{key:e,value:e,selected:a===m.filename(e)},i.default.createElement(t.FolderIconAndName,{folderName:m.filename(e)}))))))),d&&i.default.createElement("div",{className:f.default.tidyCustomFilterFolderSelectionNoFolderMessage},i.default.createElement(l.Text,{variant:"label",size:"small"},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.noSubfolders))))},t.FolderSelectionDropdown.displayName="FolderSelectionDropdown";t.FolderIconAndName=({folderName:e})=>i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:f.default.tidyCustomFilterFolderSelectionSelectItemContent},i.default.createElement(u.IconContent,{className:f.default.tidyCustomFilterFolderSelectionFolderIcon,height:"24",width:"24",name:"folder-small"}),e?i.default.createElement(l.Text,{className:f.default.tidyCustomFilterFolderSelectionButtonText},e):i.default.createElement(l.Text,{color:"disabled",className:f.default.tidyCustomFilterFolderSelectionButtonText},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.defaultFolderSelectionButtonLabel)))),t.FolderIconAndName.displayName="FolderIconAndName";t.FolderSelection=({setSelectedDestinationPath:e,selectedDestinationPath:a,isAbsolutePath:o,initialPath:l,onCancel:d,setTidyStateType:c,rootFolderDisplayName:u,isUsedInAutomation:C,handleAutoFolderSelected:M})=>{const F=(0,E.getUser)(),[w,b]=i.default.useState(null!=a?a:l),h=i.default.useCallback(t=>{e(t),c(S.TidyStateType.CustomFilters)},[e,c]),[N,I]=i.default.useState(!1);if(N)return i.default.createElement(t.FolderCreator,{selectedFolder:w,onAccept:h,onCancel:()=>I(!1)});const D=o&&a?a:l,x=i.default.createElement(_.FolderPicker,{user:F,webTimer:y.get_timer(),onFolderSelected:C?M:e=>{void 0!==e&&b(m.normalize(e))},rootName:u,initialPath:D,canSelectReadonly:!1,apiClient:{getFolderContents:v.getFolderContentsAPIv2},skipFocusOnMount:!0,forceFolderSelectedCallback:!0,size:"small"});return C?i.default.createElement("div",{className:(0,n.default)("folder-picker-container__fixed-height",f.default.tidyCustomFilterFolderSelectionModalBody)},x):i.default.createElement(i.default.Fragment,null,i.default.createElement(T.TidyUpModalHeader,{label:g.TIDY_FOLDER_SELECTION.title}),i.default.createElement(s.Modal.Body,{className:(0,n.default)("folder-picker-container__fixed-height",f.default.tidyCustomFilterFolderSelectionModalBody)},x),i.default.createElement(s.Modal.Footer,null,i.default.createElement(r.Button,{variant:"transparent",onClick:d},p.intl.formatMessage(g.TIDY_UP_MODAL_BACK_LABEL)),i.default.createElement(r.Button,{variant:"opacity",onClick:()=>I(!0)},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.newFolderButtonLabel)),i.default.createElement(r.Button,{variant:"primary",onClick:()=>{e(w),c(S.TidyStateType.CustomFilters)}},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.folderSelectionButtonLabel))))},t.FolderSelection.displayName="FolderSelection";t.FolderCreator=({selectedFolder:e,onAccept:t,onCancel:a})=>{const n=i.default.useRef(null),[o,u]=i.default.useState(""),m=o.length>255?p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.folderNameLengthError):(function(e){return-1!==e.indexOf("/")||-1!==e.indexOf("\\")||-1!==e.indexOf(":")})(o)?p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.folderNameInvalidCharacterError):void 0;return i.default.createElement(i.default.Fragment,null,i.default.createElement(T.TidyUpModalHeader,{label:g.TIDY_FOLDER_SELECTION.folderCreationTitleLabel}),i.default.createElement(s.Modal.Body,null,i.default.createElement("div",{className:m?f.default.tidyCustomFilterFolderSelectionNewFolderNameInputError:void 0},i.default.createElement(c.FormLabel,{htmlFor:"new_folder_name_input"},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.folderNameLabel)),i.default.createElement(d.TextInput,{ref:n,id:"new_folder_name_input",placeholder:p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.newFolderInputPlaceholderText),value:o,onChange:e=>u(e.currentTarget.value)}),!!m&&i.default.createElement(l.Text,{size:"xsmall",color:"error"},m))),i.default.createElement(s.Modal.Footer,null,i.default.createElement(r.Button,{variant:"opacity",onClick:a},p.intl.formatMessage(g.TIDY_UP_MODAL_CANCEL_LABEL)),i.default.createElement(r.Button,{variant:"primary",disabled:!!m||!o,onClick:()=>{(({folderName:t})=>{(0,M.createFolder)({pathName:e,folderName:t,user:(0,E.getUser)(),checkFSWs:!1,selectCreatedFolder:!1,origin:F.CREATE_FOLDER_ACTION_ORIGIN_TYPE.TIDY_UP_MODAL})})({folderName:o}),t((0,C.joinPathWithFileName)({fqPath:e,fileName:o}))}},p.intl.formatMessage(g.TIDY_FOLDER_SELECTION.folderCreationButtonLabel))))},t.FolderCreator.displayName="FolderCreator"})),define("metaserver/static/js/tidy_up/modal/filters_view/folder_selection.module.css",["require","exports","css!metaserver/static/js/tidy_up/modal/filters_view/folder_selection.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tidyCustomFilterFolderSelectionNewFolderNameInputError=t.tidyCustomFilterFolderSelectionModalBody=t.tidyCustomFilterFolderSelectionNoFolderMessage=t.tidyCustomFilterFolderSelectionButtonContainer=t.tidyCustomFilterFolderSelectionButtonText=t.tidyCustomFilterFolderSelectionFolderIcon=t.tidyCustomFilterFolderSelectionSelectItemContent=t.tidyCustomFilterFolderSelectionDropdownButton=t.tidyCustomFilterFolderSelectionDropdown=void 0,t.tidyCustomFilterFolderSelectionDropdown="_tidy-custom-filter-folder-selection__dropdown_f17u3_1",t.tidyCustomFilterFolderSelectionDropdownButton="_tidy-custom-filter-folder-selection__dropdown-button_f17u3_6",t.tidyCustomFilterFolderSelectionSelectItemContent="_tidy-custom-filter-folder-selection__select-item-content_f17u3_11",t.tidyCustomFilterFolderSelectionFolderIcon="_tidy-custom-filter-folder-selection__folder-icon_f17u3_17",t.tidyCustomFilterFolderSelectionButtonText="_tidy-custom-filter-folder-selection__button-text_f17u3_21",t.tidyCustomFilterFolderSelectionButtonContainer="_tidy-custom-filter-folder-selection__button-container_f17u3_29",t.tidyCustomFilterFolderSelectionNoFolderMessage="_tidy-custom-filter-folder-selection__no-folder-message_f17u3_34",t.tidyCustomFilterFolderSelectionModalBody="_tidy-custom-filter-folder-selection__modal-body_f17u3_41",t.tidyCustomFilterFolderSelectionNewFolderNameInputError="_tidy-custom-filter-folder-selection__new-folder-name-input__error_f17u3_46";t.default={tidyCustomFilterFolderSelectionDropdown:"_tidy-custom-filter-folder-selection__dropdown_f17u3_1",tidyCustomFilterFolderSelectionDropdownButton:"_tidy-custom-filter-folder-selection__dropdown-button_f17u3_6",tidyCustomFilterFolderSelectionSelectItemContent:"_tidy-custom-filter-folder-selection__select-item-content_f17u3_11",tidyCustomFilterFolderSelectionFolderIcon:"_tidy-custom-filter-folder-selection__folder-icon_f17u3_17",tidyCustomFilterFolderSelectionButtonText:"_tidy-custom-filter-folder-selection__button-text_f17u3_21",tidyCustomFilterFolderSelectionButtonContainer:"_tidy-custom-filter-folder-selection__button-container_f17u3_29",tidyCustomFilterFolderSelectionNoFolderMessage:"_tidy-custom-filter-folder-selection__no-folder-message_f17u3_34",tidyCustomFilterFolderSelectionModalBody:"_tidy-custom-filter-folder-selection__modal-body_f17u3_41",tidyCustomFilterFolderSelectionNewFolderNameInputError:"_tidy-custom-filter-folder-selection__new-folder-name-input__error_f17u3_46"}})),define("metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters.module.css",["require","exports","css!metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters.module.out.css"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tidyCustomFiltersViewShowMoreClassName=t.tidyCustomFiltersViewFolderSelectionButton=t.tidyCustomFiltersViewFolderIcon=t.tidyCustomFiltersViewFolderSelectionBlock=t.tidyCustomFiltersViewSizeFilterError=t.tidyCustomFiltersViewSizeFilterUnit=t.tidyCustomFiltersViewSizeFilterInput=t.tidyCustomFiltersViewSizeFilterLabel=t.tidyCustomFiltersViewSizeFilterRow=t.tidyCustomFiltersViewDeleteFilterContainer=t.tidyCustomFiltersViewFolderSelectionDropdown=t.tidyCustomFiltersViewFolderSelectionLabel=t.tidyCustomFiltersViewFolderSelectionContainer=t.tidyCustomFiltersViewAddRuleButtonContainer=t.tidyCustomFiltersViewFileExtensionSubmenu=t.tidyCustomFiltersViewFileExtensionButtonLabel=t.tidyCustomFiltersViewChip=t.tidyCustomFiltersViewItemContainer=t.tidyCustomFiltersViewFilterInput=t.tidyCustomFiltersViewFilterRow=t.tidyCustomFiltersViewRuleSelectButtonContainer=t.tidyCustomFiltersViewRuleSelectButtonText=t.tidyCustomFiltersViewCreateNewFilterContainer=t.tidyCustomFiltersViewFilters=t.tidyCustomFiltersViewFilterDefinition=void 0,t.tidyCustomFiltersViewFilterDefinition="_tidy-custom-filters-view__filter-definition_1l8f8_1",t.tidyCustomFiltersViewFilters="_tidy-custom-filters-view__filters_1l8f8_6",t.tidyCustomFiltersViewCreateNewFilterContainer="_tidy-custom-filters-view__create-new-filter-container_1l8f8_11",t.tidyCustomFiltersViewRuleSelectButtonText="_tidy-custom-filters-view__rule-select-button-text_1l8f8_16",t.tidyCustomFiltersViewRuleSelectButtonContainer="_tidy-custom-filters-view__rule-select-button-container_1l8f8_24",t.tidyCustomFiltersViewFilterRow="_tidy-custom-filters-view__filter_row_1l8f8_29",t.tidyCustomFiltersViewFilterInput="_tidy-custom-filters-view__filter_input_1l8f8_35",t.tidyCustomFiltersViewItemContainer="_tidy-custom-filters-view__item_container_1l8f8_40",t.tidyCustomFiltersViewChip="_tidy-custom-filters-view__chip_1l8f8_45",t.tidyCustomFiltersViewFileExtensionButtonLabel="_tidy-custom-filters-view__file_extension_button_label_1l8f8_50",t.tidyCustomFiltersViewFileExtensionSubmenu="_tidy-custom-filters-view__file_extension_submenu_1l8f8_56",t.tidyCustomFiltersViewAddRuleButtonContainer="_tidy-custom-filters-view__add-rule-button-container_1l8f8_60",t.tidyCustomFiltersViewFolderSelectionContainer="_tidy-custom-filters-view__folder-selection-container_1l8f8_66",t.tidyCustomFiltersViewFolderSelectionLabel="_tidy-custom-filters-view__folder-selection-label_1l8f8_72",t.tidyCustomFiltersViewFolderSelectionDropdown="_tidy-custom-filters-view__folder-selection-dropdown_1l8f8_81",t.tidyCustomFiltersViewDeleteFilterContainer="_tidy-custom-filters-view__delete-filter-container_1l8f8_85",t.tidyCustomFiltersViewSizeFilterRow="_tidy-custom-filters-view__size-filter-row_1l8f8_91",t.tidyCustomFiltersViewSizeFilterLabel="_tidy-custom-filters-view__size-filter-label_1l8f8_99",t.tidyCustomFiltersViewSizeFilterInput="_tidy-custom-filters-view__size-filter-input_1l8f8_106",t.tidyCustomFiltersViewSizeFilterUnit="_tidy-custom-filters-view__size-filter-unit_1l8f8_110",t.tidyCustomFiltersViewSizeFilterError="_tidy-custom-filters-view__size-filter_error_1l8f8_115",t.tidyCustomFiltersViewFolderSelectionBlock="_tidy-custom-filters-view__folder-selection-block_1l8f8_123",t.tidyCustomFiltersViewFolderIcon="_tidy-custom-filters-view__folder-icon_1l8f8_131",t.tidyCustomFiltersViewFolderSelectionButton="_tidy-custom-filters-view__folder-selection-button_1l8f8_136",t.tidyCustomFiltersViewShowMoreClassName="_tidy-custom-filters-view__show_more_class_name_1l8f8_144";t.default={tidyCustomFiltersViewFilterDefinition:"_tidy-custom-filters-view__filter-definition_1l8f8_1",tidyCustomFiltersViewFilters:"_tidy-custom-filters-view__filters_1l8f8_6",tidyCustomFiltersViewCreateNewFilterContainer:"_tidy-custom-filters-view__create-new-filter-container_1l8f8_11",tidyCustomFiltersViewRuleSelectButtonText:"_tidy-custom-filters-view__rule-select-button-text_1l8f8_16",tidyCustomFiltersViewRuleSelectButtonContainer:"_tidy-custom-filters-view__rule-select-button-container_1l8f8_24",tidyCustomFiltersViewFilterRow:"_tidy-custom-filters-view__filter_row_1l8f8_29",tidyCustomFiltersViewFilterInput:"_tidy-custom-filters-view__filter_input_1l8f8_35",tidyCustomFiltersViewItemContainer:"_tidy-custom-filters-view__item_container_1l8f8_40",tidyCustomFiltersViewChip:"_tidy-custom-filters-view__chip_1l8f8_45",tidyCustomFiltersViewFileExtensionButtonLabel:"_tidy-custom-filters-view__file_extension_button_label_1l8f8_50",tidyCustomFiltersViewFileExtensionSubmenu:"_tidy-custom-filters-view__file_extension_submenu_1l8f8_56",tidyCustomFiltersViewAddRuleButtonContainer:"_tidy-custom-filters-view__add-rule-button-container_1l8f8_60",tidyCustomFiltersViewFolderSelectionContainer:"_tidy-custom-filters-view__folder-selection-container_1l8f8_66",tidyCustomFiltersViewFolderSelectionLabel:"_tidy-custom-filters-view__folder-selection-label_1l8f8_72",tidyCustomFiltersViewFolderSelectionDropdown:"_tidy-custom-filters-view__folder-selection-dropdown_1l8f8_81",tidyCustomFiltersViewDeleteFilterContainer:"_tidy-custom-filters-view__delete-filter-container_1l8f8_85",tidyCustomFiltersViewSizeFilterRow:"_tidy-custom-filters-view__size-filter-row_1l8f8_91",tidyCustomFiltersViewSizeFilterLabel:"_tidy-custom-filters-view__size-filter-label_1l8f8_99",tidyCustomFiltersViewSizeFilterInput:"_tidy-custom-filters-view__size-filter-input_1l8f8_106",tidyCustomFiltersViewSizeFilterUnit:"_tidy-custom-filters-view__size-filter-unit_1l8f8_110",tidyCustomFiltersViewSizeFilterError:"_tidy-custom-filters-view__size-filter_error_1l8f8_115",tidyCustomFiltersViewFolderSelectionBlock:"_tidy-custom-filters-view__folder-selection-block_1l8f8_123",tidyCustomFiltersViewFolderIcon:"_tidy-custom-filters-view__folder-icon_1l8f8_131",tidyCustomFiltersViewFolderSelectionButton:"_tidy-custom-filters-view__folder-selection-button_1l8f8_136",tidyCustomFiltersViewShowMoreClassName:"_tidy-custom-filters-view__show_more_class_name_1l8f8_144"}})),define("metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters_row",["require","exports","tslib","react","metaserver/static/js/tidy_up/modal/types","dig-components/text_fields","dig-components/menu","dig-components/buttons","dig-components/typography","dig-components/chips","dig-components/controls","react-intl","metaserver/static/js/core/i18n","metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters.module.css","metaserver/static/js/tidy_up/modal/tidy_strings","metaserver/static/js/teams/components/item_truncation_container/item_truncation_container","metaserver/static/js/tidy_up/modal/utils/ts_utils","metaserver/static/js/tidy_up/modal/filters_view/file_categories","dig-components/icons","dig-components/icons/src","dig-components/buttons"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_,y,v,E,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpKeywordTextInput=t.TidyUpSizeInput=t.TidyCustomFiltersRow=void 0,i=a.__importDefault(i),f=a.__importDefault(f);const T=(0,u.defineMessage)({id:"2Fjld/",defaultMessage:"Enter keyword"}),C=(0,u.defineMessage)({id:"B7xr1A",defaultMessage:"Select file extension"}),M=(0,u.defineMessages)({None:{id:"T+ub8I",defaultMessage:"Select rule"},Keyword:{id:"J9sJT/",defaultMessage:"Keyword"},FileExtension:{id:"XQ8kUV",defaultMessage:"File extension"},Size:{id:"iJDd0n",defaultMessage:"Size"}});t.TidyCustomFiltersRow=i.default.memo(({selectedFilterType:e,onRuleChange:a,primarySelection:s,options:d,onDeleteRule:c})=>{const[u,p]=i.default.useState(e),[_,y]=i.default.useState(M.None),[T,C]=i.default.useState(s);i.default.useEffect(()=>{b(u)},[]),i.default.useEffect(()=>{switch(u){case n.TidyCustomFiltersType.Keyword:a({type:u,keywordRule:{keywords:T}});break;case n.TidyCustomFiltersType.FileExtension:a({type:u,fileExtensionRule:{fileExtensions:T}});break;case n.TidyCustomFiltersType.Size:a({type:u,sizeRule:{sizes:T}})}},[T,u]);const b=e=>{switch(u!==e&&C([]),e){case n.TidyCustomFiltersType.Keyword:p(n.TidyCustomFiltersType.Keyword),y(M.Keyword);break;case n.TidyCustomFiltersType.FileExtension:p(n.TidyCustomFiltersType.FileExtension),y(M.FileExtension);break;case n.TidyCustomFiltersType.Size:p(n.TidyCustomFiltersType.Size),y(M.Size)}};let h=i.default.createElement(i.default.Fragment,null),I=!0;switch(u){case n.TidyCustomFiltersType.Keyword:h=i.default.createElement(t.TidyUpKeywordTextInput,{keywords:T,setKeywords:C});break;case n.TidyCustomFiltersType.FileExtension:h=i.default.createElement(N,{selectedFileExtensions:T,setSelectedFileExtensions:C});break;case n.TidyCustomFiltersType.Size:h=i.default.createElement(t.TidyUpSizeInput,{sizes:T,setSizes:C});break;default:I=!1}return i.default.createElement("div",{className:f.default.tidyCustomFiltersViewFilterRow},i.default.createElement(o.Menu.Wrapper,{matchContainingWidth:!0,onSelection:b},({getContentProps:e,getTriggerProps:t})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Button,Object.assign({variant:"opacity",withDropdownIcon:!0},t()),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewRuleSelectButtonContainer},i.default.createElement(r.Text,{className:f.default.tidyCustomFiltersViewRuleSelectButtonText},m.intl.formatMessage(_)))),i.default.createElement(o.Menu.Content,Object.assign({},e()),i.default.createElement(o.Menu.Segment,null,d.map(e=>i.default.createElement(o.Menu.SelectItem,{key:e,value:e,selected:e===u},m.intl.formatMessage(M[e]))))))),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewFilterInput},h,h.type!==t.TidyUpSizeInput&&i.default.createElement("div",{className:f.default.tidyCustomFiltersViewItemContainer},i.default.createElement(g.ItemTruncationContainerWithoutCss,{containerMaxRows:1,items:T,itemsToMoreTooltipString:w,renderItem:F(T,C),showMoreClassName:f.default.tidyCustomFiltersViewShowMoreClassName}))),I&&i.default.createElement(S.IconButton,{variant:"transparent",onClick:c,"data-testid":"delete-button"},i.default.createElement(v.UIIcon,{src:E.DeleteLine})))}),t.TidyCustomFiltersRow.displayName="TidyCustomFiltersRow";const F=(e,t)=>({item:a,ref:n,index:s})=>i.default.createElement("div",{className:f.default.tidyCustomFiltersViewChip,key:s},i.default.createElement(d.InputChip,{key:a,size:"small",ref:n,onDelete:()=>{return i=a,void t(e.filter(e=>e!==i));var i}},a)),w=e=>e.map(e=>e).join(" ");var b;(function(e){e[e.none=0]="none",e[e.invalid_characters=1]="invalid_characters",e[e.too_large=2]="too_large",e[e.invalid_range=3]="invalid_range"})(b||(b={}));var h;t.TidyUpSizeInput=i.default.memo(({sizes:e,setSizes:t})=>{const a=i.default.useRef(null),[n,o]=i.default.useState(2===e.length?e[0].split("_")[0]:"0"),[l,d]=i.default.useState(2===e.length?e[1].split("_")[0]:"0"),[c,u]=i.default.useState(2===e.length?e[0].split("_")[1]:"GB"),[g,y]=i.default.useState(2===e.length?e[1].split("_")[1]:"GB"),[v,E]=i.default.useState(b.none),S=(e,t)=>"GB"===t?1024*parseInt(e,10):parseInt(e,10);i.default.useEffect(()=>/^[0-9]*$/.test(n)&&/^[0-9]*$/.test(l)?S(n,c)>102400?(t([]),void E(b.too_large)):S(l,g)>S(n,c)?(t([]),void E(b.invalid_range)):(t([n.toString()+"_"+c,l.toString()+"_"+g]),void E(b.none)):(t([]),void E(b.invalid_characters)),[v,n,l,c,g]);const T=(e=>{switch(e){case b.none:return;case b.invalid_characters:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.SIZE_INVALID_CHARACTERS_ERROR_LABEL);case b.too_large:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.SIZE_TOO_LARGE_ERROR_LABEL);case b.invalid_range:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.SIZE_INVALID_RANGE_ERROR_LABEL);default:(0,_.throwEnforceExhaustive)(e)}})(v);return i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterRow},i.default.createElement("p",{className:f.default.tidyCustomFiltersViewSizeFilterLabel},p.TIDY_CUSTOM_FILTERS.FILES_GREATER_THAN_LABEL.defaultMessage),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterInput},i.default.createElement(s.TextInput,{value:l,onChange:e=>{d(e.currentTarget.value)},ref:a,isInvalid:v!==b.none,"data-testid":"min-size-input"})),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterUnit},i.default.createElement(s.Select,{id:"min-size-unit","data-testid":"size-unit",value:g,onChange:e=>y(e)},i.default.createElement(s.Select.Option,{value:"GB"},"GB"),i.default.createElement(s.Select.Option,{value:"MB"},"MB")))),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterRow},i.default.createElement("p",{className:f.default.tidyCustomFiltersViewSizeFilterLabel},p.TIDY_CUSTOM_FILTERS.FILES_SMALLER_THAN_LABEL.defaultMessage),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterInput},i.default.createElement(s.TextInput,{value:n,onChange:e=>{o(e.currentTarget.value)},ref:a,isInvalid:v!==b.none,"data-testid":"max-size-input"})),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterUnit},i.default.createElement(s.Select,{id:"max-size-unit","data-testid":"size-unit",value:c,onChange:e=>u(e)},i.default.createElement(s.Select.Option,{value:"GB"},"GB"),i.default.createElement(s.Select.Option,{value:"MB"},"MB")))),v!==b.none&&i.default.createElement("div",{className:f.default.tidyCustomFiltersViewSizeFilterError},i.default.createElement(r.Text,{size:"xsmall",color:"error"},T)))}),t.TidyUpSizeInput.displayName="TidyUpSizeInput",(function(e){e[e.none=0]="none",e[e.no_input=1]="no_input",e[e.invalid_characters=2]="invalid_characters",e[e.too_long=3]="too_long",e[e.already_exists=4]="already_exists"})(h||(h={}));t.TidyUpKeywordTextInput=i.default.memo(({keywords:e,setKeywords:t})=>{const a=i.default.useRef(null),[n,o]=i.default.useState(""),[l,d]=i.default.useState(h.none);i.default.useEffect(()=>{/^[0-9a-zA-Z_]*$/.test(n)?n.length>15?d(h.too_long):l===h.no_input&&0===n.length||(-1===e.indexOf(n)?d(h.none):d(h.already_exists)):d(h.invalid_characters)},[l,n,e]);const c=(e=>{switch(e){case h.none:return;case h.no_input:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.KEYWORD_EMPTY_INPUT_ERROR_LABEL);case h.invalid_characters:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.KEYWORD_INVALID_CHARACTERS_ERROR_LABEL);case h.too_long:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.KEYWORD_TOO_LONG_ERROR_LABEL);case h.already_exists:return m.intl.formatMessage(p.TIDY_CUSTOM_FILTERS.KEYWORD_ALREADY_EXISTS_ERROR_LABEL);default:(0,_.throwEnforceExhaustive)(e)}})(l);return i.default.createElement(i.default.Fragment,null,i.default.createElement(s.TextInput,{placeholder:m.intl.formatMessage(T),value:n,onChange:e=>o(e.currentTarget.value),onKeyDown:a=>{"Enter"===a.key&&l===h.none&&(""===n?d(h.no_input):(t([...e,n]),o("")))},ref:a,isInvalid:l!==h.none}),l!==h.none&&i.default.createElement(r.Text,{size:"xsmall",color:"error"},c))}),t.TidyUpKeywordTextInput.displayName="TidyUpKeywordTextInput";const N=i.default.memo(({selectedFileExtensions:e,setSelectedFileExtensions:t})=>{const a=a=>{a.target.checked?t([...e,a.target.value]):t(e.filter(e=>e!==a.target.value))},n=a=>{var i;const n=null!==(i=y.FileCategories.get(a.target.value))&&void 0!==i?i:[];if(a.target.checked){const a=new Set([...e,...n]);t(Array.from(a))}else t(e.filter(e=>!n.includes(e)))},s=t=>{var a;const i=null!==(a=y.FileCategories.get(t))&&void 0!==a?a:[];let n=0;return i.forEach(t=>{e.includes(t)&&n++}),n>0&&n!==i.length},d=t=>{var a;const i=null!==(a=y.FileCategories.get(t))&&void 0!==a?a:[];let n=0;return i.forEach(t=>{e.includes(t)&&n++}),n===i.length};return i.default.useEffect(()=>{t(e)},[e]),i.default.useEffect(()=>{t(e)},[e]),i.default.createElement(o.Menu.Wrapper,{hasMaxHeight:336},({getContentProps:t,getTriggerProps:u})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(l.Button,Object.assign({variant:"opacity",withDropdownIcon:!0},u()),i.default.createElement("div",{className:f.default.tidyCustomFiltersViewFileExtensionButtonLabel},i.default.createElement(r.Text,null,m.intl.formatMessage(C)))),i.default.createElement(o.Menu.Content,Object.assign({},t()),i.default.createElement(o.Menu.Segment,null,Array.from(y.FileCategories.entries()).map(t=>{var l;const[r,u]=t,p=null!==(l=y.FileCategoriesMessages.get(r))&&void 0!==l?l:{};return i.default.createElement(o.Menu.Submenu,{id:r,key:r,withTriggerContent:m.intl.formatMessage(p),withLeftAccessory:i.default.createElement(c.Checkbox,{checked:d(r),isIndeterminate:s(r),readOnly:!0,tabIndex:-1,value:r,onChange:n}),contentClassName:f.default.tidyCustomFiltersViewFileExtensionSubmenu},i.default.createElement(o.Menu.Segment,null,u.map(t=>i.default.createElement(o.Menu.SelectItem,{key:t,withLeftAccessory:i.default.createElement(c.Checkbox,{checked:e.includes(t),readOnly:!0,tabIndex:-1,value:t,onChange:a})},t))))})))))});N.displayName="TidyUpFileExtensionSelection"})),define("metaserver/static/js/tidy_up/modal/filters_view/tidy_filters",["require","exports","tslib","react","dig-components/typography","dig-components/buttons","dig-components/modal","metaserver/static/js/tidy_up/modal/tidy_strings","metaserver/static/js/tidy_up/modal/tidy_up_header","metaserver/static/js/core/i18n","metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters.module.css","metaserver/static/js/tidy_up/modal/filters_view/tidy_custom_filters_row","metaserver/static/js/tidy_up/modal/types","dig-components/icons/src","dig-components/icons","metaserver/static/js/tidy_up/modal/filters_view/folder_selection","js/filepath/filepath"],(function(e,t,a,i,n,s,o,l,r,d,c,u,m,f,p,g,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TidyUpCustomFiltersView=void 0,i=a.__importDefault(i),c=a.__importDefault(c),_=a.__importStar(_);const y=[m.TidyCustomFiltersType.FileExtension,m.TidyCustomFiltersType.Keyword,m.TidyCustomFiltersType.Size];t.TidyUpCustomFiltersView=({onPreview:e,onCancel:t,onBack:a,setCustomFilterParameters:n,customFilterParameters:c,subfolderPaths:u,setTidyStateType:f,setCustomFilterFolderSelectionIndex:p,rootFolderDisplayName:g,isUsedInAutomation:_,updateLastSetRuleType:y})=>{i.default.useEffect(()=>{0===c.filters.length&&n({filters:[{id:Date.now(),rules:[{type:m.TidyCustomFiltersType.None}],actions:{destination:void 0}}]})},[c]);const E=i.default.useCallback((e,t,a,i)=>{const s={id:c.filters[e].id,rules:[...c.filters[e].rules],actions:Object.assign({},c.filters[e].actions)};void 0!==a&&void 0!==t&&(s.rules[t]=a),i&&(s.actions.destination=i),n({filters:c.filters.slice(0,e).concat([s]).concat(c.filters.slice(e+1))})},[c]),T=()=>c.filters.every(e=>e.rules.every(t=>(t.keywordRule&&t.keywordRule.keywords&&t.keywordRule.keywords.length>0||t.fileExtensionRule&&t.fileExtensionRule.fileExtensions&&t.fileExtensionRule.fileExtensions.length>0||t.sizeRule&&2==t.sizeRule.sizes.length)&&void 0!==e.actions.destination)),C=i.default.useCallback(e=>{const t={id:c.filters[e].id,rules:[...c.filters[e].rules,{type:m.TidyCustomFiltersType.None}],actions:c.filters[e].actions};n({filters:c.filters.slice(0,e).concat([t]).concat(c.filters.slice(e+1))})},[c]),M=i.default.useCallback(()=>{n({filters:[...c.filters,{id:Date.now(),rules:[{type:m.TidyCustomFiltersType.None}],actions:{destination:void 0}}]})},[c]),F=i.default.useCallback((e,t)=>{const a=c.filters[e].rules;a.splice(t,1);const i={id:c.filters[e].id,rules:0===a.length?[{type:m.TidyCustomFiltersType.None}]:a,actions:0===a.length?{destination:void 0}:c.filters[e].actions};n({filters:c.filters.slice(0,e).concat([i]).concat(c.filters.slice(e+1))}),y(m.TidyCustomFiltersType.None)},[c,y]),w=i.default.useCallback(e=>{const t=Array.from(c.filters);t.splice(e,1),n({filters:t}),y(m.TidyCustomFiltersType.None)},[c,y]);return _?i.default.createElement(S,{customFilterParameters:c,addRule:C,addFilter:M,deleteFilter:w,areFiltersValid:T,updateFilter:E,deleteRule:F,rootFolderDisplayName:g,setCustomFilterFolderSelectionIndex:p,setTidyStateType:f,isUsedInAutomation:_,updateLastSetRuleType:y}):i.default.createElement(i.default.Fragment,null,i.default.createElement(r.TidyUpModalHeader,{label:l.TIDY_CUSTOM_FILTERS.HEADER_LABEL}),i.default.createElement(o.Modal.Body,null,i.default.createElement(S,{customFilterParameters:c,addRule:C,addFilter:M,deleteFilter:w,areFiltersValid:T,updateFilter:E,deleteRule:F,rootFolderDisplayName:g,setCustomFilterFolderSelectionIndex:p,setTidyStateType:f,isUsedInAutomation:_,updateLastSetRuleType:y})),i.default.createElement(o.Modal.Footer,null,i.default.createElement(s.Button,{variant:"transparent",onClick:a},d.intl.formatMessage(l.TIDY_UP_MODAL_BACK_LABEL)),i.default.createElement(s.Button,{variant:"opacity",onClick:t},d.intl.formatMessage(l.TIDY_UP_MODAL_CANCEL_LABEL)),i.default.createElement(v,{onPreview:e,isDisabled:!T()})))},t.TidyUpCustomFiltersView.displayName="TidyUpCustomFiltersView";const v=({onPreview:e,isDisabled:t})=>i.default.createElement(s.Button,{variant:"primary",onClick:e,disabled:t},d.intl.formatMessage(l.TIDY_UP_MODAL_PREVIEW_LABEL));v.displayName="TidyCustomFiltersPreviewButton";const E=({filterIndex:e,ruleIndex:t,type:a,updateFilter:n,rule:s,options:o,deleteRule:l,updateLastSetRuleType:r})=>{var d;const c=i.default.useCallback(a=>{n(e,t,a),r(a.type)},[n,r,e,t]);let f=[];switch(a){case m.TidyCustomFiltersType.None:1===o.length&&(a=o[0]);break;case m.TidyCustomFiltersType.Keyword:f=s.keywordRule?s.keywordRule.keywords:[];break;case m.TidyCustomFiltersType.FileExtension:f=s.fileExtensionRule?s.fileExtensionRule.fileExtensions:[];break;case m.TidyCustomFiltersType.Size:f=s.sizeRule?null===(d=s.sizeRule)||void 0===d?void 0:d.sizes:[]}return i.default.createElement("div",{key:a},i.default.createElement(u.TidyCustomFiltersRow,{selectedFilterType:a,onRuleChange:c,primarySelection:f,options:o,onDeleteRule:()=>l(e,t),key:a}))};E.displayName="TidyCustomFilterList";const S=({customFilterParameters:e,addRule:t,addFilter:a,deleteFilter:o,areFiltersValid:r,updateFilter:u,deleteRule:v,setTidyStateType:S,setCustomFilterFolderSelectionIndex:T,rootFolderDisplayName:C,isUsedInAutomation:M,updateLastSetRuleType:F})=>i.default.createElement(i.default.Fragment,null,i.default.createElement(n.Text,null,d.intl.formatMessage(l.TIDY_CUSTOM_FILTERS.BODY_LABEL)),i.default.createElement("div",{className:M?"":c.default.tidyCustomFiltersViewFilters},e.filters.map((a,r)=>i.default.createElement("div",{className:c.default.tidyCustomFiltersViewFilterDefinition,key:a.id},a.rules.map((e,t)=>{const n=a.rules.map(e=>e.type),s=y.filter(e=>!n.includes(e));return i.default.createElement(E,{key:e.type,filterIndex:r,ruleIndex:t,type:e.type,rule:e,updateFilter:u,options:s,deleteRule:v,updateLastSetRuleType:F})}),i.default.createElement("div",{className:c.default.tidyCustomFiltersViewAddRuleButtonContainer},i.default.createElement(s.Button,{variant:"transparent",onClick:()=>t(r),disabled:a.rules.length===y.length||a.rules.some(e=>e.type===m.TidyCustomFiltersType.None)},d.intl.formatMessage(l.TIDY_CUSTOM_FILTERS.ADD_RULE_LABEL))),!(1===a.rules.length&&a.rules[0].type===m.TidyCustomFiltersType.None)&&i.default.createElement("div",{className:c.default.tidyCustomFiltersViewFolderSelectionContainer},i.default.createElement("div",{className:c.default.tidyCustomFiltersViewFolderSelectionLabel},i.default.createElement(n.Text,{color:"faint"},d.intl.formatMessage(l.TIDY_CUSTOM_FILTERS.FOLDER_SELECTION_LABEL))),i.default.createElement("div",{className:c.default.tidyCustomFiltersViewFolderSelectionBlock},void 0!==a.actions.destination?i.default.createElement("div",{className:c.default.tidyCustomFiltersViewFolderIcon},i.default.createElement(g.FolderIconAndName,{folderName:_.filename(a.actions.destination,C)})):i.default.createElement(g.FolderIconAndName,null),i.default.createElement(s.Button,{variant:"transparent",onClick:()=>{T(r),S(m.TidyStateType.CustomFilterFolderSelection)},className:c.default.tidyCustomFiltersViewFolderSelectionButton},d.intl.formatMessage(l.TIDY_FOLDER_SELECTION.folderSelectionButtonLabel)))),(!(1===a.rules.length&&a.rules[0].type===m.TidyCustomFiltersType.None)||e.filters.length>1)&&i.default.createElement("div",{className:c.default.tidyCustomFiltersViewDeleteFilterContainer},i.default.createElement(s.Button,{variant:"transparent",onClick:()=>o(r)},d.intl.formatMessage(l.TIDY_CUSTOM_FILTERS.DELETE_FILTER_LABEL)))))),i.default.createElement("div",{className:c.default.tidyCustomFiltersViewCreateNewFilterContainer},i.default.createElement(s.Button,{variant:"transparent",withIconLeft:i.default.createElement(p.UIIcon,{src:f.AddCircleLine,role:"presentation"}),onClick:a,disabled:!r()},d.intl.formatMessage(l.TIDY_CUSTOM_FILTERS.CREATE_FILTER_LABEL))));S.displayName="CustomFiltersSelection"})),define("metaserver/static/js/tidy_up/modal/utils/ts_utils",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwEnforceExhaustive=t.enforceExhaustive=void 0,t.enforceExhaustive=function(e){return e},t.throwEnforceExhaustive=function(e,t){throw new Error(`${t} (value=${e})`)}}));
//# sourceMappingURL=pkg-flows-actions.min.js-vflF3FzpI.map